import{d as we,o as No,G as Kv,h as P,A as H,s as ai,H as Ft,I as mA,a as Lc,J as zv,K as Tt,L as ts,M as Re,N as ie,O as me,P as iA,Q as Gv,R as ql,S as To,T as ua,U as oe,V as so,W as na,X as da,Y as vi,Z as kl,$ as Xo,a0 as Ut,a1 as vt,a2 as Va,a3 as rA,a4 as jv,a5 as Wv,a6 as ht,a7 as Ea,a8 as tr,a9 as ut,aa as Pa,ab as uo,l as F,ac as _a,ad as Jv,ae as Ji,af as Bi,ag as pt,ah as en,ai as Je,c as qo,i as R,aj as yr,ak as or,al as ku,am as Ta,an as zn,ao as Hc,ap as Tc,aq as Xv,ar as $c,as as Gn,at as os,au as Vc,av as Yv,aw as Zv,ax as Ku,ay as eh,az as Pr,aA as th,aB as Nc,aC as tn,aD as oh,aE as Zm,aF as ah,aG as ih,aH as So,aI as Is,aJ as rh,aK as St,aL as wi,aM as ef,aN as qc,aO as Yr,aP as on,aQ as tf,aR as Ah,aS as nh,aT as sh,aU as zu,aV as fA,aW as of,aX as kc,aY as af,aZ as Nt,a_ as lh,a$ as rf,b0 as mi,b1 as oi,b2 as as,b3 as jn,b4 as ch,b5 as Kc,b6 as an,b7 as Lr,b8 as Af,b9 as _r,ba as $o,bb as Vt,bc as nf,bd as zc,be as uh,bf as Gc,bg as sf,bh as dh,bi as ja,bj as mh,bk as AA,bl as lf,bm as jc,bn as Wc,bo as Jc,bp as Xc,bq as fh,br as is,bs as fr,bt as ph,bu as gh,bv as cf,bw as rn,bx as vh,by as hh,bz as Bh,bA as Ch,bB as bh,bC as mn,bD as uf,bE as sr,bF as Yc,bG as rl,bH as Gu,bI as CA,bJ as wh,bK as Fh,bL as ju,bM as Qh,bN as Eh,bO as yh,bP as Wu,bQ as Ih,bR as Xi,bS as Uh,bT as Sh,z as w,B as q,D as E,bU as C,bV as df,C as le,bW as K,bX as Dh,bY as ge,bZ as Us,b_ as be,b$ as Ze,_ as fa,c0 as xh,c1 as Fo,c2 as bo,c3 as Aa,c4 as Fa,c5 as ar,c6 as ii,c7 as Mi,c8 as Zc,c9 as mf,ca as ff,cb as aa,cc as eu,cd as Ph,ce as Ya,cf as Ro,cg as qt,E as U,ch as tu,ci as pa,cj as po,ck as Wa,cl as _h,F as Pt,cm as Ne,cn as Se,co as ou,cp as Ss,cq as Zt,cr as Oh,cs as ya,ct as pf,cu as gf,cv as Rh,cw as au,cx as Ia,cy as Qr,cz as iu,cA as vf,cB as ga,cC as hf,cD as bA,cE as yt,cF as Ds,cG as Mh,cH as xo,cI as zA,cJ as xs,cK as Da,cL as ta,cM as Bf,cN as Ju,cO as Lh,cP as Ir,cQ as Hh,cR as Th,cS as $h,cT as Vh,cU as Ui,cV as Nh,cW as qh,cX as kh,cY as Cf,cZ as ru,c_ as bf,c$ as Au,d0 as Kh,d1 as Ps,d2 as zh,f as Oi,d3 as rs,d4 as wf,d5 as Ff,d6 as Gh,d7 as jh,d8 as Wh,d9 as Jh,da as Xh,db as Yh,dc as Zh,dd as eB,de as tB,df as Xu,dg as Qf,dh as Ef,di as oB,dj as aB,n as nu,dk as iB,dl as rB,dm as AB,dn as nB}from"#entry";const sB=Symbol.for("nuxt:client-only"),lB=we({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:o}){const a=ai(!1);No(()=>{a.value=!0});const i=Ft();return i&&(i._nuxtClientOnly=!0),mA(sB,!0),()=>{if(a.value){const s=t.default?.();return s&&s.length===1?[Kv(s[0],o)]:s}const r=t.fallback||t.placeholder;if(r)return P(r);const A=e.fallback||e.placeholder||"",n=e.fallbackTag||e.placeholderTag||"span";return H(n,o,A)}}}),cB="$s";function yf(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);const[o,a]=e;if(!o||typeof o!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+o);if(a!==void 0&&typeof a!="function")throw new Error("[nuxt] [useState] init must be a function: "+a);const i=cB+o,r=Lc(),A=zv(r.payload.state,i);if(A.value===void 0&&a){const n=a();if(Tt(n))return r.payload.state[i]=n,n;A.value=n}return A}function Ca(e){return ts(e)==="boolean"}function su(e){return ts(e)==="regexp"}function Po(e){return ts(e)==="function"||ts(e)==="asyncfunction"}function uB(e){return Ca(e)||Re(e)||ie(e)||me(e)}function pA(e){return iA(e)&&Object.keys(e).length===0}function If(e,t="cpf"){const o=dB(e,t);if(Array.isArray(o)){const a=mB(o.length);if(Array.isArray(a)){const i=o.slice(0,-2),[r,A]=o.slice(-2);return Yu(i,a.slice(1))===r&&Yu(i.concat(r),a)===A}return!1}return!1}function dB(e,t){if(ie(e)&&(e=e.toString()),!Re(e))return!1;e=e.replace(/\D+/g,"");const o=t==="cnpj"?14:11;return e.length!==o||[...Array.from({length:o-1}).keys()].map(i=>String(i).repeat(o)).includes(e)?!1:e.split("").map(Number)}function mB(e){const t={cpf:[11,10,9,8,7,6,5,4,3,2],cnpj:[6,5,4,3,2,9,8,7,6,5,4,3,2]};return e===11?t.cpf:e===14?t.cnpj:!1}function Yu(e,t){return e.map((i,r)=>i*t[r]).reduce((i,r)=>i+r,0)*10%11%10}function fB(e){return If(e,"cnpj")}function pB(e){return If(e,"cpf")}function gB(e){const t=e.replace(/[.-]/g,"");if(t.length<20)return!1;const o=t.slice(0,7),a=t.slice(7,9),i=t.slice(9,13),r=t.slice(13,14),A=t.slice(14,16),n=t.slice(16,20),c=+`${+`${Number(o)%97}${i}${r}${A}`%97}${n}00`%97;return Number(a)===98-c}function Yi(e){return ie(e)?Number.isFinite(e):Re(e)?!Number.isNaN(Number.parseFloat(e)):!1}function As(e,t){if(!Gv(e))throw new Error("A função aceita somente datas válidas!");const o=e.getFullYear(),a=e.getMonth(),i=0;let r=Math.floor(t/360),A=Math.floor((t-r*360)/30),n=t-r*360-A*30+e.getDate();n>30&&(A+=Math.floor(n/30),n-=Math.floor(n/30)*30,A>12&&(r+=Math.floor(A/12),A-=Math.floor(A/12)*12));const s=o+r;let l=a+A,c=i+n;return c===29&&l===1&&ql(s)===28&&(l+=1,c=1),new Date(s,l,c,0,0,0,0)}function Al(e){return To(e,ua(e))}function vB(e,t){return("0".repeat(t)+e).slice(-t)}function hB(e,t){return(e+"0".repeat(t)).slice(0,t)}function Wn(e,t,o){let[a,i]=e.toString().split(".");return t=t??a.length,a=vB(a,t),o===0||i===void 0&&o===void 0?a:(i=i??"0",o=o??i.length,i=hB(i,o),`${a}.${i}`)}function DA(e,t=0){const o=e.toString(),[a,i]=o.split(".");if(!Number(i)||i.length===t||t<0)return e;if(t===0&&Number(a)===0)return 0;const r=Math.min(t,i.length),A=Number(t===0?a.slice(a.length-1):i.slice(0,t)),n=Number(i.slice(t,t+1)),s=Number(i.slice(t+1));function l(){return t===0?Number(a):+`${a}.${Wn(A,r)}`}function c(){return t===0||A+1===10**t?Number(a)+1:+`${a}.${Wn(A+1,r)}`}return n<5?l():n>5||n===5&&s>0||A%2===1&&n===5&&s===0?c():A%2===0&&n===5&&s===0?l():+`${a}.${Wn(A,r)}`}function BB(e){let i="";for(;e>=0;)i=`${String.fromCharCode(e%26+65)}${i}`,e=Math.floor(e/26)-1;return i}function de(e){if(ie(e)){if(Yi(e))return e;throw new Error("Somente valores numéricos são aceitos!")}if(!Re(e)||!Yi(e.replace(/[^-\d.]/g,"")))throw new Error("Somente valores numéricos são aceitos!");if((e.includes(".")||e.includes(","))&&((e.lastIndexOf(".")>e.lastIndexOf(",")?".":",")==="."?e=e.replace(/,/g,""):e=e.replace(/\./g,"").replace(/,/,".")),e=e.replace(/[^-\d.]/g,""),!/^-?[\d.]+$/.test(e))throw new Error("Entrada inválida!");return Number.parseFloat(e)}const CB=[["M",1e3],["CM",900],["D",500],["CD",400],["C",100],["XC",90],["L",50],["XL",40],["X",10],["IX",9],["V",5],["IV",4],["I",1]];function bB(e){return CB.reduce((t,[o,a])=>(t+=o.repeat(Math.floor(e/a)),e=e%a,t),"")}function wB(e){const t=de(e),o={style:"currency",currency:"BRL",signDisplay:"auto"};return new Intl.NumberFormat("pt-BR",o).format(t)}function FB(e,t=0){if(!Yi(e))throw new Error("A função aceita somente valores numéricos!");const o={style:"decimal",minimumFractionDigits:t,maximumFractionDigits:t,signDisplay:"auto"};return new Intl.NumberFormat("pt-BR",o).format(de(e))}function Uf(e,t,o){return uB(e)?me(e)?o.findIndex(a=>me(a)&&a.valueOf()===e.valueOf())===t:o.indexOf(e)===t:!1}function HA(e){return new Date(e.valueOf())}function Sf(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function ma(e){return Sf(e)}function xt(e){if(e){if(me(e))return ma(e);if(Re(e)){const t=new oe(e);if(t.dataValida())return t.nativo()}}}function Ci(e){return new oe(e).adicionar(-1,so.Dias).nativo()}function QB(e,t){if(na(t,e))throw new Error("A data final não pode ser anterior à data inicial para diferença de datas em dias 365");if(da(e,t))return e.getDate()===1&&Al(t)?29:t.getDate()-e.getDate();let o=t.getFullYear()-e.getFullYear(),a=t.getMonth()-e.getMonth(),i=t.getDate(),r=e.getDate();Al(e)&&(r=30),Al(t)&&(i=30);let A=i-r;return A<0&&(a-=1,A+=30),a<0&&(o-=1,a+=12),o*365+a*30+A}function Li(e){return new oe(e).adicionar(1,so.Dias).nativo()}function lu(e,t){const o=vi(e,t,so.Meses)+1;return o<=0?[]:kl(o).map(a=>Xo(e,a).toLocaleDateString("pt-BR"))}function ir(){return Sf(new Date)}const EB={1:{meses:0,dias:1},2:{meses:0,dias:2},3:{meses:0,dias:3},4:{meses:0,dias:4},5:{meses:0,dias:5},6:{meses:0,dias:6},7:{meses:0,dias:7},8:{meses:0,dias:8},9:{meses:0,dias:9},10:{meses:0,dias:10},11:{meses:0,dias:11},12:{meses:0,dias:12},13:{meses:0,dias:13},14:{meses:0,dias:14},15:{meses:0,dias:15},16:{meses:0,dias:16},17:{meses:0,dias:17},18:{meses:0,dias:18},19:{meses:0,dias:19},20:{meses:0,dias:20},21:{meses:0,dias:21},22:{meses:0,dias:22},23:{meses:0,dias:23},24:{meses:0,dias:24},25:{meses:0,dias:25},26:{meses:0,dias:26},27:{meses:0,dias:27},28:{meses:0,dias:28},29:{meses:0,dias:29},30:{meses:0,dias:30},31:{meses:1,dias:0},32:{meses:1,dias:1},33:{meses:1,dias:2},34:{meses:1,dias:3},35:{meses:1,dias:4},36:{meses:1,dias:5},37:{meses:1,dias:6},38:{meses:1,dias:7},39:{meses:1,dias:8},40:{meses:1,dias:9},41:{meses:1,dias:10},42:{meses:1,dias:11},43:{meses:1,dias:12},44:{meses:1,dias:13},45:{meses:1,dias:14},46:{meses:1,dias:15},47:{meses:1,dias:16},48:{meses:1,dias:17},49:{meses:1,dias:18},50:{meses:1,dias:19},51:{meses:1,dias:20},52:{meses:1,dias:21},53:{meses:1,dias:22},54:{meses:1,dias:23},55:{meses:1,dias:24},56:{meses:1,dias:25},57:{meses:1,dias:26},58:{meses:1,dias:27},59:{meses:2,dias:0},60:{meses:2,dias:1},61:{meses:2,dias:2},62:{meses:2,dias:3},63:{meses:2,dias:4},64:{meses:2,dias:5},65:{meses:2,dias:6},66:{meses:2,dias:7},67:{meses:2,dias:8},68:{meses:2,dias:9},69:{meses:2,dias:10},70:{meses:2,dias:11},71:{meses:2,dias:12},72:{meses:2,dias:13},73:{meses:2,dias:14},74:{meses:2,dias:15},75:{meses:2,dias:16},76:{meses:2,dias:17},77:{meses:2,dias:18},78:{meses:2,dias:19},79:{meses:2,dias:20},80:{meses:2,dias:21},81:{meses:2,dias:22},82:{meses:2,dias:23},83:{meses:2,dias:24},84:{meses:2,dias:25},85:{meses:2,dias:26},86:{meses:2,dias:27},87:{meses:2,dias:28},88:{meses:2,dias:29},89:{meses:2,dias:30},90:{meses:3,dias:0},91:{meses:3,dias:1},92:{meses:3,dias:2},93:{meses:3,dias:3},94:{meses:3,dias:4},95:{meses:3,dias:5},96:{meses:3,dias:6},97:{meses:3,dias:7},98:{meses:3,dias:8},99:{meses:3,dias:9},100:{meses:3,dias:10},101:{meses:3,dias:11},102:{meses:3,dias:12},103:{meses:3,dias:13},104:{meses:3,dias:14},105:{meses:3,dias:15},106:{meses:3,dias:16},107:{meses:3,dias:17},108:{meses:3,dias:18},109:{meses:3,dias:19},110:{meses:3,dias:20},111:{meses:3,dias:21},112:{meses:3,dias:22},113:{meses:3,dias:23},114:{meses:3,dias:24},115:{meses:3,dias:25},116:{meses:3,dias:26},117:{meses:3,dias:27},118:{meses:3,dias:28},119:{meses:3,dias:29},120:{meses:4,dias:0},121:{meses:4,dias:1},122:{meses:4,dias:2},123:{meses:4,dias:3},124:{meses:4,dias:4},125:{meses:4,dias:5},126:{meses:4,dias:6},127:{meses:4,dias:7},128:{meses:4,dias:8},129:{meses:4,dias:9},130:{meses:4,dias:10},131:{meses:4,dias:11},132:{meses:4,dias:12},133:{meses:4,dias:13},134:{meses:4,dias:14},135:{meses:4,dias:15},136:{meses:4,dias:16},137:{meses:4,dias:17},138:{meses:4,dias:18},139:{meses:4,dias:19},140:{meses:4,dias:20},141:{meses:4,dias:21},142:{meses:4,dias:22},143:{meses:4,dias:23},144:{meses:4,dias:24},145:{meses:4,dias:25},146:{meses:4,dias:26},147:{meses:4,dias:27},148:{meses:4,dias:28},149:{meses:4,dias:29},150:{meses:4,dias:30},151:{meses:5,dias:0},152:{meses:5,dias:1},153:{meses:5,dias:2},154:{meses:5,dias:3},155:{meses:5,dias:4},156:{meses:5,dias:5},157:{meses:5,dias:6},158:{meses:5,dias:7},159:{meses:5,dias:8},160:{meses:5,dias:9},161:{meses:5,dias:10},162:{meses:5,dias:11},163:{meses:5,dias:12},164:{meses:5,dias:13},165:{meses:5,dias:14},166:{meses:5,dias:15},167:{meses:5,dias:16},168:{meses:5,dias:17},169:{meses:5,dias:18},170:{meses:5,dias:19},171:{meses:5,dias:20},172:{meses:5,dias:21},173:{meses:5,dias:22},174:{meses:5,dias:23},175:{meses:5,dias:24},176:{meses:5,dias:25},177:{meses:5,dias:26},178:{meses:5,dias:27},179:{meses:5,dias:28},180:{meses:5,dias:29},181:{meses:6,dias:0},182:{meses:6,dias:1},183:{meses:6,dias:2},184:{meses:6,dias:3},185:{meses:6,dias:4},186:{meses:6,dias:5},187:{meses:6,dias:6},188:{meses:6,dias:7},189:{meses:6,dias:8},190:{meses:6,dias:9},191:{meses:6,dias:10},192:{meses:6,dias:11},193:{meses:6,dias:12},194:{meses:6,dias:13},195:{meses:6,dias:14},196:{meses:6,dias:15},197:{meses:6,dias:16},198:{meses:6,dias:17},199:{meses:6,dias:18},200:{meses:6,dias:19},201:{meses:6,dias:20},202:{meses:6,dias:21},203:{meses:6,dias:22},204:{meses:6,dias:23},205:{meses:6,dias:24},206:{meses:6,dias:25},207:{meses:6,dias:26},208:{meses:6,dias:27},209:{meses:6,dias:28},210:{meses:6,dias:29},211:{meses:6,dias:30},212:{meses:7,dias:0},213:{meses:7,dias:1},214:{meses:7,dias:2},215:{meses:7,dias:3},216:{meses:7,dias:4},217:{meses:7,dias:5},218:{meses:7,dias:6},219:{meses:7,dias:7},220:{meses:7,dias:8},221:{meses:7,dias:9},222:{meses:7,dias:10},223:{meses:7,dias:11},224:{meses:7,dias:12},225:{meses:7,dias:13},226:{meses:7,dias:14},227:{meses:7,dias:15},228:{meses:7,dias:16},229:{meses:7,dias:17},230:{meses:7,dias:18},231:{meses:7,dias:19},232:{meses:7,dias:20},233:{meses:7,dias:21},234:{meses:7,dias:22},235:{meses:7,dias:23},236:{meses:7,dias:24},237:{meses:7,dias:25},238:{meses:7,dias:26},239:{meses:7,dias:27},240:{meses:7,dias:28},241:{meses:7,dias:29},242:{meses:7,dias:30},243:{meses:8,dias:0},244:{meses:8,dias:1},245:{meses:8,dias:2},246:{meses:8,dias:3},247:{meses:8,dias:4},248:{meses:8,dias:5},249:{meses:8,dias:6},250:{meses:8,dias:7},251:{meses:8,dias:8},252:{meses:8,dias:9},253:{meses:8,dias:10},254:{meses:8,dias:11},255:{meses:8,dias:12},256:{meses:8,dias:13},257:{meses:8,dias:14},258:{meses:8,dias:15},259:{meses:8,dias:16},260:{meses:8,dias:17},261:{meses:8,dias:18},262:{meses:8,dias:19},263:{meses:8,dias:20},264:{meses:8,dias:21},265:{meses:8,dias:22},266:{meses:8,dias:23},267:{meses:8,dias:24},268:{meses:8,dias:25},269:{meses:8,dias:26},270:{meses:8,dias:27},271:{meses:8,dias:28},272:{meses:8,dias:29},273:{meses:9,dias:0},274:{meses:9,dias:1},275:{meses:9,dias:2},276:{meses:9,dias:3},277:{meses:9,dias:4},278:{meses:9,dias:5},279:{meses:9,dias:6},280:{meses:9,dias:7},281:{meses:9,dias:8},282:{meses:9,dias:9},283:{meses:9,dias:10},284:{meses:9,dias:11},285:{meses:9,dias:12},286:{meses:9,dias:13},287:{meses:9,dias:14},288:{meses:9,dias:15},289:{meses:9,dias:16},290:{meses:9,dias:17},291:{meses:9,dias:18},292:{meses:9,dias:19},293:{meses:9,dias:20},294:{meses:9,dias:21},295:{meses:9,dias:22},296:{meses:9,dias:23},297:{meses:9,dias:24},298:{meses:9,dias:25},299:{meses:9,dias:26},300:{meses:9,dias:27},301:{meses:9,dias:28},302:{meses:9,dias:29},303:{meses:9,dias:30},304:{meses:10,dias:0},305:{meses:10,dias:1},306:{meses:10,dias:2},307:{meses:10,dias:3},308:{meses:10,dias:4},309:{meses:10,dias:5},310:{meses:10,dias:6},311:{meses:10,dias:7},312:{meses:10,dias:8},313:{meses:10,dias:9},314:{meses:10,dias:10},315:{meses:10,dias:11},316:{meses:10,dias:12},317:{meses:10,dias:13},318:{meses:10,dias:14},319:{meses:10,dias:15},320:{meses:10,dias:16},321:{meses:10,dias:17},322:{meses:10,dias:18},323:{meses:10,dias:19},324:{meses:10,dias:20},325:{meses:10,dias:21},326:{meses:10,dias:22},327:{meses:10,dias:23},328:{meses:10,dias:24},329:{meses:10,dias:25},330:{meses:10,dias:26},331:{meses:10,dias:27},332:{meses:10,dias:28},333:{meses:10,dias:29},334:{meses:11,dias:0},335:{meses:11,dias:1},336:{meses:11,dias:2},337:{meses:11,dias:3},338:{meses:11,dias:4},339:{meses:11,dias:5},340:{meses:11,dias:6},341:{meses:11,dias:7},342:{meses:11,dias:8},343:{meses:11,dias:9},344:{meses:11,dias:10},345:{meses:11,dias:11},346:{meses:11,dias:12},347:{meses:11,dias:13},348:{meses:11,dias:14},349:{meses:11,dias:15},350:{meses:11,dias:16},351:{meses:11,dias:17},352:{meses:11,dias:18},353:{meses:11,dias:19},354:{meses:11,dias:20},355:{meses:11,dias:21},356:{meses:11,dias:22},357:{meses:11,dias:23},358:{meses:11,dias:24},359:{meses:11,dias:25},360:{meses:11,dias:26},361:{meses:11,dias:27},362:{meses:11,dias:28},363:{meses:11,dias:29},364:{meses:11,dias:30},365:{meses:0,dias:0}};class st{static anosMesesDias(t,o="anos360"){if(o==="anos365Tabela")return this.anosMesesDias365Tabela(t);const a=o==="anos360"?360:365;t=Ut(t,0);const i=Ut(t/a,0),r=Ut((t-i*a)/30,0),A=t-a*i-30*r;return{anos:i,meses:r,dias:A}}static anosMesesDias365(t){return this.anosMesesDias(t,"anos365")}static anosMesesDias365Tabela(t){t=Ut(t,0);const o=Ut(t/365,0),a=t-o*365;if(!a)return{anos:o,meses:0,dias:0};const i=EB[a],r=i.meses,A=i.dias;return{anos:o,meses:r,dias:A}}static sequencial(t,o=3,a=""){return t?Wn(t,o):`${a}`}static data(t,o=""){return Re(t)?t:me(t)?t.toLocaleDateString("pt-BR"):`${o}`}static competencia(t,o=""){return me(t)?t.toLocaleDateString("pt-BR").split("/").slice(1).join("/"):`${o}`}static numero(t,o,a="",i=!0){return!ie(t)||Number.isNaN(t)||t===null||t===void 0?`${a}`:i&&t===0?`${a}`:(t=Ut(t,o??2),Intl.NumberFormat("pt-BR",{minimumFractionDigits:o??2,maximumFractionDigits:o??2}).format(t))}static inteiro(t,o="",a=!0){return!ie(t)||t===1/0||t===-1/0?`${o}`:this.numero(t,0,o,a)}static moeda(t,o="",a=!0){return!ie(t)||t===1/0||t===-1/0?`${o}`:this.numero(t,2,o,a)}static indice(t,o=""){return!ie(t)||t===1/0||t===-1/0?`${o}`:this.numero(t,6,o)}static romanos(t,o=""){return!ie(t)||t===1/0||t===-1/0?`${o}`:bB(t).toLowerCase()}static letras(t,o=""){return ie(t)?BB(t).toLowerCase():`${o}`}static truncarTexto(t,o){return t.length>o?`${t.slice(0,o)}...`:t}static percentual(t,o,a="",i=!0){return!ie(t)||i&&t===0?`${a}`:Number.isNaN(t)||t===null||t===void 0?"":`${this.numero(vt.multiplicarComPrecisao({casas:o})(t,100),o,a,i)}%`}static opcao(t,o=""){return Ca(t)?t?"Sim":"Não":`${o}`}static tempoContribuicao(t,o="",a="anos360"){if(!t)return`${o}`;const{anos:i,meses:r,dias:A}=this.anosMesesDias(t,a),s=i===0?null:`${i} ${i===1?"ano":"anos"}`,c=r===0?null:`${r} ${r===1?"mês":"meses"}`,d=A===0?null:`${A} ${A===1?"dia":"dias"}`,m=[s,c,d].filter(g=>g!==null);return m.length===0||m.length===1?m[0]||"":m.length===2?m.join(" e "):`${s}, ${c} e ${d}`}static tempoContribuicao365(t,o=""){return this.tempoContribuicao(t,o,"anos365")}static tempoContribuicao365Tabela(t,o=""){return this.tempoContribuicao(t,o,"anos365Tabela")}static tempoAMDTabulado(t,o=""){if(!t)return[`${o}`.padStart(2," "),`${o}`.padStart(2," "),`${o}`.padStart(2," ")];const{anos:a,meses:i,dias:r}=t;return[`${a}`.padStart(2," "),`${i}`.padStart(2," "),`${r}`.padStart(2," ")]}static tempoContribuicaoTabulado(t,o="",a="anos360"){return this.tempoAMDTabulado(t?this.anosMesesDias(t,a):void 0,o)}static tempoContribuicaoTabulado365(t,o=""){return this.tempoContribuicaoTabulado(t,o,"anos365")}static tempoContribuicaoTabulado365Tabela(t,o=""){return this.tempoContribuicaoTabulado(t,o,"anos365Tabela")}static carenciaTabulada(t,o,a=""){if(!t&&!o)return[`${a}`.padStart(2," "),`${a}`.padStart(2," ")];const i=t?`${t}`:a,r=o?`${o}`:a;return[`${i}`.padStart(2," "),`${r}`.padStart(2," ")]}static nb(t){if(!Re(t)&&!ie(t)||Re(t)&&!Va(t.trim().replace(/\D/g,""))||ie(t)&&(t<0||t>9999999999))throw new Error("NB inválido para formatação");const o=t.toString().trim().replace(/\D/g,"").padStart(10,"0");return`${o.slice(0,3)}.${o.slice(3,6)}.${o.slice(6,9)}-${o.slice(9,13)}`}static listaParaTexto(t){return!Array.isArray(t)||t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} e ${t[1]}`:`${t.slice(0,-1).join(", ")} e ${t[t.length-1]}`}}const yB=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?(?:Z|[+-]\d{2}:\d{2})$/;function ko(e,t){if(typeof t=="string"&&yB.test(t)){const[o,a]=t.split("T");if(o){const[i,r,A]=o.split("-");return new Date(Number(i),Number(r)-1,Number(A),0,0,0,0)}}if(t!==null)return t}var Df=(e=>(e[e.Sucesso=0]="Sucesso",e[e.Erro=1]="Erro",e))(Df||{});function IB(e){if(Re(e)){try{const t=JSON.parse(e);if("message"in t)return new Error(t.message)}catch{}return new Error(e)}return e instanceof Error||e instanceof ErrorEvent||iA(e)&&"message"in e&&Re(e.message)?new Error(e.message):new Error(JSON.stringify(e))}function UB(e,t,o,a){return{promessa:new Promise((A,n)=>{e.onmessage=s=>{const{tipo:l,dados:c}=s.data;l===Df.Erro?n(IB(c)):A(c),e.terminate()},e.onerror=s=>{n(new Error(s.message||"Worker error"))},e.postMessage(t)}),interromper:()=>e.terminate()}}function co(e,t){if(!Re(e))throw new Error("A função aceita somente strings!");const o=Array.isArray(t)?t:[t];for(const a of o){if(!su(a))throw new Error("O padrão deve ser uma expressão regular!");a.lastIndex=0;const i=a.global?a:new RegExp(a.source,`${a.flags}g`),r=[];let A=i.exec(e);for(;A&&A[0];)r.push(A[0]),A=i.exec(e);if(r.length===0){a.lastIndex=0;continue}return a.lastIndex=0,r}return[]}function sa(e,t){if(!Re(e))throw new Error("A função aceita somente strings!");const o=Array.isArray(t)?t:[t];for(const a of o){if(!su(a))throw new Error("O padrão deve ser uma expressão regular!");a.lastIndex=0;const i=a.exec(e);if(Array.isArray(i)&&i.length>0)return a.lastIndex=0,i.length>1?i.slice(1):[i[0]]}return[]}function G(e,t,o=!1){if(!Re(e))throw new Error("A função aceita somente strings!");const a=Array.isArray(t)?t:[t];if(!a.every(i=>su(i)))throw new Error("O padrão deve ser uma expressão regular ou array de expressões regulares!");for(const i of a){i.lastIndex=0;const r=i.exec(e);if(Array.isArray(r)&&r.length>0)return o?(i.lastIndex=0,r[1]):(i.lastIndex=0,r[1]||r[0])}}function Co(e){if(!Re(e))throw new Error("A função aceita somente strings!");return e.replace(/\s+/g," ").trim()}function Zu(e){if(!Re(e))throw new Error("A função aceita somente strings!");return e.replaceAll(/[áàãâä]/g,"a").replaceAll(/[ÁÀÃÂÄ]/g,"A").replaceAll(/[éèêë]/g,"e").replaceAll(/[ÉÈÊË]/g,"E").replaceAll(/[íìîï]/g,"i").replaceAll(/[ÍÌÎÏ]/g,"I").replaceAll(/[óòôõö]/g,"o").replaceAll(/[ÓÒÔÖÕ]/g,"O").replaceAll(/[úùüû]/g,"u").replaceAll(/[ÚÙÜÛ]/g,"U").replaceAll(/[ýÿ]/g,"y").replaceAll(/Ý/g,"Y").replaceAll(/ñ/g,"n").replaceAll(/Ñ/g,"N").replaceAll(/ç/g,"c").replaceAll(/Ç/g,"C")}function SB(e,t){const o=t;return!e||t===0?"":e.length===0||e.length<=o?e:`${e.slice(0,o)}...`}class DB{registros=new Map;cache=new Or;constructor(t){Array.isArray(t)&&t.forEach(o=>{this.registros.set(o.id,o)})}obterPorId(t){return this.registros.get(t)}remover(t){this.registros.delete(t),this.cache.apagar()}removerMultiplos(t){t.forEach(o=>this.remover(o))}removerTudo(){this.registros.clear(),this.cache.apagar()}adicionar(t,...o){if(t.id&&this.registros.has(t.id))throw new Error(`Item já existe [id ${t.id}]`);const a=this.criarNovaInstancia(t,...o);return this.registros.set(a.id,a),this.cache.apagar(),a}adicionarMultiplos(t,...o){Object.entries(t).forEach(([a,i])=>{const r=rA.valido(a)?a:void 0;this.adicionar({...i,id:r},...o)})}atualizar(t,o,...a){const i=this.obterPorId(t);if(!i)throw new Error(`Item não encontrado [id ${t}]`);if(i){const r=i.atualizar(o,...a);return this.registros.set(t,r),this.cache.apagar(),r}}atualizarMultiplos(t,...o){return Object.entries(t).map(([a,i])=>this.atualizar(a,i,...o))}lista(t){const o=this.cache.recuperar();if(o?.dados.lista)return o.dados.lista;const a=this.registros.size>0?Array.from(this.registros.values()):[];return this.cache.atualizar({lista:t?a.toSorted(t):a}),a}serializar(){return this.registros.size===0?{}:Array.from(this.registros.entries()).reduce((t,[o,a])=>(t[o]=a.props,t),{})}desserializar(t){this.removerTudo(),Object.entries(t).forEach(([o,a])=>{this.adicionar({...a,id:o})})}tamanho(){return this.registros.size}temDados(){return this.tamanho()>0}}class xB extends jv{constructor(t){super(t)}validar(t){const o=Re(t)?t:rA.gerar();if(!rA.valido(o))throw new Error("id inválido");return o}igual(t){return this.valor===t.valor}diferente(t){return this.valor!==t.valor}}class cu{props;_id;constructor(t){this._id=this.gerarId(t),this.props={...t,id:this._id.valor}}gerarId(t){return new xB(t.id)}get id(){return this._id.valor??""}igual(t){return this._id.igual(t._id)}diferente(t){return this._id.diferente(t._id)}instanciar(t,...o){return new this.constructor({...this.props,...t},...o)}atualizar(t={},...o){return this.instanciar({...this.props,...t,id:this.id},...o)}clonar(t={},...o){return this.instanciar({...this.props,...t,id:void 0},...o)}}class Or{dados;timestamp=new Date;atualizar(t){this.timestamp=new Date,this.dados=t}apagar(){this.dados=void 0}recuperar(){if(this.dados!==void 0)return{timestamp:this.timestamp,dados:this.dados}}}function PB(e){return e.replace(/[^.\d]/g,"")}function ed(e){const o=e.replace(/[^.\d]/g,"").split(".").map(a=>a.padStart(3,"0")).join("");return Number(o)}function _B(e,t){const o=PB(Re(e)?e:"");return/^\d+\.\d+\.\d+$/.test(o)?ed(o)<=ed(t):!1}class OB{constructor(t=[]){this.migradores=t}logger=new Wv({format:"json",level:"error",prettyPrint:!0});migrar(t){if(!t||!t.versao||!Re(t.versao))throw new Error("Dados inválidos");let o=t;for(const{versaoDe:a,versaoPara:i,migrar:r}of this.migradores)_B(o.versao,a)&&(o=r(o),this.logger.info(`PipelineMigracao.migrar: Migrado de ${a} para ${i}`,o));return o}}function et(e){Object.values(e).forEach(t=>{iA(t)?et(t):t.lastIndex=0})}function uu(e){try{return JSON.parse(e,ko)}catch{return}}class Mo{_identificado=!1;_dados;_resumo=[];get identificado(){return this._identificado}obterDadosEstruturados(){return this._dados}obterQuadroResumo(){return this._resumo}definir(t,o){this._dados=t,this._resumo=o,this._identificado=!0}}const it={blocos:{primeiraParte:/INSTITUTO\sNACIONAL\sDO\sSEGURO\sSOCIAL([\s\S]+?)(?=Cálculo\sde\sBenefícios\ssegundo\sa\sLei\s9876|Atividade\sPrincipal)/,ultimaParte:/((?:onde,\sCoeficiente\s=\s|Soma\sdos\ssalários\sde\sbenefício\s=\s|Renda\sMensal\sInicial\s=\s)[\s\S]+$)/,atividadePrincipal:/Atividade\sPrincipal([\s\S]+?)(?=Atividade\sSecundária|$)/,atividadesSecundarias:/Atividade\sSecundária([\s\S]+?)(?=Atividade\sSecundária|$)/g,normalPrincipal:/Cálculo\sde\sBenefícios\ssegundo\sa\sLei\s9876,\sde\s29\/11\/1999([\s\S]+?)(?=Direito\saposentadoria\sintegral\sou\sproporcional|$)/,simulacoesDireitoAdquirido:/Direito\saposentadoria\sintegral\sou\sproporcional([\s\S]+?)(?=Direito\saposentadoria\sintegral\sou\sproporcional|$)/g},dadosSegurado:{nome:/Nome: (.+)/,nit:/Nit: ([\d.-]+)/,aps:/Aps: (.+)/},dadosBeneficio:{nb:/Número\sdo\sBenefício:\s([\d.-]+)/,especie:/[A-Z /]+\s\((\d{2})\)/,descricao:/\s([A-Z\s/]+)\s\(\d{2}\)/,dib:/a\spartir\sde\s(\d{2}\/\d{2}\/\d{4})/,der:/requerido\sem\s(\d{2}\/\d{2}\/\d{4})/,ddb:/Data\sde\sConcessão\sdo\sBenefício:\s(\d{2}\/\d{2}\/\d{4})/,rmi:/renda\smensal\sde\sR\$\s([\d,.]+)(?:, | , )calculada/,rmiAlt:/Renda\sMensal\sInicial\s=\sSalário de Benefício\sX\scoeficiente\s=\s([\d,.]+)/,coeficiente:/Coeficiente\s=\s([\d.,]+)/,soma:/Soma\sdos\ssalários\sde\sbenefício\s=\s([\d,.]+)/},dadosCalculo:{grupos:/Tc\s-\sTempo\sde\scontribuição\s=\s(\d+)\sgrupos\sde\s12\scontribuicoes/,tc:/Tc\s-\sTempo\sde\scontribuição\s=\s(\d+)\sano\(s\)\s(\d+)\smes\(es\)\s(\d+)\sdia\(s\)/,pedagio:/Período\sadicional\sde\scontribuição\spara\saposentadoria\sproporcional\s=\s(\d+)\sano\(s\)\s(\d+)\smes\(es\)\s(\d+)\sdia\(s\)/,fatorPrevidenciario:/Fator\sPrevidenciário = = ([\d.,]+)/,expectativaSobrevida:/Es\s-\sExpectativa\sde\sSobrevida\s=\s([\d.,]+)\sano\(s\)/,idade:/Id\s-\sIdade\s=\s([\d.,]+)\sano\(s\)/,aliquota:/a\s-\sAlíquota\s=\s([\d.,]+)/,soma:/média\s-\sMédia\sdos\s80%\smaiores\ssalários\sde\scontribuição\s=\s([\d.,]+)\s\/\s\d+\s=\s[\d.,]+/,divisor:/média\s-\sMédia\sdos\s80%\smaiores\ssalários\sde\scontribuição\s=\s[\d.,]+\s\/\s(\d+)\s=\s[\d.,]+/,media:/média\s-\sMédia\sdos\s80%\smaiores\ssalários\sde\scontribuição\s=\s[\d.,]+\s\/\s\d+\s=\s([\d.,]+)/,salarioBeneficio:/Salário\sde\sBenefício\s=\smédia\sX\sfator\sprevidenciário(?:\sX\s\([\d\s]+\))?\s=\s([\d.,]+)(?:\s\([A-Z\s]+\))?/,salarioBeneficioAlt:/Salário\sde\sBenefício\s=\s=\s([\d.,]+)(?:\s\([A-Z\s]+\))?/,ajusteSalarioBeneficio:/Salário\sde\sBenefício\s=\smédia\sX\sfator\sprevidenciário\s=\s[\d.,]+(\s\([A-Z ]+\))?/,ajusteSalarioBeneficioAlt:/Salário\sde\sBenefício\s=\s=\s[\d.,]+(\s\([A-Z\s]+\))?/,mesesAposPublicacaoLei:/y\s-\sNúmero\sde\smeses,\sapós\sa\sPublicação\sda\sLei\s=\s(\d+)/,portaria:/Portaria\sutilizada\spara\scorreção\sdos\sSalários\sde\sContribuição:\s(\d+\sde\s\d{2}\/\d{2}\/\d{4})/,salarios:/^(\d{3}) (\d{2}\/\d{4}) ([\d.,]+) ([\d.,]+) ([\d.,]+)( .+)?$/gm}},tt={blocos:{primeiraParte:/Instituto\sNacional\sdo\sSeguro\sSocial([\s\S]+?)REGRAS/,regras:/Valor do Benefício Regra([\s\S]+?)(?=Valor do Benefício Regra|MEMÓRIA)/g,calculo:/Memória\sde\sCálculo\s([\s\S]+?)(?=Memória\sde\sCálculo\s|$)/g,especie:/Comunicamos\sque\sfoi\sconcedido\sseu\sbenefício:\s([\s\S]+)\sNÚMERO\sDO\sBENEFÍCIO/},dados:{nome:/TITULAR:\s(.+)/,cpf:/CPF:\s(\d{3}\.\d{3}\.\d{3}-\d{2})/,nb:/NÚMERO DO BENEFÍCIO[\s\S]+?(\d{3}\.\d{3}\.\d{3}-\d)/,dib:/Início\sdo\sbenefício[\s\S]+?(\d{2}\/\d{2}\/\d{4})/,der:/Solicitado em[\s\S]+?(\d{2}\/\d{2}\/\d{4})/,ddb:/Concedido em[\s\S]+?\d{2}\/\d{2}\/\d{4}\s(\d{2}\/\d{2}\/\d{4})/,dip:/Início\sdo\spagamento[\s\S]+?(?:\d{2}\/\d{2}\/\d{4})?\s(\d{2}\/\d{2}\/\d{4})/,rmi:/R\$ ([\d,.]+)$/m,rmiBloco:/R\$\s([\d,.]+)\s\*/,rmiDireitoAdquirido:/\*\sEste\svalor\sreajustado\saté\sa\sdata\sdo\sinício\sdo\sbenefício\scorresponde\sa\sR\$\s([\d.,]+)/,tempo:/Tempo de contribui[cç][aã]o\s?:\s(.+)/,soma:/([\d,.]+)\s÷\s\d+/,somaAlt:/Soma .*? salários de contribuição[\s\S]+?R\$\s([\d,.]+)/,divisor:/\s÷\s(\d+)/,media:/R\$\s([\d,.]+)\sMédia/,mediaAlt:/\s÷\s\d[\s\S]+?R\$\s([\d,.]+)\s/,fatorPrevidenciario:/\s\d+,\d{5}\s/,salarioBeneficio:/Salário de Benefício\sR\$\s([\d.,]+)/,salarioBeneficioAlt:/R\$\s([\d.,]+)\s×\s\d+\s?%/,coeficiente:/×\s(\d{0,3})\s?%/,salarios:/^(\d{3}) (\d{2}\/\d{4}) ([\d.,]+) ([\d.,]+) ([\d.,]+)\s([A-Z]+)?/gm,salariosAlt:/^(\d{3})(?:\s\*)?\s([\d.,]+)\s([\d.,]+)\s([\d.,]+)\s(\d{2}\/\d{4})(?:\s\d{1,2})?(\s[A-Z.\s]+)?$/gm},identificadores:{regraTransicao:/Regras?\sde\sTransição\sdos?\sartigos?\s([\d,\se]+)da\sEC\s103\/2019/,beneficioDeficiente:/Regra\sdo\s([\s\S]+?)\sda\sLC\s142\/2013/,descartes:/Demonstramos\sabaixo\sos\s\d+\ssalários\sde\scontribuição\sque\sforam\sdescartados/}};function RB(e){et(it);const t=it.blocos.primeiraParte.test(e),o=it.blocos.ultimaParte.test(e),a=it.blocos.atividadePrincipal.test(e),i=it.blocos.normalPrincipal.test(e),r=it.dadosSegurado.nome.test(e),A=it.dadosBeneficio.especie.test(e),n=it.dadosBeneficio.dib.test(e),s=it.dadosCalculo.media.test(e),l=it.dadosCalculo.salarios.test(e);return t&&o&&(a||i)&&r&&A&&n&&s&&l}function MB(e){et(tt);const t=tt.blocos.primeiraParte.test(e),o=tt.blocos.regras.test(e),a=tt.blocos.calculo.test(e),i=tt.blocos.especie.test(e),r=tt.dados.nome.test(e),A=tt.dados.nb.test(e),n=tt.dados.dib.test(e),s=tt.dados.rmi.test(e),l=tt.dados.media.test(e),c=tt.dados.mediaAlt.test(e),u=tt.dados.coeficiente.test(e),d=tt.dados.salarios.test(e),m=tt.dados.salariosAlt.test(e);return t&&o&&a&&i&&r&&A&&n&&s&&(l||c)&&u&&(d||m)}function LB(e,t){if(!t.length)return e.pbc;const o=[];Object.keys(e.pbc).forEach(i=>{e.pbc[i].consolidado=e.pbc[i].original||0,e.pbc[i].salariosAtividadesSecundarias={},t.forEach((r,A)=>{const n=r.pbc[i];e.pbc[i].salariosAtividadesSecundarias[A+1]=0,n&&(e.pbc[i].salariosAtividadesSecundarias[A+1]=n.original,e.pbc[i].consolidado=n.original+(e.pbc[i].consolidado||0),e.pbc[i].corrigido+=n.corrigido)}),o.push({competencia:i,valor:e.pbc[i].corrigido})});const a=e.divisor;return o.toSorted((i,r)=>i.valor-r.valor).map(i=>i.competencia).slice(0,o.length-a).forEach(i=>{e.pbc[i].desconsiderado=!0}),e.pbc}function td(e){const t={},o=G(e,it.dadosCalculo.grupos);o&&(t.grupos=de(o));const a=sa(e,it.dadosCalculo.tc);if(a.length){const[f="0",v="0",h="0"]=a,B=de(f),b=de(v),Q=de(h);t.tempoContribuicao=B*360+b*30+Q}const i=sa(e,it.dadosCalculo.pedagio);if(i.length){const[f="0",v="0",h="0"]=i,B=de(f),b=de(v),Q=de(h);t.pedagio=B*360+b*30+Q}const r=G(e,it.dadosCalculo.fatorPrevidenciario);r&&(t.fatorPrevidenciario=de(r));const A=G(e,it.dadosCalculo.expectativaSobrevida);A&&(t.expectativaSobrevida=de(A));const n=G(e,it.dadosCalculo.idade);n&&(t.idade=de(n));const s=G(e,it.dadosCalculo.aliquota);s&&(t.aliquota=de(s));const l=G(e,it.dadosCalculo.soma);l&&(t.soma=de(l));const c=G(e,it.dadosCalculo.divisor);c&&(t.divisor=de(c));const u=G(e,it.dadosCalculo.media);u&&(t.media=de(u));const d=G(e,[it.dadosCalculo.salarioBeneficio,it.dadosCalculo.salarioBeneficioAlt]);d&&(t.salarioBeneficio=de(d));const m=G(e,[it.dadosCalculo.ajusteSalarioBeneficio,it.dadosCalculo.ajusteSalarioBeneficioAlt]);m&&(t.elevadoMinimo=m.includes("SALARIO MINIMO"));const g=G(e,it.dadosCalculo.mesesAposPublicacaoLei);g&&(t.mesesAposPublicacaoLei=de(g));const p=G(e,it.dadosCalculo.portaria);return t.portariaCorrecao=p??"",t.pbc=co(e,it.dadosCalculo.salarios).reduce((f,v,h,B)=>{const b={},[Q="",y="",I="",D="",O="",S=""]=v.split(" ");return b.competencia=new oe(y).competencia(),h===0&&(t.competenciaFinal=b.competencia),h===B.length-1&&(t.competenciaInicial=b.competencia),b.seq=de(Q),b.original=de(I),b.indice=de(D),b.corrigido=de(O),b.limitadoTeto=Re(S)&&S.includes("LIMIT."),b.desconsiderado=Re(S)&&S.includes("DESCONSIDERADO"),f[b.competencia.toLocaleDateString("pt-BR")]=b,f},{}),t}function HB(e){et(it);const t={dadosSegurado:{},dadosBeneficio:{},dadosCalculo:{}},o=G(e,it.blocos.primeiraParte)??"",a=G(e,it.blocos.ultimaParte)??"";let i,r;it.blocos.atividadePrincipal.test(e)?(i=G(e,it.blocos.atividadePrincipal)??"",r=co(e,it.blocos.atividadesSecundarias)):i=G(e,it.blocos.normalPrincipal)??"";const n=G(o,it.dadosSegurado.nome),s=G(o,it.dadosSegurado.nit),l=G(o,it.dadosSegurado.aps),c=G(o,it.dadosBeneficio.nb),u=G(o,it.dadosBeneficio.especie),d=G(o,it.dadosBeneficio.descricao),m=G(o,it.dadosBeneficio.dib),g=G(o,it.dadosBeneficio.der),p=G(o,it.dadosBeneficio.ddb),f=G(o,it.dadosBeneficio.rmi),v=G(a,it.dadosBeneficio.coeficiente),h=G(a,it.dadosBeneficio.rmiAlt);t.dadosSegurado.nome=n??"",t.dadosSegurado.nit=s??"",t.dadosSegurado.aps=l??"",t.dadosBeneficio.nb=c??"",u&&(t.dadosBeneficio.especie=de(u)),t.dadosBeneficio.descricao=d??"",m&&(t.dadosBeneficio.dib=ht(m)),g&&(t.dadosBeneficio.der=ht(g)),p&&(t.dadosBeneficio.ddb=ht(p)),v&&(t.dadosBeneficio.coeficiente=de(v)),f?t.dadosBeneficio.rmi=de(f):h&&(t.dadosBeneficio.rmi=de(h));const B=Array.isArray(r)?r.map(td):[],b=td(i);return B.length&&(b.pbc=LB(b,B)),t.dadosCalculo={principal:b,secundarias:B},t}const TB={15:42,16:42,17:42,18:41,19:41,20:42,21:46,22:41};function $B(e){const t={especie:void 0,descricao:"",regraTransicao:"",direitoAdquirido:!1,pcd:!1};return t.pcd=e.includes("LC 142/2013"),t.direitoAdquirido=e.includes("Direito Adquirido"),t.regraTransicao=G(e,/Artigo\s(\d+)/)||"",e.includes("APOSENTADORIA POR IDADE")?(t.especie=41,t.descricao="APOSENTADORIA POR IDADE"):e.includes("APOSENTADORIA POR TEMPO DE CONTRIBUIÇÃO")?(t.especie=42,t.descricao="APOSENTADORIA POR TEMPO DE CONTRIBUIÇÃO"):e.includes("APOSENTADORIA ESPECIAL")?(t.especie=46,t.descricao="APOSENTADORIA ESPECIAL"):t.regraTransicao&&(t.especie=TB[Number(t.regraTransicao)],t.especie===41?t.descricao="APOSENTADORIA POR IDADE":t.especie===42?t.descricao="APOSENTADORIA POR TEMPO DE CONTRIBUIÇÃO":t.especie===46&&(t.descricao="APOSENTADORIA ESPECIAL")),t}function VB(e){for(let t=0;t<e.length;t++){const o=e[t];if(o.includes("MAIOR VALOR")){const a=G(o,tt.dados.rmi);return de(a||0)}}return 0}function NB(e){for(let t=0;t<e.length;t++){const o=e[t];if(o.includes("Direito adquirido antes da EC 103/2019")){const a=G(o,tt.dados.tempo);if(!a)continue;const i=de(G(a,/(\d+)\sano/)||0),r=de(G(a,/(\d+)\sm[eê]s/)||0),A=de(G(a,/(\d+)\sdia/)||0);return i*360+r*30+A}}}function qB(e){const t=VB(e),o=NB(e);return{rmi:t,tempoDireitoAdquirido:o}}function od(e){const t={},o=G(e,tt.dados.soma),a=G(e,tt.dados.somaAlt),i=G(e,tt.dados.divisor),r=G(e,tt.dados.media),A=G(e,tt.dados.mediaAlt),n=G(e,tt.dados.fatorPrevidenciario),s=G(e,tt.dados.salarioBeneficio),l=G(e,tt.dados.salarioBeneficioAlt),c=G(e,tt.dados.coeficiente);if(o?t.soma=de(o):a&&(t.soma=de(a)),i&&(t.divisor=de(i)),r?t.media=de(r):A&&(t.media=de(A)),n&&(t.fatorPrevidenciario=de(n)),s?t.salarioBeneficio=de(s):l&&(t.salarioBeneficio=de(l)),c&&(t.coeficiente=Ut(de(c)/100,2)),!t.fatorPrevidenciario&&!t.salarioBeneficio&&(t.salarioBeneficio=t.media),!t.salarioBeneficio&&t.media){const m=t.fatorPrevidenciario?Ut(t.media*t.fatorPrevidenciario,2):t.media;e.includes(FB(m,2))&&(t.salarioBeneficio=m)}const u=e.match(tt.dados.salarios),d=e.match(tt.dados.salariosAlt);return Array.isArray(u)?t.pbc=u.reduce((m,g,p)=>{const f={},[v,h,B,b,Q,y]=g.split(" ");return f.competencia=new oe(h).competencia(),p===0&&(t.competenciaFinal=f.competencia),p===u.length-1&&(t.competenciaInicial=f.competencia),f.seq=de(v),f.original=de(B),f.indice=de(b),f.corrigido=de(Q),f.limitadoTeto=Re(y)&&y.includes("LIMIT."),f.desconsiderado=Re(y)&&(y.includes("DESCONSIDERADO")||y.includes("DESCARTADO")),m[f.competencia.toLocaleDateString("pt-BR")]=f,m},{}):Array.isArray(d)&&(t.pbc=d.reduce((m,g,p)=>{const f={},v=g.replace(/\s\*\s/," ").replace(/(\d{2}\/\d{4}\s)(\d+\s)/,"$1"),[h,B,b,Q,y,I]=v.split(" ");return f.competencia=new oe(y).competencia(),p===0&&(t.competenciaFinal=f.competencia),p===d.length-1&&(t.competenciaInicial=f.competencia),f.seq=de(h),f.original=de(B),f.indice=de(b),f.corrigido=de(Q),f.limitadoTeto=Re(I)&&I.includes("LIMIT."),f.desconsiderado=Re(I)&&(I.includes("DESCONSIDERADO")||I.includes("DESCARTADO")),m[f.competencia.toLocaleDateString("pt-BR")]=f,m},{})),t}function kB(e){let t="";const o={fundamento:"",deficiente:!1,direitoAdquirido:!1,principal:!1,texto:"",finalizado:!1},a=e.reduce((n,s)=>{if(et(tt),s.includes("Direito Adquirido")){const l="Direito Adquirido";if(n[l]||(n[l]={...o},n[l].fundamento="Direito Adquirido Antes da EC 103/2019",n[l].direitoAdquirido=!0),tt.identificadores.descartes.test(s)||n[l].finalizado)return n[l].finalizado=!0,n;n[l].texto+=s}else if(tt.identificadores.beneficioDeficiente.test(s)){const l=`${G(s,tt.identificadores.beneficioDeficiente)} da LC 142/2013`;if(n[l]||(n[l]={...o},n[l].fundamento=`Regra do ${l}`,n[l].deficiente=!0),tt.identificadores.descartes.test(s)||n[l].finalizado)return n[l].finalizado=!0,n;n[l].texto+=s}else if(tt.identificadores.regraTransicao.test(s)){const l=`${G(s,tt.identificadores.regraTransicao)}da EC 103/2019`;if(n[l]||(n[l]={...o},n[l].fundamento=`Regra de Transição: Artigo ${l}`),tt.identificadores.descartes.test(s)||n[l].finalizado)return n[l].finalizado=!0,n;n[l].texto+=s}return n},{});let i,r;const A=Object.keys(a);for(let n=0;n<A.length;n++){const s=A[n],l=a[s],c=l.direitoAdquirido?tt.dados.rmiDireitoAdquirido:tt.dados.rmiBloco,u=G(l.texto,c),d=de(u||0);if(s.includes("da EC 103/2019")){if(i=od(l.texto),i.rmi=d,t=l.fundamento,l.direitoAdquirido)return[{principal:i,direitoAdquirido:void 0},t];if(r!==void 0)break}if(l.direitoAdquirido&&(r=od(l.texto),i!==void 0))break}return[{principal:i,direitoAdquirido:r},t]}function KB(e){et(tt);const t={dadosSegurado:{},dadosBeneficio:{},dadosCalculo:{}},o=G(e,tt.blocos.primeiraParte)??"",a=G(o,tt.blocos.especie)??"",i=e.match(tt.blocos.regras),r=e.match(tt.blocos.calculo),A=$B(a),{rmi:n,tempoDireitoAdquirido:s}=qB(i||[]),l=G(o,tt.dados.nome),c=G(o,tt.dados.nb),u=G(o,tt.dados.dib),d=G(o,tt.dados.der),m=G(o,tt.dados.ddb);t.dadosSegurado.nome=l??"",t.dadosSegurado.nit="",t.dadosSegurado.aps="",t.dadosBeneficio.nb=c??"",u&&(t.dadosBeneficio.dib=ht(u)),d&&(t.dadosBeneficio.der=ht(d)),m&&(t.dadosBeneficio.ddb=ht(m)),n&&(t.dadosBeneficio.rmi=n),A.especie&&(t.dadosBeneficio.especie=A.especie),A.regraTransicao&&(t.dadosBeneficio.regraTransicao=A.regraTransicao),A.direitoAdquirido!==void 0&&(t.dadosBeneficio.direitoAdquirido=A.direitoAdquirido),A.pcd!==void 0&&(t.dadosBeneficio.pcd=A.pcd);const[g,p]=kB(r||[]);if(t.dadosBeneficio.descricao=`${A.descricao} (${p})`.trim(),g.direitoAdquirido&&s&&(g.direitoAdquirido.tempoContribuicao=s),t.dadosCalculo={principal:g.principal,secundarias:[],direitoAdquirido:g.direitoAdquirido},!ie(t.dadosBeneficio.coeficiente)){const f=t.dadosBeneficio.direitoAdquirido&&t.dadosCalculo.direitoAdquirido?t.dadosCalculo.direitoAdquirido.coeficiente:t.dadosCalculo.principal?.coeficiente;ie(f)&&(t.dadosBeneficio.coeficiente=f)}return t}function xf(e){const t=Object.entries(e.dadosCalculo.principal.pbc).map(([o,a])=>a).sort((o,a)=>o.competencia.valueOf()-a.competencia.valueOf());return[["Segurado(a):",e.dadosSegurado.nome],["NB:",e.dadosBeneficio.nb],["Espécie:",e.dadosBeneficio.especie.toString()],["RMI:",e.dadosBeneficio.rmi.toLocaleString("pt-BR")],["PBC Principal:",`${t?.length??"-"} salários encontrados`]]}const Pf=class _f extends Mo{static nome="Carta de Concessão";static testar(t){return RB(t)}obterNome(){return _f.nome}analisar(t){et(it);const o=HB(t),a=xf(o);return this.definir(o,a),o}},Of=class Rf extends Mo{static nome="Carta de Concessão Nova";static testar(t){return MB(t)}obterNome(){return Rf.nome}analisar(t){et(tt);const o=KB(t),a=xf(o);return this.definir(o,a),o}},Mf=[Pf,Of];function _s(e){e=e.replaceAll(/\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}/g,"").replaceAll(/\d{2}\.\d{3}\.\d{5}\/\d{2}/g,"").replaceAll(/\d{2}\.\d{3}\.\d{3}/g,"").replaceAll(/(\d{2}\/)?\d{2}\/\d{4}/g,"").replaceAll(/\d{3}\.\d{5}\.\d{2}-\d/g,"").replaceAll(/\d{8,10}/g,"").replaceAll(/Benefício/g,"").replaceAll(/Indeterminado/g,"").trim();const t=[/([A-Ü /]+)\s[\s\S]*?(Empresário \/ Empregador)$/,/([A-Ü /]+)\s[\s\S]*?(Empresário)$/,/([A-Ü /]+)\s[\s\S]*?(Empregador)$/,/([A-Ü /]+)\s[\s\S]*?(Trabalhador Avulso)$/,/([A-Ü /]+)\s[\s\S]*?(Trabalhador)$/,/([A-Ü /]+)\s[\s\S]*?(Contribuinte Individual)$/,/([A-Ü /]+)\s[\s\S]*?(Contribuinte)$/,/([A-Ü /]+)\s[\s\S]*?(Empregado Doméstico)$/,/([A-Ü /]+)\s[\s\S]*?(Empregado ou Agente Público)$/,/([A-Ü /]+)\s[\s\S]*?(Empregado)$/,/([A-Ü /]+)\s[\s\S]*?(Autônomo)$/,/([A-Ü /]+)\s[\s\S]*?(Não Informado)$/,/([A-Ü /]+)\s[\s\S]*?(Segurado Especial)$/,/([\s\S]+)\s(Empresário \/ Empregador)$/,/([\s\S]+)\s(Empresário)$/,/([\s\S]+)\s(Empregador)$/,/([\s\S]+)\s(Trabalhador Avulso)$/,/([\s\S]+)\s(Trabalhador)$/,/([\s\S]+)\s(Contribuinte Individual)$/,/([\s\S]+)\s(Contribuinte)$/,/([\s\S]+)\s(Empregado Doméstico)$/,/([\s\S]+)\s(Empregado ou Agente Público)$/,/([\s\S]+)\s(Empregado)$/,/([\s\S]+)\s(Autônomo)$/,/([\s\S]+)\s(Não Informado)$/,/([\s\S]+)\s(Segurado Especial)$/];for(const o of t)if(o.test(e)){const a=o.exec(e),[i,r,A]=Array.isArray(a)?a.map(n=>n.trim()):["","",""];return{entidade:r,natureza:A}}return{entidade:e,natureza:e}}function zB(e){const t=e.remuneracoes?.length?e.remuneracoes[0].competencia.valueOf():e.dataInicial.valueOf(),o=e.contribuicoes?.length?e.contribuicoes[0].competencia.valueOf():e.dataInicial.valueOf(),a=e.contribuicoesAlt?.length?e.contribuicoesAlt[0].competencia.valueOf():e.dataInicial.valueOf(),i=e.contribuicoesGfip?.length?e.contribuicoesGfip[0].competencia.valueOf():e.dataInicial.valueOf();return new Date(Math.min(t,o,a,i))}function Lf(e){const t=e.remuneracoes?.length?e.remuneracoes.at(-1).competencia.valueOf():void 0,o=e.contribuicoes?.length?e.contribuicoes.at(-1).competencia.valueOf():void 0,a=e.contribuicoesAlt?.length?e.contribuicoesAlt.at(-1).competencia.valueOf():void 0,i=e.contribuicoesGfip?.length?e.contribuicoesGfip.at(-1).competencia.valueOf():void 0,r=[t,o,a,i].filter(ie);return r.length?new Date(Math.max(...r)):void 0}function Hf(e){if(me(e.dataFinal))return e.dataFinal.valueOf()>=e.dataInicial.valueOf()||(e.dataFinal=new Date(e.dataInicial.valueOf())),e;const t=Lf(e);if(me(t)){const o=ua(t);if(Ea(o,e.dataInicial))return e.dataFinal=o,e}return e.dataFinal=new Date(e.dataInicial.valueOf()),e}function Wr(e){const t=[];return e.forEach(o=>{const a=Co(o).split(" ");Array.isArray(a)&&t.push({competencia:new oe(a[0]).competencia(),valor:de(a[a.length-1])})}),t}function fn(e){if(e.length!==0)return e.reduce((t,o)=>(t+=o.valor,t),0)}function Tf(e){const t=Array.isArray(e.remuneracoes)&&e.remuneracoes.length>0,o=Array.isArray(e.contribuicoes)&&e.contribuicoes.length>0,a=Array.isArray(e.contribuicoesAlt)&&e.contribuicoesAlt.length>0,i=Array.isArray(e.contribuicoesGfip)&&e.contribuicoesGfip.length>0;if(!t&&!o&&!a&&!i)return[];const r=zB(e),A=Lf(e)??r,n=tr(r,A),s=[];for(const l of n){let c;t&&(c=fn(e.remuneracoes.filter(p=>p.competencia.valueOf()===l.valueOf())));let u;o&&(u=fn(e.contribuicoes.filter(p=>p.competencia.valueOf()===l.valueOf())));let d;a&&(d=fn(e.contribuicoesAlt.filter(p=>p.competencia.valueOf()===l.valueOf())));let m;i&&(m=fn(e.contribuicoesGfip.filter(p=>p.competencia.valueOf()===l.valueOf())));const g=c||u||d||m;ie(g)&&s.push({competencia:l,valor:g})}return s}const Uo={dadosSegurado:/Nit: Nome:\sData de Nascimento: Nome da Mãe:\s(.*)\s(.*)\s([\d.-]+)\s(\d{2}\/\d{2}\/\d{4})\sCPF:\s([\d.-]+)/,dadosSeguradoAlt:/Identificação do Filiado Nit:\s([\d.-]+)\sCPF:\s([\d.-]+)\sNome:\s(.*)\sData de Nascimento:\s(\d{2}\/\d{2}\/\d{4})\sNome da Mãe:\s(.*)\sRelações Previdenciárias/,blocos:/Seq\.([\s\S]+?)(?=Seq\.|Remunerações Décimo Terceiro|$)/g,subBlocos:{dadosVinculo:/(\d{1,3})\s(\d\.\d{3}\.\d{3}\.\d{3}-\d)\s([\s\S]+?)\s+(\d{0,2}\/?\d{1,2}\/\d{2,4})(\s\d{0,2}\/?\d{1,2}\/\d{2,4})?/,dadosVinculo_alt:/(\d{1,3})\s(\d\.\d{3}\.\d{3}\.\d{3}-\d)(?:\s[\d./-]+|\sIndeterminado)?\sIndicadores:(?:\s[\w\-./, ]+)?[\s\S]+?Origem do Vínculo\s([\s\S]+?)\s+(\d{0,2}\/?\d{1,2}\/\d{2,4})\sDt\. Início Dt\. Fim\s(\d{0,2}\/?\d{1,2}\/\d{2,4})?/,remuneracoes:/\s+(\d{2}\/\d{4})\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,contribuicoes:/\s+(\d{2}\/\d{4})\s\d{2}\/\d{2}\/\d{4}\s[\d.,]+\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,contribuicoesGfip:/\s+(\d{2}\/\d{4})(\s\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}|\s\d{2}\.\d{3}\.\d{3})[(\s\d{2}./\-|)]+(?:[A-Z_a-z\xE3\xE7][\s\wãç]*|[\s\d])\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,contribuicoes_alt:/^(\d{2}\/\d{4}) (?:[\d./-]+ )+\D+([\d.,]+)/gm}},wa={dadosSegurado:/Nit: Nome:\sData de Nascimento: Nome da Mãe:\s(.*)\s(.*)\s([\d.-]+)\s(\d{2}\/\d{2}\/\d{4})\sCPF:\s([\d.-]+)/,dadosSeguradoAlt:/Identificação do Filiado Nit:\s([\d.-]+)\sCPF:\s([\d.-]+)\sNome:\s(.*)\sData de Nascimento:\s(\d{2}\/\d{2}\/\d{4})\sNome da Mãe:\s(.*)\sRelações Previdenciárias/,vinculos:/(\d{1,3})\s(\d\.\d{3}\.\d{3}\.\d{3}-\d)\s(.*?)(\d{0,2}\/\d{1,2}\/\d{2,4})\s(\d{0,2}\/?\d{1,2}\/\d{2,4})/g,vinculosAlt:/^(\d{0,2}\/?\d{1,2}\/\d{2,4})\s(\d{0,2}\/?\d{1,2}\/\d{2,4}\n)?(.*\n.*)\n(\d{1,3})\s(\d\.\d{3}\.\d{3}\.\d{3}-\d)(.*)$/gm,vinculo:/(\d{1,3})\s(\d\.\d{3}\.\d{3}\.\d{3}-\d)\s([\s\S]+?)\s+(\d{0,2}\/?\d{1,2}\/\d{2,4})\s(\d{0,2}\/?\d{1,2}\/\d{2,4})/},ba={dadosSegurado:/NIT:\s([\d.-]+)\sCPF:\s([\d.-]+)\sNome:\s(.*)\sData de nascimento:\s(\d{2}\/\d{2}\/\d{4})\sNome da mãe:\s(.*)\s/,blocos:/Seq\.([\s\S]+?)(?=Seq\.|$)/g,subBlocos:{dadosItem:/Seq\.[\s\S]+?(\d{1,3})\s([\s\S]+?)\s(?:Código Emp\.|Competência|Relações Previdenciárias|Indicadores|$)/,conteudo:/([\s\S]+?)\s(\d{2}\/\d{2}\/\d{4})(\s(?:\d{2}\/)?\d{2}\/\d{4})?/,nit:/\s(\d{3}\.\d{5}\.\d{2}-\d)\s/,remuneracoes:/\s+(\d{2}\/\d{4})\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,remuneracoes_alt:/^(\d{2}\/\d{4}).+\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d+,\d{2})/gm,contribuicoes:/\s+(\d{2}\/\d{4})\s\d{2}\/\d{2}\/\d{4}\s[\d.,]+\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{1,3},\d{2})/g}};function GB(e){et(Uo);const t=Uo.dadosSegurado.test(e),o=Uo.dadosSeguradoAlt.test(e),a=Uo.blocos.test(e),i=Uo.subBlocos.remuneracoes.test(e),r=Uo.subBlocos.contribuicoes.test(e),A=Uo.subBlocos.contribuicoes_alt.test(e),n=Uo.subBlocos.contribuicoesGfip.test(e);return(t||o)&&a&&(i||r||A||n)}function jB(e){et(wa);const t=wa.dadosSegurado.test(e),o=wa.dadosSeguradoAlt.test(e),a=wa.vinculos.test(e);return(t||o)&&a}function WB(e){et(ba);const t=ba.dadosSegurado.test(e),o=ba.blocos.test(e),a=ba.subBlocos.remuneracoes.test(e),i=ba.subBlocos.contribuicoes.test(e);return t&&o&&(a||i)}function JB(e){et(Uo);const t={segurado:{},vinculos:[]},o=Uo.dadosSegurado.test(e),a=o?Uo.dadosSegurado.exec(e):Uo.dadosSeguradoAlt.exec(e);Array.isArray(a)&&a.length>=6&&(t.segurado.nome=Co(o?a[1]:a[3]),t.segurado.mae=Co(o?a[2]:a[5]),t.segurado.nit=Co(o?a[3]:a[1]),t.segurado.nascimento=new oe(a[4]).nativo(),t.segurado.cpf=Co(o?a[5]:a[2]));const i=co(e,Uo.blocos).map(n=>{const s={},l=sa(n,[Uo.subBlocos.dadosVinculo_alt,Uo.subBlocos.dadosVinculo]),[c="",u="",d="",m="",g=""]=l;if(l.length>=5&&!d.includes("99 - INDEFERIDO")){s.seq=de(c),s.nit=u;const{entidade:p,natureza:f}=_s(Co(d));s.entidade=p,s.natureza=f,s.dataInicial=new oe(m.trim()).nativo();const v=g&&/\d{2}\/\d{2}\/\d{4}/.test(g);s.dataFinal=v?new oe(g.trim()).nativo():void 0,s.texto=n,s.salarios=[],s.remuneracoes=[],s.contribuicoes=[],s.contribuicoesAlt=[],s.contribuicoesGfip=[]}return s}).filter(n=>!pA(n)).sort((n,s)=>n.seq-s.seq),r=i.map(n=>n.seq).filter(Uf),A=[];return r.forEach(n=>{const s=i.filter(l=>l&&l.seq&&l.seq===n).reduce((l,c,u)=>u===0?c:(l.texto+=c.texto,l),{});A.push(s)}),t.vinculos=A.map(n=>{n.remuneracoes=Wr(co(n.texto,Uo.subBlocos.remuneracoes)).toSorted((l,c)=>l.competencia.valueOf()-c.competencia.valueOf()),n.contribuicoes=Wr(co(n.texto,Uo.subBlocos.contribuicoes)).toSorted((l,c)=>l.competencia.valueOf()-c.competencia.valueOf()),n.contribuicoesAlt=Wr(co(n.texto,Uo.subBlocos.contribuicoes_alt)).toSorted((l,c)=>l.competencia.valueOf()-c.competencia.valueOf()),n.contribuicoesGfip=Wr(co(n.texto,Uo.subBlocos.contribuicoesGfip)).toSorted((l,c)=>l.competencia.valueOf()-c.competencia.valueOf());const s=Hf(n);return s.salarios=Tf(s),s}),t}function XB(e){const t={},o=wa.dadosSegurado.test(e),a=o?wa.dadosSegurado.exec(e):wa.dadosSeguradoAlt.exec(e);return Array.isArray(a)&&a.length>=6&&(t.nome=Co(o?a[1]:a[3]),t.mae=Co(o?a[2]:a[5]),t.nit=Co(o?a[3]:a[1]),t.nascimento=new oe(a[4]).nativo(),t.cpf=Co(o?a[5]:a[2])),t}function YB(e){const t=[],o=co(e,wa.vinculos);for(const a of o){const i={},r=sa(a,wa.vinculos),[A="",n="",s="",l="",c=""]=r;if(r.length>=5){const{entidade:u,natureza:d}=_s(Co(s));if(u.toUpperCase().includes("APOSENTADORIA"))continue;i.seq=de(A),i.nit=n,i.entidade=u,i.natureza=d,i.dataInicial=new oe(l.trim()).nativo(),i.dataFinal=c?new oe(c.trim()).nativo():i.dataInicial,i.salarios=[],t.push(i)}}return t}function ZB(e){const t=[],o=co(e,wa.vinculosAlt);for(const a of o){const i={},r=sa(a,wa.vinculosAlt),[A="",n="",s="",l="",c="",u=""]=r;if(r.length>=5){const{entidade:d,natureza:m}=_s(Co(s));if(d.toUpperCase().includes("APOSENTADORIA"))continue;i.seq=de(l),i.nit=c,i.entidade=d,i.natureza=m,i.dataInicial=new oe(A.trim()).nativo();const g=G(u,/\d{1,2}\/\d{2,4}$/),p=g?ua(new oe(`01/${g}`).nativo()):void 0,f=/\d{2}\/\d{2}\/\d{4}/.test(n);i.dataFinal=(f?new oe(n).nativo():void 0)??p??i.dataInicial,i.salarios=[],t.push(i)}}return t}function e0(e){et(wa);const t={segurado:{},vinculos:[]};t.segurado=XB(e);const o=YB(e);t.vinculos.push(...o);const a=ZB(e);return t.vinculos.push(...a),t.vinculos=t.vinculos.filter(i=>ie(i.seq)).sort((i,r)=>i.seq-r.seq),t}function t0(e){et(ba);const t={segurado:{},vinculos:[]},o=sa(e,ba.dadosSegurado),[a="",i="",r="",A="",n=""]=o;o.length>=5&&(t.segurado.nit=a,t.segurado.cpf=i,t.segurado.nome=Co(r),t.segurado.nascimento=new oe(A).nativo(),t.segurado.mae=Co(n));const s=co(e,ba.blocos).map(u=>o0(u)).filter(u=>ie(u.seq)).sort((u,d)=>u.seq-d.seq),l=s.map(u=>u.seq).filter(Uf),c=[];return l.forEach(u=>{const d=s.filter(m=>m&&m.seq&&m.seq===u).reduce((m,g,p)=>p===0?g:(m.texto+=g.texto,m),{});c.push(d)}),t.vinculos=c.map(u=>{let d=u;if(!u.beneficio){if(u.texto.includes("Remunerações")){const m=co(u.texto,[ba.subBlocos.remuneracoes,ba.subBlocos.remuneracoes_alt]);u.remuneracoes=Wr(m).sort((g,p)=>g.competencia.valueOf()-p.competencia.valueOf())}else if(u.texto.includes("Contribuições")){const m=co(u.texto,ba.subBlocos.contribuicoes);u.contribuicoes=Wr(m).sort((g,p)=>g.competencia.valueOf()-p.competencia.valueOf())}d=Hf(u),d.salarios=Tf(d)}return d}),t}function o0(e){const t={};if(e.includes("Benefício INDEFERIDO"))return t;const o=sa(e,ba.subBlocos.dadosItem);if(!o.length)return t;const[a="",i=""]=o,r=de(a),A=G(i,ba.subBlocos.nit)??"",n=sa(i,ba.subBlocos.conteudo);if(n.length<3)return t;const[s="",l="",c=""]=n,u=s.includes("Benefício"),d=s.includes("31 - AUXILIO DOENCA")||s.includes("32 - APOSENTADORIA")||s.includes("91 - AUXILIO DOENCA")||s.includes("92 - APOSENTADORIA")||s.includes("80 - AUXILIO");if(u&&!d)return t;t.texto=e,t.seq=r,t.nit=A;const{entidade:m,natureza:g}=_s(s);t.entidade=m,t.natureza=g,t.dataInicial=new oe(l.trim()).nativo();const p=Va(c)&&/\d{2}\/\d{2}\/\d{4}/.test(c);return t.dataFinal=p?new oe(c.trim()).nativo():void 0,t.salarios=[],t.remuneracoes=[],t.contribuicoes=[],t.contribuicoesAlt=[],t.contribuicoesGfip=[],t.beneficio=u,t}function du(e){return[["Segurado(a):",e.segurado.nome],["CPF:",e.segurado.cpf],["Dados:",`${e.vinculos.length} vínculos encontrados`]]}const $f=class Vf extends Mo{static nome="CNIS Completo";static testar(t){return GB(t)}obterNome(){return Vf.nome}analisar(t){et(Uo);const o=JB(t),a=du(o);return this.definir(o,a),o}},Nf=class qf extends Mo{static nome="CNIS Vínculos";static testar(t){return jB(t)}obterNome(){return qf.nome}analisar(t){et(wa);const o=e0(t),a=du(o);return this.definir(o,a),o}},kf=class Kf extends Mo{static nome="Meu INSS";static testar(t){return WB(t)}obterNome(){return Kf.nome}analisar(t){et(wa);const o=t0(t),a=du(o);return this.definir(o,a),o}},zf=[$f,Nf,kf],Xt={tipoPcd:/(REQUERIMENTO\sCONFORME\sLC\.142\/13)/,nb:/NB\.+:\s(\d{3}\.\d{3}\.\d{3}-\d)/,especie:/ESP[EÉ]CIE\.+:\s(\d{2})/,der:/DER\.+:\s(\d{2}\/\d{2}\/\d{4})/,dib:/DIB\.+:\s(\d{2}\/\d{2}\/\d{4})/,nome:/SEGURADO\.+:\s([A-Z\s]+)\sDATA NASC/,nascimento:/DATA NASC\.+:\s(\d{2}\/\d{2}\/\d{4})/,dat:/DAT\.+:(\d{2}\/\d{2}\/\d{4})/,nit:/NIT\.+:\s(\d{11})/,sexo:/SEXO\.+:\s([A-Z]+)\sRAMO ATIV/,ramoAtividade:/RAMO ATIV\.+:\s(\d+\s[A-Z]+)/,filiacao:/F\.FILIA[CÇ][AÃ]O\.+:\s(\d+\s[A-Z]+)/,blocos:/\d{2}\s\d{4}\s(\d{2}\/\d{2}\/\d{4}[\s\S]+?)(?=\d{2}\s\d{4}\s|$)/g,dadosVinculo:/(\d{2}\/\d{2}\/\d{4})\s(\d{2}\/\d{2}\/\d{4})\s(.+)/,segundaLinha:/\d{2}\/\d{2}\/\d{4}\s\d{2}\/\d{2}\/\d{4}\s.+\r?\n(.+)/,tempoTotal:/\s(\d+)\sANOS(?:,|\se)?\s(\d+)\sMESES(?:,|\se)?\s(\d+)\sDIAS/i,carenciaTotal:/(?:TOTAL\sDE\sCAR[EÊ]NCIA\sNO\sPERFIL\sCONTRIBUTIVO|TOTAL\sDE\sCAR[EÊ]NCIA\sCONSIDERADA).+:\s(\d+)/,baseConsiderada:/BASE\sCONSIDERADA\s(\d{2})\sANOS/,documento:/RESUMO DE DOCUMENTOS PARA CALCULO DE TEMPO DE CONTRIBUICAO([\s\S]*?)PERIODOS DE QUALIDADE DE SEGURADO/g};function a0(e){et(Xt);const t=Xt.der.test(e),o=Xt.dib.test(e),a=Xt.especie.test(e),i=Xt.sexo.test(e),r=Xt.ramoAtividade.test(e),A=Xt.blocos.test(e);return t&&o&&a&&i&&r&&A}function i0(e){et(Xt);const t={segurado:{},beneficio:{},vinculos:[],tempoTotal:0,carenciaTotal:0},o=G(e,Xt.tipoPcd),a=G(e,Xt.nb),i=G(e,Xt.especie),r=G(e,Xt.der),A=G(e,Xt.dib),n=G(e,Xt.dat),s=G(e,Xt.baseConsiderada),l=G(e,Xt.nome),c=G(e,Xt.nascimento),u=G(e,Xt.nit),d=G(e,Xt.sexo),m=G(e,Xt.ramoAtividade),g=G(e,Xt.filiacao);let p=0;const f=sa(e,Xt.tempoTotal);if(f.length){const[h="0",B="0",b="0"]=f;p=de(h)*360+de(B)*30+de(b)}t.tempoTotal=p;const v=G(e,Xt.carenciaTotal);return t.carenciaTotal=v?Number(v.trim()):0,t.baseConsiderada=s?Number(s.trim()):void 0,t.beneficio.tipoPcd=Re(o),t.beneficio.nb=a??"",t.beneficio.especie=i?Number(i.trim()):void 0,t.beneficio.der=r?new oe(r.trim()).nativo():void 0,t.beneficio.dib=A?new oe(A.trim()).nativo():void 0,t.beneficio.dat=n?.trim()?new oe(n.trim()).nativo():void 0,t.segurado.nome=l??"",t.segurado.nascimento=c?new oe(c.trim()).nativo():void 0,t.segurado.nit=u??"",t.segurado.sexo=d??"",t.segurado.ramoAtividade=m??"",t.segurado.filiacao=g??"",t.vinculos=co(e,Xt.blocos).map(h=>{const B={},b=sa(h,Xt.dadosVinculo),[Q="",y="",I=""]=b,D=sa(h,Xt.segundaLinha),[O=""]=D;if(b.length>=3){if(B.dataInicial=new oe(Q).nativo(),B.dataFinal=new oe(y).nativo(),/^\d+/.test(I)){const S=G(I,/^(\d+)/);B.tbc=S?Number(S):void 0}B.ts=I.includes(" TS "),B.li=I.includes(" LI ")||I.startsWith("LI "),B.bt=I.includes(" BT "),B.sprd=/\d\sS\s\d{2}/.test(I),B.descricao=G(I,/\d{2}\s\d{2}\s\d{2}\s(.+)$/)??""}return B.naoComputado=O.includes("00 00 00"),B}).filter(h=>!pA(h)),t}function r0(e){const t=me(e.segurado.nascimento)?e.segurado.nascimento.toLocaleDateString("pt-BR"):"";return[["Segurado(a):",e.segurado.nome??""],["Nascimento:",t],["Dados:",`${e.vinculos.length} vínculos encontrados`]]}const mu=class Gf extends Mo{static nome="Contagem INSS";static testar(t){return a0(t)}obterNome(){return Gf.nome}analisar(t){et(Xt);const o=co(t,Xt.documento);o.length&&Re(o[o.length-1])&&(t=o[o.length-1]);const a=i0(t),i=r0(a);return this.definir(a,i),a}},ao={especiePrincipal:/Espécie do benefício: (.*)\W/,dibPrincipal:/Data de início do benefício \(DIB\): (.*)\s/,dibAuxilioDoenca:/Data de início do benefício:\s?(.*)\W+Converte em aposentadoria por invalidez/,dibAposentadoriaInvalidez:/Data de início da aposentadoria por invalidez \(DIB\):\s?(.*)\W/,dibAdicional25:/Data do início do acréscimo de 25% \(caso seja devido\):(.*)\W/,observacoes:/OUTRAS OBSERVAÇÕES: (.*\s.*\s.*\s)Usuário/,blocos:{periodosComuns:/PERÍODOS COMUNS A SEREM ACRESCIDOS([\s\S]+?)Seção/,periodosEspeciais:/PERÍODOS ESPECIAIS A SEREM ACRESCIDOS([\s\S]+?)Seção/,progressoes:/Data da progressão\/regressão da deficiência \(se houver\):(.*)\s+Grau da deficiência \d \(se houver\):(.*)/g},dadosPeriodos:{periodo:/\(descrição\):.*\W+.*\W+.*\W/g,descricao:/\(descrição\): (.*)\W/,dataInicial:/inicial: (\d{2}\/\d{2}\/\d{4})/,dataFinal:/final: (\d{2}\/\d{2}\/\d{4})/},deficiencias:{inicioDeficiencia:/Data inicial da deficiência: (.*)\s/,grauDeficiencia:/Grau da deficiência:(.*)\s/,progressoes:/Data da progressão\/regressão da deficiência \(se houver\):\s?(\d{2}\/\d{2}\/\d{2})\s+Grau da deficiência \d \(se houver\):\s?(.*)/g},criterioAlcada:/Para efeito de apuração do valor excedente a ser renunciado, devem ser computadas: (.*)/,terminoDiferencas:/Data final dos atrasados:\s(\d{2}\/\d{2}\/\d{4})/g,aplicarPrescricao:/Observar prescrição quinquenal\? Resposta: (Sim)/};function A0(e){et(ao);const t=ao.blocos.periodosComuns.test(e),o=ao.blocos.periodosEspeciais.test(e);return t&&o}function n0(e){et(ao);const t={},{dib:o,especie:a,tipoPcd:i}=s0(e);t.dib=o,t.especie=a,t.tipoPcd=i;const r=[];t.periodosPcd=[];const A=G(e,ao.deficiencias.inicioDeficiencia,!0),n=G(e,ao.deficiencias.grauDeficiencia,!0);A&&n&&r.push({dataInicial:ht(A),grauDeficiencia:ad(n)}),co(e,ao.deficiencias.progressoes).forEach(m=>{const g=sa(m,ao.deficiencias.progressoes);g.length>=2&&r.push({dataInicial:ht(g[0]??""),grauDeficiencia:ad(g[1]??"")})}),r.toSorted((m,g)=>m.dataInicial.valueOf()-g.dataInicial.valueOf()).forEach((m,g,p)=>{p.length===1||g===p.length-1?t.periodosPcd.push({dataInicial:m.dataInicial,dataFinal:new Date,grauDeficiencia:m.grauDeficiencia,descricao:"PCD",formaContagem:"PCD"}):t.periodosPcd.push({dataInicial:m.dataInicial,dataFinal:Ci(p[g+1].dataInicial),grauDeficiencia:m.grauDeficiencia,descricao:"PCD",formaContagem:"PCD"})}),t.periodos=[],t.invalidos=[];const s=G(e,ao.blocos.periodosComuns)??"";co(s,ao.dadosPeriodos.periodo).forEach(m=>{const g=`(JUD) ${G(m,ao.dadosPeriodos.descricao)||"Determinação Judicial"}`,p=G(m,ao.dadosPeriodos.dataInicial),f=G(m,ao.dadosPeriodos.dataFinal),v="Comum";if(g&&p&&f){const h=ht(p),B=ht(f);h<=B?t.periodos.push({dataInicial:h,dataFinal:B,descricao:g,formaContagem:v}):t.invalidos.push({dataInicial:h,dataFinal:B,descricao:g,formaContagem:v})}});const l=G(e,ao.blocos.periodosEspeciais)??"";co(l,ao.dadosPeriodos.periodo).forEach(m=>{const g=`(JUD) ${G(m,ao.dadosPeriodos.descricao)||"Determinação Judicial"}`,p=G(m,ao.dadosPeriodos.dataInicial),f=G(m,ao.dadosPeriodos.dataFinal),v="Especial 25";if(g&&p&&f){const h=ht(p),B=ht(f);h<=B?t.periodos.push({dataInicial:h,dataFinal:B,descricao:g,formaContagem:v,grauDeficiencia:void 0}):t.invalidos.push({dataInicial:h,dataFinal:B,descricao:g,formaContagem:v,grauDeficiencia:void 0})}}),t.observacoes=G(e,ao.observacoes,!0)||"-";const c=G(e,ao.criterioAlcada,!0);c?.includes("Parcelas vencidas até a data do ajuizamento + 12 parcelas vincendas")&&(t.criterioAlcada="Vencidas + 12 vincendas"),c?.includes("Apenas parcelas vencidas")&&(t.criterioAlcada="Apenas vencidas");const u=G(e,ao.terminoDiferencas,!0);return u&&(t.terminoDiferencas=new oe(u).nativo()),G(e,ao.aplicarPrescricao,!0)&&(t.aplicarPrescricao=!0),t}function ad(e){return Re(e)?e.toLowerCase().includes("leve")?"L":e.toLowerCase().includes("moderada")?"M":e.toLowerCase().includes("grave")?"G":"":""}function s0(e){const t=G(e,ao.dibPrincipal),o=G(e,ao.dibAuxilioDoenca,!0),a=G(e,ao.dibAposentadoriaInvalidez,!0),i=G(e,ao.especiePrincipal,!0),r=Re(i)&&i.includes("Lei Complementar 142/2013");if(o)return{dib:ht(o),especie:31,tipoPcd:r};if(a)return{dib:ht(a),especie:32,tipoPcd:r};const A=t?ht(t):void 0;if(i)switch(i){case"Aposentadoria por idade (B41)":case"Aposentadoria idade da pessoa com deficiência (Lei Complementar 142/2013)":return{dib:A,especie:41,tipoPcd:r};case"Aposentadoria por tempo de contribuição (B42)":case"Aposentadoria por tempo de contribuição da pessoa com deficiência (Lei Complementar 142/2013)":return{dib:A,especie:42,tipoPcd:r};case"Aposentadoria especial (B46)":return{dib:A,especie:46,tipoPcd:r};case"Aposentadoria por tempo de contribuição de professor (B57)":return{dib:A,especie:57,tipoPcd:r};default:return{dib:A,especie:42,tipoPcd:r}}return{dib:A,especie:void 0,tipoPcd:!1}}function l0(e){return[["Epécie:",e.especie?.toString()||"Não encontrado"],["DIB:",e.dib?.toLocaleDateString("pt-BR")||"Não encontrado"],["PCD:",e.tipoPcd?`Sim - ${e.periodosPcd.length} periodo(s)`:"Não"]]}const jf=class Wf extends Mo{static nome="Formulario PJe";static testar(t){return A0(t)}obterNome(){return Wf.nome}analisar(t){et(ao);const o=n0(t),a=l0(o);return this.definir(o,a),o}},ho={assinatura:/(INSS - INSTITUTO NACIONAL DO SEGURO SOCIAL\sHistórico de Créditos)/,nb:/NB:\s(.+)/,nome:/Nome:\s(.*)/,especie:/Espécie:\s(\d+)/,dib:/\(DIB\):\s(\d{2}\/\d{2}\/\d{4})/,dcb:/\(DCB\):\s(\d{2}\/\d{2}\/\d{4})/,dip:/\(DIP\):\s(\d{2}\/\d{2}\/\d{4})/,blocoBeneficio:/(NB:\s.+[\s\S]+?)(?=NB|$)/g,blocoCompetencia:/Competência([\s\S]*?)(?=Competência|$)/g,competencia:/\s(\d{2}\/\d{4})\sR\$\s(?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2}/g,competenciaAlt:/(\d{2}\/\d{4})\s\d{2}\/\d{2}\/\d{4}\sR\$\s(?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2}/g,dataInicial:/(\d{2}\/\d{2}\/\d{4}).*?\s+a\s\d{2}\/\d{2}\/\d{4}/g,dataFinal:/\d{2}\/\d{2}\/\d{4}.*?\s+a\s(\d{2}\/\d{2}\/\d{4})/g,dataPagamento:/\d{2}\/\d{2}\/\d{4}.*?\s+a\s\d{2}\/\d{2}\/\d{4}\s(\d{2}\/\d{2}\/\d{4})/g,ocorrencia:/Ocorrência:(.*\s)/g,creditosRenda:{codigo101:/(101) (VALOR TOTAL DE MR DO PER[ÍI]ODO)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo102:/(102) (COMPLEMENTO DA MENSALIDADE REAJUSTADA)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo106:/(106) (PARCELA DE DIFEREN[CÇ]A DE REVIS[ÃA]O DA RMI)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo107:/(107) (COMPLEMENTO POSITIVO)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo110:/(110) (CORRECAO MONETARIA)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo116:/(116) (VALOR DA PARCELA REF\. A REVIS[ÃA]O ART\.201)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo117:/(117) (VALOR DA PARCELA REF\. A REVIS[ÃA]O ART\. 26)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo118:/(118) (COMPLEMENTO DE ACOMPANHANTE)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo119:/(119) (OUTRAS VANTAGENS)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo120:/(120) (PLANSFER - RFFSA\/CBTU)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo124:/(124) (CP - REVIS[ÃA]O DE REAJUSTAMENTO - PSS)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo125:/(125) (CP - DECIS[ÃA]O JUDICIAL)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo126:/(126) (CP - INFORMADO PELO PSS)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo127:/(127) (CP - REATIVA[CÇ][ÃA]O)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo128:/(128) (CP - CESSA[CÇ][ÃA]O DESDOBRAMENTO OU P\.A\.)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo129:/(129) (CP - INCLUS[ÃA]O DE ACOMPANHANTE)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo130:/(130) (CP - INFORMADO PELA RFFSA\/CBTU\/ECT)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo131:/(131) (CP - REVIS[ÃA]O BENEF[ÍI]CIO SISTEMA CENTRAL)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo132:/(132) (CP - DIFEREN[ÇC]A ARTIGO 201 OU 58)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo138:/(138) (CP - RES[ÍI]DUO CALCULADO PELO SISTEMA)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo139:/(139) (CP - RES[ÍI]DUO INFORMADO PELO INSS)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo143:/(143) (CP-COMPLEMENTO REVIS[ÃA]O IRSM LEI 10999\/04)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo144:/(144) (CP-PARCELA DA REVIS[ÃA]O IRSM LEI 10\.999\/04)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo147:/(147) (CP - DIFERENÇA REVIS[ÃA]O ORTN\/OTN\/BTN)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo148:/(148) (CP-DIFERENÇA REV\.JUD\.PENSAO-100% APBASE)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo149:/(149) (CP-PARC\. REV\. IRSM DEP\. PENS[ÃA]O CESSADA)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo150:/(150) (CP-PARC\. REV\.IRSM HERD\. DEP\. PENS[ÃA]O CESS)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo151:/(151) (CP-RES[ÍI]DUO INFORM NA CONCESS[ÃA]O DA PENS[ÃA]O)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo152:/(152) (CP - REVIS[ÃA]O DE S[ÚU]MULA 9)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo153:/(153) (CP - REVIS[ÃA]O JUDICIAL - [ÍI]NDICE RESIDUAL)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo156:/(156) (CP - REVIS[ÃA]O TETO)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo157:/(157) (CP - REVIS[ÃA]O TETO CESSADOS)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo158:/(158) (CP - REVIS[ÃA]O TETO HERDEIROS)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo159:/(159) (CORRE[CÇ][ÃA]O MONET[ÁA]RIA COMPLEMENTAR DE RENDA)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g},debitosRenda:{codigo203:/(203) (CONSIGNA[CÇ][ÃA]O)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo238:/(238) (COMPLEMENTO DE ACOMPANHANTE - D[EÉ]BITO)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo252:/(252) (DESC\. ACUMULA[CÇ][ÃA]O DE BENEF\. J[AÁ] CONCEDIDO)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g},creditosAbono:{codigo104:/(104) (VALOR DO D[EÉ]CIMO-TERCEIRO SAL[AÁ]RIO)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo160:/(160) (CORRECAO MONET. COMPLEMENTAR DE 13. SAL)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g},debitosAbono:{codigo203:/(214) (CONSIGNA[CÇ][ÃA]O SOBRE 13 SAL.)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo218:/(218) (13\. SAL[ÁA]RIO PAGO COMPETENCIAS ANTERIORES)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo236:/(236) (D[EÉ]CIMO TERCEIRO SAL[ÁA]RIO - D[EÉ]BITO)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo251:/(251) (D[EÉ]CIMO TERCEIRO SAL[ÁA]RIO PAGO A MAIOR)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g,codigo253:/(253) (DESC\. ACUM\. BENEF\. J[ÁA] CONCEDIDO - 13 SAL)\sR\$\s((?:\d{1,3}\.)?(?:\d{1,3}\.)?\d{0,3},\d{2})/g}},c0=[101,102,106,107,110,116,117,118,119,120,124,125,126,127,128,129,130,131,132,138,139,143,144,147,148,149,150,151,152,153,156,157,158,159],u0=[203,238,252],d0=[104,160],m0=[203,218,236,251,253];function f0(e){return et(ho),ho.assinatura.test(e)&&ho.nb.test(e)&&ho.blocoBeneficio.test(e)}function p0(e){et(ho);const t=G(e,ho.nome)??"Não identificado",o=new Set,a=co(e,ho.blocoBeneficio).map(r=>{const A={},n=G(r,ho.nb);A.nb=n??"Não identificado";const s=G(r,ho.especie);A.especie=Re(s)?de(s):void 0;const l=G(r,ho.dib);A.dib=Re(l)?ht(l):void 0;const c=G(r,ho.dcb);A.dcb=Re(c)?ht(c):void 0;const u=G(r,ho.dip);A.dip=Re(u)?ht(u):void 0;const d=[];return co(r,ho.blocoCompetencia).forEach(m=>{const g=G(m,[ho.competencia,ho.competenciaAlt]);if(!g)return;const p=G(m,ho.ocorrencia),f=G(m,ho.dataPagamento),v=p?.includes("Não Pago");if(!p?.toUpperCase().includes("PAGAMENTO EFETIVADO")&&(v||!f))return;const h=G(m,ho.dataInicial),B=G(m,ho.dataFinal),b=[],Q=[],y=[],I=[],D=pn(m,Object.values(ho.creditosRenda));D.forEach(M=>{o.add(M.codigo),b.push(M.valor)});const O=pn(m,Object.values(ho.debitosRenda));O.forEach(M=>{o.add(M.codigo),Q.push(M.valor)});const S=pn(m,Object.values(ho.creditosAbono));S.forEach(M=>{o.add(M.codigo),y.push(M.valor)});const k=pn(m,Object.values(ho.debitosAbono));k.forEach(M=>{o.add(M.codigo),I.push(M.valor)});const W=vt.somarMoeda(...b),re=vt.somarMoeda(...Q),$=vt.somarMoeda(W,-re),z=vt.somarMoeda(...y),N=vt.somarMoeda(...I),x=vt.somarMoeda(z,-N);d.push({id:rA.gerar(),nb:A.nb,competencia:ht(g),dataInicial:h?ht(h):void 0,dataFinal:B?ht(B):void 0,dataPagamento:f?ht(f):void 0,creditosRenda:D,debitosRenda:O,creditosAbono:S,debitosAbono:k,valorLiquidoRenda:$,valorLiquidoAbono:x})}),A.pagamentos=d,A}),i=Array.from(o).join(", ")??"Nenhum";return{segurado:t,codigosEncontrados:i,beneficios:a}}function pn(e,t){const o=[];return t.forEach(a=>{const i=sa(e,a),[r="",A="",n=""]=i;if(i.length){const s=de(n??"0");o.push({codigo:r,descricao:A,valor:s})}}),o}function g0(e){return[["Segurado(a):",e.segurado],["Códigos Encontrados:",e.codigosEncontrados]]}const Jf=class Xf extends Mo{static nome="HISCRE - SAT";static testar(t){return f0(t)}obterNome(){return Xf.nome}analisar(t){et(ho);const o=p0(t),a=g0(o);return this.definir(o,a),o}},Kt={notasDistintivas:{subtitulos:{periodosCalculados:/Períodos Calculados/,informacoesGerais:/Informações e Parâmetros Gerais/}},segurado:{nome:/Autor:\s(.*)/,processo:/Processo nº\s(.*)/,sexo:/Sexo:\s(.*)/,nascimento:/Nascimento:\s(\d{2}\/\d{2}\/\d{4})/,tipo:/Tipo:\s(.*)/},beneficio:{especie:/Espécie:\s(\d{2})/,nb:/NB:\s(.*)/,der:/(?:Data final considerada|DER|DER Reafirmada):\s(\d{2}\/\d{2}\/\d{4})/},parametros:{marcoCarencia:/Marco carência:\s(.*)/,carenciaApos103:/Carência após EC 103:\s(.*)/},periodos:{blocos:/(\d{2}\/\d{2}\/\d{4})\s(\d{2}\/\d{2}\/\d{4})\s(.*)/g,dataInicial:/(\d{2}\/\d{2}\/\d{4})/,dataFinal:/\d{2}\/\d{2}\/\d{4}\s(\d{2}\/\d{2}\/\d{4})/,descricao:/\d{2}\/\d{2}\/\d{4}\s\d{2}\/\d{2}\/\d{4}\s(.*?)(?:Comum|Especial|Rural|Magistério|Não Computar)/,formaContagem:/(Comum|Especial\s\d{2}|Rural|Rural\s\w\.{0,3}|Magistério|Não Computar)\s(?:[DML-]\s)?(?:\d{1,2}|-)/,grauDeficiencia:/(?:Comum|Especial|Rural|Rural\s\w\.{0,3}|Magistério|Não Computar)\s([DML])\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s\d{1,2},\d{2}/,motivoContagem:/\d,\d{2}\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(Contagem|Pedido|Determ|Sentença|CTC)/,observacao:/\d,\d{2}\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(?:\d{1,2}|-)\s(?:Contagem.+…|Pedido.+…|Determ.+…|Sentença.+…|CTC)\s(.*)/}};function v0(e){return et(Kt),Kt.notasDistintivas.subtitulos.periodosCalculados.test(e)&&Kt.notasDistintivas.subtitulos.informacoesGerais.test(e)&&Kt.segurado.sexo&&Kt.segurado.nascimento&&Kt.segurado.tipo&&Kt.beneficio.especie&&Kt.beneficio.der&&Kt.periodos.blocos.test(e)}function h0(e){et(Kt);const t={};return t.segurado=B0(e),t.beneficio=C0(e),t.parametros=b0(e),t.periodos=co(e,Kt.periodos.blocos).map(w0),t}function B0(e){const t=G(e,Kt.segurado.nome)??"",o=G(e,Kt.segurado.processo)??"",a=G(e,Kt.segurado.sexo)??"",i=G(e,Kt.segurado.nascimento)??"";return{nome:t&&t!=="-"?t:"",processo:o&&o!=="-"?o:"",sexo:a&&a!=="-"?a:"",nascimento:i?ht(i):void 0}}function C0(e){const t=G(e,Kt.segurado.tipo)??"",o=G(e,Kt.beneficio.especie)??"",a=G(e,Kt.beneficio.nb)??"",i=G(e,Kt.beneficio.der)??"";return{especie:o&&o!=="-"?Number(o):42,nb:a&&a!=="-"?a:"",der:i&&i!=="-"?ht(i):void 0,tipo:t&&t!=="-"?t:""}}function b0(e){const t=G(e,Kt.parametros.marcoCarencia)??"",o=G(e,Kt.parametros.carenciaApos103)??"";return{marcoCarencia:t&&t!=="-"?t:"",carenciaApos103:o&&o!=="-"?o.toLowerCase()==="sim":!1}}function w0(e){const t=G(e,Kt.periodos.dataInicial,!0)??"",o=G(e,Kt.periodos.dataFinal,!0)??"",a=G(e,Kt.periodos.descricao,!0)??"";let i=G(e,Kt.periodos.formaContagem,!0)??"";i.includes("Rural Cont")&&(i="Rural Contributivo");const r=G(e,Kt.periodos.grauDeficiencia,!0)??"";let A=G(e,Kt.periodos.motivoContagem,!0)??"";A.includes("Pedido")?A="Pedido Inicial":A.includes("Sentença")?A="Sentença/Acórdão":A.includes("Contagem")?A="Contagem INSS":A.includes("Determ")&&(A="Determ. Judicial");const n=G(e,Kt.periodos.observacao,!0)??"";return{dataInicial:ht(t),dataFinal:ht(o),descricao:a.trim(),grauDeficiencia:r,formaContagem:i,motivoContagem:A,observacao:n}}function F0(e){return[["Dados:",`${e.periodos.map(o=>[o.dataInicial,o.dataFinal,o.descricao,o.formaContagem,o.grauDeficiencia,o.motivoContagem,o.observacao]).length} períodos encontrados`]]}const Yf=class Zf extends Mo{static nome="Pdf Fábrica de Cálculos (TC)";static testar(t){return v0(t)}obterNome(){return Zf.nome}analisar(t){et(Kt);const o=h0(t),a=F0(o);return this.definir(o,a),o}},Vo={segurado:{nome:/Autor:\s(.*)\sNB/,processo:/Processo:\s(.*)Benefício/,sexo:/Sexo:\s(Homem|Mulher)/,nascimento:/Nascimento:\s(\d{2}\/\d{2}\/\d{4})/,tipo:/(Rurícola:\sSim|Grau\sde\sdeficiência\spreponderante)/},beneficio:{especie:/Benefício:\s(\d{2})/,nb:/NB: (.*)/,der:/DER\s\((\d{2}\/\d{2}\/\d{4})\)/},periodos:/^\d{1,3}\)\s(.*)\s(\[\s[A-H]\s\])\s(\[[1-6]\]\s)?(\d{2}\/\d{2}\/\d{4})\s(\d{2}\/\d{2}\/\d{4})/gm};function Q0(e){return et(Vo),Vo.segurado.nascimento&&Vo.segurado.sexo&&Vo.beneficio.especie&&Vo.beneficio.der&&Vo.periodos.test(e)}function E0(e){et(Vo);const t={};return t.segurado=y0(e),t.beneficio=I0(e),t.periodos=co(e,Vo.periodos).map(U0),t}function y0(e){const t=G(e,Vo.segurado.nome)??"",o=G(e,Vo.segurado.processo)??"",a=G(e,Vo.segurado.sexo)??"",i=G(e,Vo.segurado.nascimento)??"";return{nome:t&&t!=="-"?t:"",processo:o&&o!=="-"?o:"",sexo:a&&a!=="-"?a:"",nascimento:i?ht(i):void 0}}function I0(e){const t=G(e,Vo.beneficio.especie)??"",o=G(e,Vo.beneficio.nb)??"",a=G(e,Vo.beneficio.der)??"";let i=G(e,Vo.segurado.tipo)??"";return i.includes("Rurícola")?i="Rurícola":i.includes("deficiência preoponderante")&&(i="PCD"),{especie:t&&t!=="-"?Number(t):42,nb:o&&o!=="-"?o:"",der:a&&a!=="-"?ht(a):void 0,tipo:i&&i!=="-"?i:""}}function U0(e){const t=sa(e,Vo.periodos);let[o="",a="",i="",r="",A=""]=t,n="",s;return a.includes("A")?a="Comum":a.includes("B")?a="Especial 25":a.includes("C")?a="Especial 20":a.includes("D")?a="Especial 15":a.includes("E")?n="G":a.includes("F")?n="M":a.includes("G")?n="L":a.includes("H")&&(a="Não Computar"),i.includes("1")?i="Contagem INSS":i.includes("2")?i="Pedido Inicial":i.includes("3")?i="Determ. Judicial":i.includes("4")?i="Sentença/Acórdão":i.includes("5")?i="Contagem Recíproca":i.includes("6")&&(s=new oe("13/11/2019").nativo()),{dataInicial:ht(r),dataFinal:ht(A),descricao:o.trim(),grauDeficiencia:n??"",formaContagem:a,motivoContagem:i??"",computavelDesde:s}}function S0(e){return[["Dados:",`${e.periodos.map(o=>[o.dataInicial,o.dataFinal,o.descricao,o.formaContagem,o.grauDeficiencia,o.motivoContagem]).length} períodos encontrados`]]}const ep=class tp extends Mo{static nome="Planilha Google (TC)";static testar(t){return Q0(t)}obterNome(){return tp.nome}analisar(t){et(Vo);const o=E0(t),a=S0(o);return this.definir(o,a),o}},no={nome:/NB\s>\d+<\s(.*?)(?=\sTp\.Calculo)/,dataNascimento:/(?:Data de Nascimento\s*|Dt.Nascimento\ssegurado\s*):\s(\d{2}\/\d{2}\/\d{4})/,idade:/Idade do Beneficiario:\s(\d+)/,nb:/NB\s>(\d+)/,especie:/(?:Especie|Esp\.):\s(\d+)/,der:/DER:\s(\d{2}\/\d{2}\/\d{4})/,dib:/DIB:\s(\d{2}\/\d{2}\/\d{4})/,ddb:/DDB:\s(\d{2}\/\d{2}\/\d{4})/,dip:/DIP:\s(\d{2}\/\d{2}\/\d{4})/,dcb:/DCB:\s(\d{2}\/\d{2}\/\d{4})/,tc:/Tempo de Contribuicao:\s(\d+)A\s(\d+)M\s(\d+)D/,expectativaSobrevida:/Expectativa de Sobrevida:\s([\d,]+)/,fatorPrevindenciario:/Fator Previden\.:\s([\d,]+)/,coeficiente:/Coeficiente:\s([\d,]+)/,salarioDeBeneficio:/Sal\.Beneficio:\s([\d.,]+)/,rmi:/RMI:\s([\d.,]+)/,rma:/Reajustada - MR :\s([\d.,]+)/,indiceTeto:/Teto:\s([\d.,]+)/,salarios:/(\d{3})\s+(\d{2}\/\d{4})\s+([\d.,]+)\s+([\d.,]+)\s+([\d.,]+)\s*(:?DESCONSIDERADO)?/g};function D0(e){return et(no),no.salarios.test(e)||no.nome.test(e)&&no.nb.test(e)}function x0(e){return et(no),{beneficio:P0(e),salarios:co(e,no.salarios).map(L0)}}function P0(e){et(no);const t=_0(e),o=O0(e),a=R0(e),i=M0(e),r=t.especie?de(t.especie):void 0;return{...t,...o,...a,...i,especie:r,calcularAbono:r!==87&&r!==88&&r!==95}}function _0(e){const t=G(e,no.nome)??"",o=G(e,no.dataNascimento)??"",a=G(e,no.idade)??"",i=G(e,no.nb)??"",r=G(e,no.especie)??"";return{segurado:t,dataNascimento:o?ht(o):void 0,idade:a?de(a):void 0,nb:i,especie:r}}function O0(e){const t=G(e,no.der)??"",o=G(e,no.dib)??"",a=G(e,no.ddb)??"",i=G(e,no.dip)??"",r=G(e,no.dcb)??"";return{der:t?ht(t):void 0,dib:o?ht(o):void 0,ddb:a?ht(a):void 0,dip:i?ht(i):void 0,dcb:r?ht(r):void 0}}function R0(e){const t=G(e,no.expectativaSobrevida)??"",o=G(e,no.fatorPrevindenciario)??"",a=G(e,no.coeficiente)??"",i=G(e,no.salarioDeBeneficio)??"",r=G(e,no.rmi)??"",A=G(e,no.rma)??"",n=G(e,no.indiceTeto)??"";return{expectativaSobrevida:t?de(t):void 0,fatorPrevidenciario:o?de(o):void 0,coeficiente:a?de(a)/100:void 0,salarioBeneficio:i?de(i):void 0,rmi:r?de(r):void 0,rma:A?de(A):void 0,indiceTeto:n?de(n):void 0}}function M0(e){const[t,o,a]=sa(e,no.tc);return{TCAnos:t?de(t):0,TCMeses:o?de(o):0,TCDias:a?de(a):0}}function L0(e){const t=Co(e).split(" "),[o="",a="",i="",r="",A="",n=""]=t;return{seq:de(o),competencia:new oe(a).competencia(),valorOriginal:de(i),indice:de(r),valorCorrigido:de(A),desconsiderado:n==="DESCONSIDERADO"}}function H0(e){return[["Segurado(a):",e.beneficio.segurado],["NB:",e.beneficio.nb],["Dados:",`${e.salarios.length} salários encontrados`]]}const op=class ap extends Mo{static nome="Plenus";static testar(t){return D0(t)}obterNome(){return ap.nome}analisar(t){et(no);const o=x0(t),a=H0(o);return this.definir(o,a),o}},ei={processo:/\s(\d{7}-\d{2}\.\d{4}\.\d\.\d{2}\.\d{4})/,ajuizamento:/Autuação\s+(\d{1,2}\s[a-z]{3}\.?\s\d{4})/,citacao:/Data citação réu\s+(\d{1,2}\s[a-z]{3}\.?\s\d{4})/,autor:/Polo ativo\s+([A-Za-z.\s]+)\s/,reu:/Polo passivo\s+([A-Za-z\s]+)-\s/};function T0(e){return et(ei),ei.processo.test(e)&&ei.ajuizamento.test(e)&&ei.autor.test(e)}function id(e){if(typeof e!="string")return;const t=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],[o,a,i]=e.split(" "),r=a?.replace(".","").toLowerCase(),A=t.indexOf(r),n=new oe(new Date(Number(i),A,Number(o),0,0,0,0));return n.dataValida()?n.nativo():void 0}function $0(e){et(ei);const t={},o=G(e,ei.processo),a=G(e,ei.ajuizamento)||void 0,i=G(e,ei.autor),r=G(e,ei.reu),A=G(e,ei.citacao)||void 0;return t.processo=o??"",t.ajuizamento=id(a),t.autor=(i??"").trim(),t.reu=(r??"").trim(),t.citacao=id(A),t}function V0(e){return[["Processo:",e.processo],["Autor(a):",e.autor]]}const ip=class rp extends Mo{static nome="Dados do PJe";static testar(t){return T0(t)}obterNome(){return rp.nome}analisar(t){et(ei);const o=$0(t),a=V0(o);return this.definir(o,a),o}},Wo={nb:/(\d{3}\.\d{3}\.\d{3}-\d)/,especie:/(\d{2})\s[-/]\s/,dib:/DIB:\s\n?(\d{2}\/\d{2}\/\d{4})/,dip:/DIP\sAtual:\s\n?(\d{2}\/\d{2}\/\d{4})/,dcb:/DCB:\s\n?(\d{2}\/\d{2}\/\d{4})\n/,rmi:/RMI:\s\n?R\$\s?([\d.,]+)/,sb:/Salário\sde\s?\n?Benefício:\s\n?(?:R\$)?\s?\n?([\d.,]+)/,nbAnterior:/NB\sAnterior:\s\n?(\d{3}\.\d{3}\.\d{3}-\d)/,irt:/Índice\sde\sReajuste\sTeto:\s\n?(\d\.\d{4})/,assinatura:/(Dados Básicos da Concessão)|(INFORMAÇÕES DA CONCESSÃO DO BENEFÍCIO)/};function N0(e){return et(Wo),Wo.especie.test(e)&&Wo.nb.test(e)&&Wo.dib.test(e)&&Wo.rmi.test(e)&&Wo.assinatura.test(e)}function q0(e){et(Wo);const t={},o=G(e,Wo.nb),a=G(e,Wo.especie),i=G(e,Wo.dib),r=G(e,Wo.dip),A=G(e,Wo.dcb),n=G(e,Wo.rmi),s=G(e,Wo.sb),l=G(e,Wo.irt),c=G(e,Wo.nbAnterior);return o&&(t.nb=o),a&&(t.especie=de(a)),i&&(t.dib=ht(i)),r&&(t.dip=ht(r)),A&&(t.dcb=ht(A)),n&&(t.rmi=de(n)),s&&(t.sb=de(s)),l&&(t.irt=de(l)),c&&(t.nbAnterior=c),t}function k0(e){return[["NB:",e.nb.toString()],["Espécie:",e.especie.toString()],["DIB:",e.dib.toLocaleDateString("pt-BR")],["RMI:",e.rmi.toLocaleString("pt-BR")]]}const Ap=class np extends Mo{static nome="SIBE - CONBAS";static testar(t){return N0(t)}obterNome(){return np.nome}analisar(t){et(Wo);const o=q0(t),a=k0(o);return this.definir(o,a),o}},$a={blocos:{primeiraParte:/([\s\S]+?)NRO/,atividadePrincipal:/%\sNRO\sData\sSalário\sÍndice\sSal.\sCorrigido\sObservação\s([\s\S]+?)(?=NRO\sData\sSalário\sÍndice\sSal.\sCorrigido\sObservação\s)/,atividadePrincipal_alt:/NRO\sData\sSalário\sÍndice\sSal.\sCorrigido\sObservação\s([\s\S]+)$/,atividadesSecundarias:/Numerador\s(?:.*)\s(?:.*)\s([\s\S]+?)(?=Numerador\s)/g},dadosCalculo:{salarios:/^(\d{1,3}) (\d{2}\/\d{4}) [A-Z]+\$\s([\d.,]+) ([\d.,]+) [A-Z]+\$\s([\d.,]+)( .+)?$/gm}};function K0(e){et($a);const t=$a.blocos.primeiraParte.test(e),o=$a.blocos.atividadePrincipal.test(e),a=$a.blocos.atividadePrincipal_alt.test(e),i=$a.dadosCalculo.salarios.test(e);return t&&(o||a)&&i}function z0(e,t){return t.length&&Object.keys(e.pbc).map(o=>(e.pbc[o].consolidado=e.pbc[o].original||0,e.pbc[o].salariosAtividadesSecundarias={},t.forEach((a,i)=>{const r=a.pbc[o];e.pbc[o].salariosAtividadesSecundarias[i+1]=0,r&&(e.pbc[o].salariosAtividadesSecundarias[i+1]=r.original,e.pbc[o].consolidado=r.original+(e.pbc[o].consolidado||0),e.pbc[o].corrigido+=r.corrigido)}),{competencia:o,valor:e.pbc[o].corrigido})).sort((o,a)=>o.valor-a.valor).map(o=>o.competencia).forEach(o=>{e.pbc[o].desconsiderado=!0}),e.pbc}function rd(e){const t={},o=e.match($a.dadosCalculo.salarios);return Array.isArray(o)&&(t.pbc=o.reduce((a,i,r)=>{const A={},n=i.replace(/\sR\$\s/g," ").replace(/\./g,"").replace(/,/g,"."),[s,l,c,u,d,m]=n.split(" ");return A.competencia=new oe(l).competencia(),r===0&&(t.competenciaFinal=A.competencia),r===o.length-1&&(t.competenciaInicial=A.competencia),A.seq=de(s),A.original=de(c),A.indice=de(u),A.corrigido=de(d),A.limitadoTeto=Re(m)&&m.includes("LIMIT."),A.desconsiderado=Re(m)&&m.includes("DESCONSIDERADO"),a[A.competencia.toLocaleDateString("pt-BR")]=A,a},{})),t}function G0(e){et($a);const t={dadosCalculo:{}};let o,a;$a.blocos.atividadesSecundarias.test(e)?(o=G(e,$a.blocos.atividadePrincipal)??"",a=co(e,$a.blocos.atividadesSecundarias)):o=G(e,$a.blocos.atividadePrincipal_alt)??"";const r=Array.isArray(a)?a.map(rd):[],A=rd(o);return r.length&&(A.pbc=z0(A,r)),t.dadosCalculo={principal:A,secundarias:r},t}function j0(e){return[["PBC Principal:",`${Object.entries(e.dadosCalculo.principal.pbc).map(([o,a])=>a).sort((o,a)=>o.competencia.valueOf()-a.competencia.valueOf())?.length??"-"} salários encontrados`]]}const sp=class lp extends Mo{static nome="Sibe - HISCAL";static testar(t){return K0(t)}obterNome(){return lp.nome}analisar(t){et($a);const o=G0(t),a=j0(o);return this.definir(o,a),o}},Zr={periodos:/(\d{1,2}[./-]\d{1,2}[./-]\d{2,4})[-\saàteé]+(\d{1,2}[./-]\d{1,2}[./-]\d{2,4})([-\s]{1,3}.+)?/g,dadosPeriodo:/(\d{1,2}[./-]\d{1,2}[./-]\d{2,4})[-\saàteé]+(\d{1,2}[./-]\d{1,2}[./-]\d{2,4})([-\s]{1,3}.+)?/};function W0(e){return et(Zr),Zr.periodos.test(e)}function J0(e){return et(Zr),co(e,Zr.periodos).map(t=>{const o=sa(t,Zr.dadosPeriodo),[a="",i="",r=""]=o;return{dataInicial:ht(a),dataFinal:ht(i),descricao:r?r.replace(/^[-\s]{1,3}/,"").trim():""}})}function X0(e){return[["Dados:",`${e.length} períodos encontrados`]]}const cp=class up extends Mo{static nome="Tempo de Contribuição (Simples)";static testar(t){return W0(t)}obterNome(){return up.nome}analisar(t){et(Zr);const o=J0(t),a=X0(o);return this.definir(o,a),o}},Kl=[Pf,Of,kf,$f,Nf,mu,jf,Jf,Yf,ep,op,ip,sp,cp,Ap];class dp{_plugins;_documentoIdentificado;constructor(t){Array.isArray(t)&&t.length?this._plugins=t:this._plugins=Kl}get plugins(){return this._plugins}get nomesPlugins(){return this._plugins.map(t=>t.nome)}get incluiCnis(){const t=zf.map(o=>o.nome);return this.nomesPlugins.some(o=>t.includes(o))}get incluiCarta(){const t=Mf.map(o=>o.nome);return this.nomesPlugins.some(o=>t.includes(o))}get incluiContagemInss(){return this.nomesPlugins.includes(mu.nome)}get identificado(){return this._documentoIdentificado?this._documentoIdentificado.identificado:!1}get nome(){return this._documentoIdentificado?this._documentoIdentificado.obterNome():""}get dadosEstruturados(){return this._documentoIdentificado?.obterDadosEstruturados()}get quadroResumo(){return this._documentoIdentificado?this._documentoIdentificado.obterQuadroResumo():[]}analisar(t){for(const o of this._plugins)if(o.testar(t)){this._documentoIdentificado=new o,this._documentoIdentificado.analisar(t);break}}testarTodos(t){return Kl.map(o=>o.testar(t)?o.nome:"").filter(o=>o.length)}reiniciar(){this._documentoIdentificado=void 0}incluso(t){return this._plugins.some(o=>o.nome===t.nome)}}const fi={ultimaCompetencia:/Tabela válida para: (\d{2}\/\d{4})/,colunas:/Janeiro Fevereiro Março Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro/,identificador:/(Cap\. 4, item 4\.[23]\.1\.1)/,linhasIndices:/^(\d{4})((?:\s\d{1,2},\d{10})+)$/gm,linhasSelic:/^(\d{4})((?:\s\d{1,3},\d{2}%)+)$/gm};function Y0(e){et(fi);const t=fi.ultimaCompetencia.test(e),o=fi.colunas.test(e),a=fi.identificador.test(e),i=fi.linhasIndices.test(e),r=fi.linhasSelic.test(e);return t&&o&&a&&i&&r}function Ad(e){const t={};return e.forEach((o,a)=>{const i=o.trim().split(/\s+/);if(i.length<1)return;const r=i[0],A=i.slice(1).map(c=>Number.parseFloat(c.replace(",",".").replace("%","")));if(A.length===0)return;let n=1,s=A.length;A.length<12&&a===0&&(n=12-A.length+1,s=12);let l=0;for(let c=n;c<=s;c++){const u=c.toString().padStart(2,"0"),d=`${r}-${u}`;t[d]=A[l]??0,l++}}),t}function Z0(e){const t=G(e,fi.identificador)??"",o=G(e,fi.ultimaCompetencia)??"",a=Ad(co(e,fi.linhasIndices)),i=Ad(co(e,fi.linhasSelic));return{tabela:t,ultimaCompetencia:o,indicesAcumulados:a,selicAcumulada:i}}function eC(e){const{ultimaCompetencia:t,tabela:o}=e;return[["Tabela:",o.includes("4.3.1.1")?`Benefício Previdenciário (${o})`:`Condenatórias em Geral (${o})`],["Ultima competência:",t]]}const tC=class mp extends Mo{static nome="Ìndices CJF";static testar(t){return Y0(t)}obterNome(){return mp.nome}analisar(t){const o=Z0(t),a=eC(o);return this.definir(o,a),o}},oC=ut({name:"QBanner",props:{...Pa,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=Ft(),a=_a(e,o),i=F(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(a.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),r=F(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const A=[P("div",{class:"q-banner__avatar col-auto row items-center self-start"},uo(t.avatar)),P("div",{class:"q-banner__content col text-body2"},uo(t.default))],n=uo(t.action);return n!==void 0&&A.push(P("div",{class:r.value},n)),P("div",{class:i.value+(e.inlineActions===!1&&n!==void 0?" q-banner--top-padding":""),role:"alert"},A)}}}),aC=ut({name:"QBar",props:{...Pa,dense:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=Ft(),a=_a(e,o),i=F(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${a.value===!0?"dark":"light"}`);return()=>P("div",{class:i.value,role:"toolbar"},uo(t.default))}}),fp=ut({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const o=F(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>P("div",{class:o.value},uo(t.default))}});function fu(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Jv.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const iC={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},pp={...iC,contextMenu:Boolean};function gp({showing:e,avoidEmit:t,configureAnchorEl:o}){const{props:a,proxy:i,emit:r}=Ft(),A=R(null);let n=null;function s(m){return A.value===null?!1:m===void 0||m.touches===void 0||m.touches.length<=1}const l={};o===void 0&&(Object.assign(l,{hide(m){i.hide(m)},toggle(m){i.toggle(m),m.qAnchorHandled=!0},toggleKey(m){en(m,13)===!0&&l.toggle(m)},contextClick(m){i.hide(m),Ji(m),pt(()=>{i.show(m),m.qAnchorHandled=!0})},prevent:Ji,mobileTouch(m){if(l.mobileCleanup(m),s(m)!==!0)return;i.hide(m),A.value.classList.add("non-selectable");const g=m.target;Bi(l,"anchor",[[g,"touchmove","mobileCleanup","passive"],[g,"touchend","mobileCleanup","passive"],[g,"touchcancel","mobileCleanup","passive"],[A.value,"contextmenu","prevent","notPassive"]]),n=setTimeout(()=>{n=null,i.show(m),m.qAnchorHandled=!0},300)},mobileCleanup(m){A.value.classList.remove("non-selectable"),n!==null&&(clearTimeout(n),n=null),e.value===!0&&m!==void 0&&fu()}}),o=function(m=a.contextMenu){if(a.noParentEvent===!0||A.value===null)return;let g;m===!0?i.$q.platform.is.mobile===!0?g=[[A.value,"touchstart","mobileTouch","passive"]]:g=[[A.value,"mousedown","hide","passive"],[A.value,"contextmenu","contextClick","notPassive"]]:g=[[A.value,"click","toggle","passive"],[A.value,"keyup","toggleKey","passive"]],Bi(l,"anchor",g)});function c(){yr(l,"anchor")}function u(m){for(A.value=m;A.value.classList.contains("q-anchor--skip");)A.value=A.value.parentNode;o()}function d(){if(a.target===!1||a.target===""||i.$el.parentNode===null)A.value=null;else if(a.target===!0)u(i.$el.parentNode);else{let m=a.target;if(typeof a.target=="string")try{m=document.querySelector(a.target)}catch{m=void 0}m!=null?(A.value=m.$el||m,o()):(A.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return Je(()=>a.contextMenu,m=>{A.value!==null&&(c(),o(m))}),Je(()=>a.target,()=>{A.value!==null&&c(),d()}),Je(()=>a.noParentEvent,m=>{A.value!==null&&(m===!0?c():o())}),No(()=>{d(),t!==!0&&a.modelValue===!0&&A.value===null&&r("update:modelValue",!1)}),qo(()=>{n!==null&&clearTimeout(n),c()}),{anchorEl:A,canShow:s,anchorEvents:l}}function rC(e,t){const o=R(null);let a;function i(n,s){const l=`${s!==void 0?"add":"remove"}EventListener`,c=s!==void 0?s:a;n!==window&&n[l]("scroll",c,or.passive),window[l]("scroll",c,or.passive),a=s}function r(){o.value!==null&&(i(o.value),o.value=null)}const A=Je(()=>e.noParentEvent,()=>{o.value!==null&&(r(),t())});return qo(A),{localScrollTarget:o,unconfigureScrollTarget:r,changeScrollEvent:i}}const{notPassiveCapture:ns}=or,Ur=[];function ss(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let o=ku.length-1;for(;o>=0;){const a=ku[o].$;if(a.type.name==="QTooltip"){o--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;o--}for(let a=Ur.length-1;a>=0;a--){const i=Ur[a];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function AC(e){Ur.push(e),Ur.length===1&&(document.addEventListener("mousedown",ss,ns),document.addEventListener("touchstart",ss,ns))}function nd(e){const t=Ur.findIndex(o=>o===e);t!==-1&&(Ur.splice(t,1),Ur.length===0&&(document.removeEventListener("mousedown",ss,ns),document.removeEventListener("touchstart",ss,ns)))}let sd,ld;function cd(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function nC(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const zl={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{zl[`${e}#ltr`]=e,zl[`${e}#rtl`]=e});function ud(e,t){const o=e.split(" ");return{vertical:o[0],horizontal:zl[`${o[1]}#${t===!0?"rtl":"ltr"}`]}}function sC(e,t){let{top:o,left:a,right:i,bottom:r,width:A,height:n}=e.getBoundingClientRect();return t!==void 0&&(o-=t[1],a-=t[0],r+=t[1],i+=t[0],A+=t[0],n+=t[1]),{top:o,bottom:r,height:n,left:a,right:i,width:A,middle:a+(i-a)/2,center:o+(r-o)/2}}function lC(e,t,o){let{top:a,left:i}=e.getBoundingClientRect();return a+=t.top,i+=t.left,o!==void 0&&(a+=o[1],i+=o[0]),{top:a,bottom:a+1,height:1,left:i,right:i+1,width:1,middle:i,center:a}}function cC(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function dd(e,t,o,a){return{top:e[o.vertical]-t[a.vertical],left:e[o.horizontal]-t[a.horizontal]}}function vp(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{vp(e,t+1)},10);return}const{targetEl:o,offset:a,anchorEl:i,anchorOrigin:r,selfOrigin:A,absoluteOffset:n,fit:s,cover:l,maxHeight:c,maxWidth:u}=e;if(Ta.is.ios===!0&&window.visualViewport!==void 0){const y=document.body.style,{offsetLeft:I,offsetTop:D}=window.visualViewport;I!==sd&&(y.setProperty("--q-pe-left",I+"px"),sd=I),D!==ld&&(y.setProperty("--q-pe-top",D+"px"),ld=D)}const{scrollLeft:d,scrollTop:m}=o,g=n===void 0?sC(i,l===!0?[0,0]:a):lC(i,n,a);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:u,maxHeight:c,visibility:"visible"});const{offsetWidth:p,offsetHeight:f}=o,{elWidth:v,elHeight:h}=s===!0||l===!0?{elWidth:Math.max(g.width,p),elHeight:l===!0?Math.max(g.height,f):f}:{elWidth:p,elHeight:f};let B={maxWidth:u,maxHeight:c};(s===!0||l===!0)&&(B.minWidth=g.width+"px",l===!0&&(B.minHeight=g.height+"px")),Object.assign(o.style,B);const b=cC(v,h);let Q=dd(g,b,r,A);if(n===void 0||a===void 0)nl(Q,g,b,r,A);else{const{top:y,left:I}=Q;nl(Q,g,b,r,A);let D=!1;if(Q.top!==y){D=!0;const O=2*a[1];g.center=g.top-=O,g.bottom-=O+2}if(Q.left!==I){D=!0;const O=2*a[0];g.middle=g.left-=O,g.right-=O+2}D===!0&&(Q=dd(g,b,r,A),nl(Q,g,b,r,A))}B={top:Q.top+"px",left:Q.left+"px"},Q.maxHeight!==void 0&&(B.maxHeight=Q.maxHeight+"px",g.height>Q.maxHeight&&(B.minHeight=B.maxHeight)),Q.maxWidth!==void 0&&(B.maxWidth=Q.maxWidth+"px",g.width>Q.maxWidth&&(B.minWidth=B.maxWidth)),Object.assign(o.style,B),o.scrollTop!==m&&(o.scrollTop=m),o.scrollLeft!==d&&(o.scrollLeft=d)}function nl(e,t,o,a,i){const r=o.bottom,A=o.right,n=zn(),s=window.innerHeight-n,l=document.body.clientWidth;if(e.top<0||e.top+r>s)if(i.vertical==="center")e.top=t[a.vertical]>s/2?Math.max(0,s-r):0,e.maxHeight=Math.min(r,s);else if(t[a.vertical]>s/2){const c=Math.min(s,a.vertical==="center"?t.center:a.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(r,c),e.top=Math.max(0,c-r)}else e.top=Math.max(0,a.vertical==="center"?t.center:a.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(r,s-e.top);if(e.left<0||e.left+A>l)if(e.maxWidth=Math.min(A,l),i.horizontal==="middle")e.left=t[a.horizontal]>l/2?Math.max(0,l-A):0;else if(t[a.horizontal]>l/2){const c=Math.min(l,a.horizontal==="middle"?t.middle:a.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(A,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?t.middle:a.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(A,l-e.left)}const gA=ut({name:"QMenu",inheritAttrs:!1,props:{...pp,...$c,...Pa,...Xv,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:cd},self:{type:String,validator:cd},offset:{type:Array,validator:nC},scrollTarget:Tc,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Hc,"click","escapeKey"],setup(e,{slots:t,emit:o,attrs:a}){let i=null,r,A,n;const s=Ft(),{proxy:l}=s,{$q:c}=l,u=R(null),d=R(!1),m=F(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),g=_a(e,c),{registerTick:p,removeTick:f}=Gn(),{registerTimeout:v}=os(),{transitionProps:h,transitionStyle:B}=oh(e),{localScrollTarget:b,changeScrollEvent:Q,unconfigureScrollTarget:y}=rC(e,te),{anchorEl:I,canShow:D}=gp({showing:d}),{hide:O}=Vc({showing:d,canShow:D,handleShow:ae,handleHide:L,hideOnRouteChange:m,processOnMount:!0}),{showPortal:S,hidePortal:k,renderPortal:W}=Yv(s,u,Te,"menu"),re={anchorEl:I,innerRef:u,onClickOutside(fe){if(e.persistent!==!0&&d.value===!0)return O(fe),(fe.type==="touchstart"||fe.target.classList.contains("q-dialog__backdrop"))&&So(fe),!0}},$=F(()=>ud(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),z=F(()=>e.cover===!0?$.value:ud(e.self||"top start",c.lang.rtl)),N=F(()=>(e.square===!0?" q-menu--square":"")+(g.value===!0?" q-menu--dark q-dark":"")),x=F(()=>e.autoClose===!0?{onClick:Fe}:{}),M=F(()=>d.value===!0&&e.persistent!==!0);Je(M,fe=>{fe===!0?(Zv(ve),AC(re)):(Ku(ve),nd(re))});function X(){Zm(()=>{let fe=u.value;fe&&fe.contains(document.activeElement)!==!0&&(fe=fe.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||fe.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||fe.querySelector("[autofocus], [data-autofocus]")||fe,fe.focus({preventScroll:!0}))})}function ae(fe){if(i=e.noRefocus===!1?document.activeElement:null,eh(he),S(),te(),r=void 0,fe!==void 0&&(e.touchPosition||e.contextMenu)){const Ke=Pr(fe);if(Ke.left!==void 0){const{top:Lt,left:Gt}=I.value.getBoundingClientRect();r={left:Ke.left-Gt,top:Ke.top-Lt}}}A===void 0&&(A=Je(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,Ce)),e.noFocus!==!0&&document.activeElement.blur(),p(()=>{Ce(),e.noFocus!==!0&&X()}),v(()=>{c.platform.is.ios===!0&&(n=e.autoClose,u.value.click()),Ce(),S(!0),o("show",fe)},e.transitionDuration)}function L(fe){f(),k(),j(!0),i!==null&&(fe===void 0||fe.qClickOutside!==!0)&&(((fe?.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),v(()=>{k(!0),o("hide",fe)},e.transitionDuration)}function j(fe){r=void 0,A!==void 0&&(A(),A=void 0),(fe===!0||d.value===!0)&&(th(he),y(),nd(re),Ku(ve)),fe!==!0&&(i=null)}function te(){(I.value!==null||e.scrollTarget!==void 0)&&(b.value=Nc(I.value,e.scrollTarget),Q(b.value,Ce))}function Fe(fe){n!==!0?(ah(l,fe),o("click",fe)):n=!1}function he(fe){M.value===!0&&e.noFocus!==!0&&ih(u.value,fe.target)!==!0&&X()}function ve(fe){e.noEscDismiss!==!0&&(o("escapeKey"),O(fe))}function Ce(){vp({targetEl:u.value,offset:e.offset,anchorEl:I.value,anchorOrigin:$.value,selfOrigin:z.value,absoluteOffset:r,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Te(){return P(tn,h.value,()=>d.value===!0?P("div",{role:"menu",...a,ref:u,tabindex:-1,class:["q-menu q-position-engine scroll"+N.value,a.class],style:[a.style,B.value],...x.value},uo(t.default)):null)}return qo(j),Object.assign(l,{focus:X,updatePosition:Ce}),W}}),uC=ut({name:"QBtnToggle",props:{...Is,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:o}){const a=F(()=>e.options.find(d=>d.value===e.modelValue)!==void 0),i=F(()=>({type:"hidden",name:e.name,value:e.modelValue})),r=ef(i),A=F(()=>rh(e)),n=F(()=>({rounded:e.rounded,dense:e.dense,...A.value})),s=F(()=>e.options.map((d,m)=>{const{attrs:g,value:p,slot:f,...v}=d;return{slot:f,props:{key:m,"aria-pressed":p===e.modelValue?"true":"false",...g,...v,...n.value,disable:e.disable===!0||v.disable===!0,color:p===e.modelValue?c(v,"toggleColor"):c(v,"color"),textColor:p===e.modelValue?c(v,"toggleTextColor"):c(v,"textColor"),noCaps:c(v,"noCaps")===!0,noWrap:c(v,"noWrap")===!0,size:c(v,"size"),padding:c(v,"padding"),ripple:c(v,"ripple"),stack:c(v,"stack")===!0,stretch:c(v,"stretch")===!0,onClick(h){l(p,d,h)}}}}));function l(d,m,g){e.readonly!==!0&&(e.modelValue===d?e.clearable===!0&&(o("update:modelValue",null,null),o("clear")):o("update:modelValue",d,m),o("click",g))}function c(d,m){return d[m]===void 0?e[m]:d[m]}function u(){const d=s.value.map(m=>P(St,m.props,m.slot!==void 0?t[m.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&a.value===!0&&r(d,"push"),wi(t.default,d)}return()=>P(fp,{class:"q-btn-toggle",...A.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},u)}}),pu={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},dC=Object.keys(pu);pu.all=!0;function ls(e){const t={};for(const o of dC)e[o]===!0&&(t[o]=!0);return Object.keys(t).length===0?pu:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const mC=["INPUT","TEXTAREA"];function cs(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&mC.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function fC(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,a)=>{const i=parseFloat(o);i&&(t[a]=i)}),t}const pC=qc({name:"touch-swipe",beforeMount(e,{value:t,arg:o,modifiers:a}){if(a.mouse!==!0&&Ta.has.touch!==!0)return;const i=a.mouseCapture===!0?"Capture":"",r={handler:t,sensitivity:fC(o),direction:ls(a),noop:on,mouseStart(A){cs(A,r)&&tf(A)&&(Bi(r,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),r.start(A,!0))},touchStart(A){if(cs(A,r)){const n=A.target;Bi(r,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","notPassiveCapture"],[n,"touchend","end","notPassiveCapture"]]),r.start(A)}},start(A,n){Ta.is.firefox===!0&&Yr(e,!0);const s=Pr(A);r.event={x:s.left,y:s.top,time:Date.now(),mouse:n===!0,dir:!1}},move(A){if(r.event===void 0)return;if(r.event.dir!==!1){So(A);return}const n=Date.now()-r.event.time;if(n===0)return;const s=Pr(A),l=s.left-r.event.x,c=Math.abs(l),u=s.top-r.event.y,d=Math.abs(u);if(r.event.mouse!==!0){if(c<r.sensitivity[1]&&d<r.sensitivity[1]){r.end(A);return}}else if(window.getSelection().toString()!==""){r.end(A);return}else if(c<r.sensitivity[2]&&d<r.sensitivity[2])return;const m=c/n,g=d/n;r.direction.vertical===!0&&c<d&&c<100&&g>r.sensitivity[0]&&(r.event.dir=u<0?"up":"down"),r.direction.horizontal===!0&&c>d&&d<100&&m>r.sensitivity[0]&&(r.event.dir=l<0?"left":"right"),r.direction.up===!0&&c<d&&u<0&&c<100&&g>r.sensitivity[0]&&(r.event.dir="up"),r.direction.down===!0&&c<d&&u>0&&c<100&&g>r.sensitivity[0]&&(r.event.dir="down"),r.direction.left===!0&&c>d&&l<0&&d<100&&m>r.sensitivity[0]&&(r.event.dir="left"),r.direction.right===!0&&c>d&&l>0&&d<100&&m>r.sensitivity[0]&&(r.event.dir="right"),r.event.dir!==!1?(So(A),r.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),fu(),r.styleCleanup=p=>{r.styleCleanup=void 0,document.body.classList.remove("non-selectable");const f=()=>{document.body.classList.remove("no-pointer-events--children")};p===!0?setTimeout(f,50):f()}),r.handler({evt:A,touch:r.event.mouse!==!0,mouse:r.event.mouse,direction:r.event.dir,duration:n,distance:{x:c,y:d}})):r.end(A)},end(A){r.event!==void 0&&(yr(r,"temp"),Ta.is.firefox===!0&&Yr(e,!1),r.styleCleanup?.(!0),A!==void 0&&r.event.dir!==!1&&So(A),r.event=void 0)}};if(e.__qtouchswipe=r,a.mouse===!0){const A=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";Bi(r,"main",[[e,"mousedown","mouseStart",`passive${A}`]])}Ta.has.touch===!0&&Bi(r,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchswipe;o!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&o.end(),o.handler=t.value),o.direction=ls(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(yr(t,"main"),yr(t,"temp"),Ta.is.firefox===!0&&Yr(e,!1),t.styleCleanup?.(),delete e.__qtouchswipe)}});function gC(){let e=Object.create(null);return{getCache:(t,o)=>e[t]===void 0?e[t]=typeof o=="function"?o():o:e[t],setCache(t,o){e[t]=o},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const vC={name:{required:!0},disable:Boolean},md={setup(e,{slots:t}){return()=>P("div",{class:"q-panel scroll",role:"tabpanel"},uo(t.default))}},hC={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},BC=["update:modelValue","beforeTransition","transition"];function CC(){const{props:e,emit:t,proxy:o}=Ft(),{getCache:a}=gC(),{registerTimeout:i}=os();let r,A;const n=R(null),s={value:null};function l($){const z=e.vertical===!0?"up":"left";D((o.$q.lang.rtl===!0?-1:1)*($.direction===z?1:-1))}const c=F(()=>[[pC,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),u=F(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),d=F(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=F(()=>`--q-transition-duration: ${e.transitionDuration}ms`),g=F(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),p=F(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),f=F(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Je(()=>e.modelValue,($,z)=>{const N=b($)===!0?Q($):-1;A!==!0&&I(N===-1?0:N<Q(z)?-1:1),s.value!==N&&(s.value=N,t("beforeTransition",$,z),i(()=>{t("transition",$,z)},e.transitionDuration))});function v(){D(1)}function h(){D(-1)}function B($){t("update:modelValue",$)}function b($){return $!=null&&$!==""}function Q($){return r.findIndex(z=>z.props.name===$&&z.props.disable!==""&&z.props.disable!==!0)}function y(){return r.filter($=>$.props.disable!==""&&$.props.disable!==!0)}function I($){const z=$!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+($===-1?u.value:d.value):null;n.value!==z&&(n.value=z)}function D($,z=s.value){let N=z+$;for(;N!==-1&&N<r.length;){const x=r[N];if(x!==void 0&&x.props.disable!==""&&x.props.disable!==!0){I($),A=!0,t("update:modelValue",x.props.name),setTimeout(()=>{A=!1});return}N+=$}e.infinite===!0&&r.length!==0&&z!==-1&&z!==r.length&&D($,$===-1?r.length:-1)}function O(){const $=Q(e.modelValue);return s.value!==$&&(s.value=$),!0}function S(){const $=b(e.modelValue)===!0&&O()&&r[s.value];return e.keepAlive===!0?[P(nh,p.value,[P(f.value===!0?a(g.value,()=>({...md,name:g.value})):md,{key:g.value,style:m.value},()=>$)])]:[P("div",{class:"q-panel scroll",style:m.value,key:g.value,role:"tabpanel"},[$])]}function k(){if(r.length!==0)return e.animated===!0?[P(tn,{name:n.value},S)]:S()}function W($){return r=Ah(uo($.default,[])).filter(z=>z.props!==null&&z.props.slot===void 0&&b(z.props.name)===!0),r.length}function re(){return r}return Object.assign(o,{next:v,previous:h,goTo:B}),{panelIndex:s,panelDirectives:c,updatePanelsList:W,updatePanelIndex:O,getPanelContent:k,getEnabledPanels:y,getPanels:re,isValidPanelName:b,keepAliveProps:p,needsUniqueKeepAliveWrapper:f,goToPanelByOffset:D,goToPanel:B,nextPanel:v,previousPanel:h}}let wA=0;const bC={fullscreen:Boolean,noRouteFullscreenExit:Boolean},wC=["update:fullscreen","fullscreen"];function FC(){const e=Ft(),{props:t,emit:o,proxy:a}=e;let i,r,A;const n=R(!1);sh(e)===!0&&Je(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&c()}),Je(()=>t.fullscreen,u=>{n.value!==u&&s()}),Je(n,u=>{o("update:fullscreen",u),o("fullscreen",u)});function s(){n.value===!0?c():l()}function l(){n.value!==!0&&(n.value=!0,A=a.$el.parentNode,A.replaceChild(r,a.$el),document.body.appendChild(a.$el),wA++,wA===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:c},zu.add(i))}function c(){n.value===!0&&(i!==void 0&&(zu.remove(i),i=void 0),A.replaceChild(a.$el,r),n.value=!1,wA=Math.max(0,wA-1),wA===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return fA(()=>{r=document.createElement("span")}),No(()=>{t.fullscreen===!0&&l()}),qo(c),Object.assign(a,{toggleFullscreen:s,setFullscreen:l,exitFullscreen:c}),{inFullscreen:n,toggleFullscreen:s}}const QC={xs:8,sm:10,md:14,lg:20,xl:24},lr=ut({name:"QChip",props:{...Pa,...of,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=Ft(),i=_a(e,a),r=af(e,QC),A=F(()=>e.selected===!0||e.icon!==void 0),n=F(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),s=F(()=>e.iconRemove||a.iconSet.chip.remove),l=F(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=F(()=>{const f=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(f?` text-${f} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(l.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),u=F(()=>{const f=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},v={...f,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:f,remove:v}});function d(f){f.keyCode===13&&m(f)}function m(f){e.disable||(o("update:selected",!e.selected),o("click",f))}function g(f){(f.keyCode===void 0||f.keyCode===13)&&(So(f),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function p(){const f=[];l.value===!0&&f.push(P("div",{class:"q-focus-helper"})),A.value===!0&&f.push(P(Nt,{class:"q-chip__icon q-chip__icon--left",name:n.value}));const v=e.label!==void 0?[P("div",{class:"ellipsis"},[e.label])]:void 0;return f.push(P("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},lh(t.default,v))),e.iconRight&&f.push(P(Nt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&f.push(P(Nt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:s.value,...u.value.remove,onClick:g,onKeyup:g})),f}return()=>{if(e.modelValue===!1)return;const f={class:c.value,style:r.value};return l.value===!0&&Object.assign(f,u.value.chip,{onClick:m,onKeyup:d}),kc("div",f,p(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[rf,e.ripple]])}}});function sl(e,t,o){const a=Pr(e);let i,r=a.left-t.event.x,A=a.top-t.event.y,n=Math.abs(r),s=Math.abs(A);const l=t.direction;l.horizontal===!0&&l.vertical!==!0?i=r<0?"left":"right":l.horizontal!==!0&&l.vertical===!0?i=A<0?"up":"down":l.up===!0&&A<0?(i="up",n>s&&(l.left===!0&&r<0?i="left":l.right===!0&&r>0&&(i="right"))):l.down===!0&&A>0?(i="down",n>s&&(l.left===!0&&r<0?i="left":l.right===!0&&r>0&&(i="right"))):l.left===!0&&r<0?(i="left",n<s&&(l.up===!0&&A<0?i="up":l.down===!0&&A>0&&(i="down"))):l.right===!0&&r>0&&(i="right",n<s&&(l.up===!0&&A<0?i="up":l.down===!0&&A>0&&(i="down")));let c=!1;if(i===void 0&&o===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};i=t.event.lastDir,c=!0,i==="left"||i==="right"?(a.left-=r,n=0,r=0):(a.top-=A,s=0,A=0)}return{synthetic:c,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:a,direction:i,isFirst:t.event.isFirst,isFinal:o===!0,duration:Date.now()-t.event.time,distance:{x:n,y:s},offset:{x:r,y:A},delta:{x:a.left-t.event.lastX,y:a.top-t.event.lastY}}}}let EC=0;const Gl=qc({name:"touch-pan",beforeMount(e,{value:t,modifiers:o}){if(o.mouse!==!0&&Ta.has.touch!==!0)return;function a(r,A){o.mouse===!0&&A===!0?So(r):(o.stop===!0&&mi(r),o.prevent===!0&&Ji(r))}const i={uid:"qvtp_"+EC++,handler:t,modifiers:o,direction:ls(o),noop:on,mouseStart(r){cs(r,i)&&tf(r)&&(Bi(i,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),i.start(r,!0))},touchStart(r){if(cs(r,i)){const A=r.target;Bi(i,"temp",[[A,"touchmove","move","notPassiveCapture"],[A,"touchcancel","end","passiveCapture"],[A,"touchend","end","passiveCapture"]]),i.start(r)}},start(r,A){if(Ta.is.firefox===!0&&Yr(e,!0),i.lastEvt=r,A===!0||o.stop===!0){if(i.direction.all!==!0&&(A!==!0||i.modifiers.mouseAllDir!==!0&&i.modifiers.mousealldir!==!0)){const l=r.type.indexOf("mouse")!==-1?new MouseEvent(r.type,r):new TouchEvent(r.type,r);r.defaultPrevented===!0&&Ji(l),r.cancelBubble===!0&&mi(l),Object.assign(l,{qKeyEvent:r.qKeyEvent,qClickOutside:r.qClickOutside,qAnchorHandled:r.qAnchorHandled,qClonedBy:r.qClonedBy===void 0?[i.uid]:r.qClonedBy.concat(i.uid)}),i.initialEvent={target:r.target,event:l}}mi(r)}const{left:n,top:s}=Pr(r);i.event={x:n,y:s,time:Date.now(),mouse:A===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:n,lastY:s}},move(r){if(i.event===void 0)return;const A=Pr(r),n=A.left-i.event.x,s=A.top-i.event.y;if(n===0&&s===0)return;i.lastEvt=r;const l=i.event.mouse===!0,c=()=>{a(r,l);let m;o.preserveCursor!==!0&&o.preservecursor!==!0&&(m=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),l===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),fu(),i.styleCleanup=g=>{if(i.styleCleanup=void 0,m!==void 0&&(document.documentElement.style.cursor=m),document.body.classList.remove("non-selectable"),l===!0){const p=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{p(),g()},50):p()}else g!==void 0&&g()}};if(i.event.detected===!0){i.event.isFirst!==!0&&a(r,i.event.mouse);const{payload:m,synthetic:g}=sl(r,i,!1);m!==void 0&&(i.handler(m)===!1?i.end(r):(i.styleCleanup===void 0&&i.event.isFirst===!0&&c(),i.event.lastX=m.position.left,i.event.lastY=m.position.top,i.event.lastDir=g===!0?void 0:m.direction,i.event.isFirst=!1));return}if(i.direction.all===!0||l===!0&&(i.modifiers.mouseAllDir===!0||i.modifiers.mousealldir===!0)){c(),i.event.detected=!0,i.move(r);return}const u=Math.abs(n),d=Math.abs(s);u!==d&&(i.direction.horizontal===!0&&u>d||i.direction.vertical===!0&&u<d||i.direction.up===!0&&u<d&&s<0||i.direction.down===!0&&u<d&&s>0||i.direction.left===!0&&u>d&&n<0||i.direction.right===!0&&u>d&&n>0?(i.event.detected=!0,i.move(r)):i.end(r,!0))},end(r,A){if(i.event!==void 0){if(yr(i,"temp"),Ta.is.firefox===!0&&Yr(e,!1),A===!0)i.styleCleanup?.(),i.event.detected!==!0&&i.initialEvent!==void 0&&i.initialEvent.target.dispatchEvent(i.initialEvent.event);else if(i.event.detected===!0){i.event.isFirst===!0&&i.handler(sl(r===void 0?i.lastEvt:r,i).payload);const{payload:n}=sl(r===void 0?i.lastEvt:r,i,!0),s=()=>{i.handler(n)};i.styleCleanup!==void 0?i.styleCleanup(s):s()}i.event=void 0,i.initialEvent=void 0,i.lastEvt=void 0}}};if(e.__qtouchpan=i,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Bi(i,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}Ta.has.touch===!0&&Bi(i,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchpan;o!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&o.end(),o.handler=t.value),o.direction=ls(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),yr(t,"main"),yr(t,"temp"),Ta.is.firefox===!0&&Yr(e,!1),t.styleCleanup?.(),delete e.__qtouchpan)}}),fd="q-slider__marker-labels",yC=e=>({value:e}),IC=({marker:e})=>P("div",{key:e.value,style:e.style,class:e.classes},e.label),hp=[34,37,40,33,39,38],UC={...Pa,...Is,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},SC=["pan","update:modelValue","change"];function DC({updateValue:e,updatePosition:t,getDragging:o,formAttrs:a}){const{props:i,emit:r,slots:A,proxy:{$q:n}}=Ft(),s=_a(i,n),l=ef(a),c=R(!1),u=R(!1),d=R(!1),m=R(!1),g=F(()=>i.vertical===!0?"--v":"--h"),p=F(()=>"-"+(i.switchLabelSide===!0?"switched":"standard")),f=F(()=>i.vertical===!0?i.reverse===!0:i.reverse!==(n.lang.rtl===!0)),v=F(()=>isNaN(i.innerMin)===!0||i.innerMin<i.min?i.min:i.innerMin),h=F(()=>isNaN(i.innerMax)===!0||i.innerMax>i.max?i.max:i.innerMax),B=F(()=>i.disable!==!0&&i.readonly!==!0&&v.value<h.value),b=F(()=>{if(i.step===0)return qe=>qe;const pe=(String(i.step).trim().split(".")[1]||"").length;return qe=>parseFloat(qe.toFixed(pe))}),Q=F(()=>i.step===0?1:i.step),y=F(()=>B.value===!0?i.tabindex||0:-1),I=F(()=>i.max-i.min),D=F(()=>h.value-v.value),O=F(()=>Lt(v.value)),S=F(()=>Lt(h.value)),k=F(()=>i.vertical===!0?f.value===!0?"bottom":"top":f.value===!0?"right":"left"),W=F(()=>i.vertical===!0?"height":"width"),re=F(()=>i.vertical===!0?"width":"height"),$=F(()=>i.vertical===!0?"vertical":"horizontal"),z=F(()=>{const pe={role:"slider","aria-valuemin":v.value,"aria-valuemax":h.value,"aria-orientation":$.value,"data-step":i.step};return i.disable===!0?pe["aria-disabled"]="true":i.readonly===!0&&(pe["aria-readonly"]="true"),pe}),N=F(()=>`q-slider q-slider${g.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(i.vertical===!0?"row":"column")+(i.disable===!0?" disabled":" q-slider--enabled"+(B.value===!0?" q-slider--editable":""))+(d.value==="both"?" q-slider--focus":"")+(i.label||i.labelAlways===!0?" q-slider--label":"")+(i.labelAlways===!0?" q-slider--label-always":"")+(s.value===!0?" q-slider--dark":"")+(i.dense===!0?" q-slider--dense q-slider--dense"+g.value:""));function x(pe){const qe="q-slider__"+pe;return`${qe} ${qe}${g.value} ${qe}${g.value}${p.value}`}function M(pe){const qe="q-slider__"+pe;return`${qe} ${qe}${g.value}`}const X=F(()=>{const pe=i.selectionColor||i.color;return"q-slider__selection absolute"+(pe!==void 0?` text-${pe}`:"")}),ae=F(()=>M("markers")+" absolute overflow-hidden"),L=F(()=>M("track-container")),j=F(()=>x("pin")),te=F(()=>x("label")),Fe=F(()=>x("text-container")),he=F(()=>x("marker-labels-container")+(i.markerLabelsClass!==void 0?` ${i.markerLabelsClass}`:"")),ve=F(()=>"q-slider__track relative-position no-outline"+(i.trackColor!==void 0?` bg-${i.trackColor}`:"")),Ce=F(()=>{const pe={[re.value]:i.trackSize};return i.trackImg!==void 0&&(pe.backgroundImage=`url(${i.trackImg}) !important`),pe}),Te=F(()=>"q-slider__inner absolute"+(i.innerTrackColor!==void 0?` bg-${i.innerTrackColor}`:"")),fe=F(()=>{const pe=S.value-O.value,qe={[k.value]:`${100*O.value}%`,[W.value]:pe===0?"2px":`${100*pe}%`};return i.innerTrackImg!==void 0&&(qe.backgroundImage=`url(${i.innerTrackImg}) !important`),qe});function Ke(pe){const{min:qe,max:ft,step:Ot}=i;let eo=qe+pe*(ft-qe);if(Ot>0){const zo=(eo-v.value)%Ot;eo+=(Math.abs(zo)>=Ot/2?(zo<0?-1:1)*Ot:0)-zo}return eo=b.value(eo),oi(eo,v.value,h.value)}function Lt(pe){return I.value===0?0:(pe-i.min)/I.value}function Gt(pe,qe){const ft=Pr(pe),Ot=i.vertical===!0?oi((ft.top-qe.top)/qe.height,0,1):oi((ft.left-qe.left)/qe.width,0,1);return oi(f.value===!0?1-Ot:Ot,O.value,S.value)}const Dt=F(()=>as(i.markers)===!0?i.markers:Q.value),J=F(()=>{const pe=[],qe=Dt.value,ft=i.max;let Ot=i.min;do pe.push(Ot),Ot+=qe;while(Ot<ft);return pe.push(ft),pe}),ue=F(()=>{const pe=` ${fd}${g.value}-`;return fd+`${pe}${i.switchMarkerLabelsSide===!0?"switched":"standard"}${pe}${f.value===!0?"rtl":"ltr"}`}),Ee=F(()=>i.markerLabels===!1?null:Ye(i.markerLabels).map((pe,qe)=>({index:qe,value:pe.value,label:pe.label||pe.value,classes:ue.value+(pe.classes!==void 0?" "+pe.classes:""),style:{...at(pe.value),...pe.style||{}}}))),_e=F(()=>({markerList:Ee.value,markerMap:At.value,classes:ue.value,getStyle:at})),rt=F(()=>{const pe=D.value===0?"2px":100*Dt.value/D.value;return{...fe.value,backgroundSize:i.vertical===!0?`2px ${pe}%`:`${pe}% 2px`}});function Ye(pe){if(pe===!1)return null;if(pe===!0)return J.value.map(yC);if(typeof pe=="function")return J.value.map(ft=>{const Ot=pe(ft);return jn(Ot)===!0?{...Ot,value:ft}:{value:ft,label:Ot}});const qe=({value:ft})=>ft>=i.min&&ft<=i.max;return Array.isArray(pe)===!0?pe.map(ft=>jn(ft)===!0?ft:{value:ft}).filter(qe):Object.keys(pe).map(ft=>{const Ot=pe[ft],eo=Number(ft);return jn(Ot)===!0?{...Ot,value:eo}:{value:eo,label:Ot}}).filter(qe)}function at(pe){return{[k.value]:`${100*(pe-i.min)/I.value}%`}}const At=F(()=>{if(i.markerLabels===!1)return null;const pe={};return Ee.value.forEach(qe=>{pe[qe.value]=qe}),pe});function Ae(){if(A["marker-label-group"]!==void 0)return A["marker-label-group"](_e.value);const pe=A["marker-label"]||IC;return Ee.value.map(qe=>pe({marker:qe,..._e.value}))}const Ie=F(()=>[[Gl,Xe,void 0,{[$.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Xe(pe){pe.isFinal===!0?(m.value!==void 0&&(t(pe.evt),pe.touch===!0&&e(!0),m.value=void 0,r("pan","end")),c.value=!1,d.value=!1):pe.isFirst===!0?(m.value=o(pe.evt),t(pe.evt),e(),c.value=!0,r("pan","start")):(t(pe.evt),e())}function Qt(){d.value=!1}function _t(pe){t(pe,o(pe)),e(),u.value=!0,c.value=!0,document.addEventListener("mouseup",Bt,!0)}function Bt(){u.value=!1,c.value=!1,e(!0),Qt(),document.removeEventListener("mouseup",Bt,!0)}function Ct(pe){t(pe,o(pe)),e(!0)}function go(pe){hp.includes(pe.keyCode)&&e(!0)}function mo(pe){if(i.vertical===!0)return null;const qe=n.lang.rtl!==i.reverse?1-pe:pe;return{transform:`translateX(calc(${2*qe-1} * ${i.thumbSize} / 2 + ${50-100*qe}%))`}}function Qo(pe){const qe=F(()=>u.value===!1&&(d.value===pe.focusValue||d.value==="both")?" q-slider--focus":""),ft=F(()=>`q-slider__thumb q-slider__thumb${g.value} q-slider__thumb${g.value}-${f.value===!0?"rtl":"ltr"} absolute non-selectable`+qe.value+(pe.thumbColor.value!==void 0?` text-${pe.thumbColor.value}`:"")),Ot=F(()=>({width:i.thumbSize,height:i.thumbSize,[k.value]:`${100*pe.ratio.value}%`,zIndex:d.value===pe.focusValue?2:void 0})),eo=F(()=>pe.labelColor.value!==void 0?` text-${pe.labelColor.value}`:""),zo=F(()=>mo(pe.ratio.value)),va=F(()=>"q-slider__text"+(pe.labelTextColor.value!==void 0?` text-${pe.labelTextColor.value}`:""));return()=>{const si=[P("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[P("path",{d:i.thumbPath})]),P("div",{class:"q-slider__focus-ring fit"})];return(i.label===!0||i.labelAlways===!0)&&(si.push(P("div",{class:j.value+" absolute fit no-pointer-events"+eo.value},[P("div",{class:te.value,style:{minWidth:i.thumbSize}},[P("div",{class:Fe.value,style:zo.value},[P("span",{class:va.value},pe.label.value)])])])),i.name!==void 0&&i.disable!==!0&&l(si,"push")),P("div",{class:ft.value,style:Ot.value,...pe.getNodeData()},si)}}function Ko(pe,qe,ft,Ot){const eo=[];i.innerTrackColor!=="transparent"&&eo.push(P("div",{key:"inner",class:Te.value,style:fe.value})),i.selectionColor!=="transparent"&&eo.push(P("div",{key:"selection",class:X.value,style:pe.value})),i.markers!==!1&&eo.push(P("div",{key:"marker",class:ae.value,style:rt.value})),Ot(eo);const zo=[kc("div",{key:"trackC",class:L.value,tabindex:qe.value,...ft.value},[P("div",{class:ve.value,style:Ce.value},eo)],"slide",B.value,()=>Ie.value)];if(i.markerLabels!==!1){const va=i.switchMarkerLabelsSide===!0?"unshift":"push";zo[va](P("div",{key:"markerL",class:he.value},Ae()))}return zo}return qo(()=>{document.removeEventListener("mouseup",Bt,!0)}),{state:{active:c,focus:d,preventFocus:u,dragging:m,editable:B,classes:N,tabindex:y,attributes:z,roundValueFn:b,keyStep:Q,trackLen:I,innerMin:v,innerMinRatio:O,innerMax:h,innerMaxRatio:S,positionProp:k,sizeProp:W,isReversed:f},methods:{onActivate:_t,onMobileClick:Ct,onBlur:Qt,onKeyup:go,getContent:Ko,getThumbRenderFn:Qo,convertRatioToModel:Ke,convertModelToRatio:Lt,getDraggingRatio:Gt}}}const xC=()=>({}),PC=ut({name:"QSlider",props:{...UC,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:SC,setup(e,{emit:t}){const{proxy:{$q:o}}=Ft(),{state:a,methods:i}=DC({updateValue:g,updatePosition:f,getDragging:p,formAttrs:ch(e)}),r=R(null),A=R(0),n=R(0);function s(){n.value=e.modelValue===null?a.innerMin.value:oi(e.modelValue,a.innerMin.value,a.innerMax.value)}Je(()=>`${e.modelValue}|${a.innerMin.value}|${a.innerMax.value}`,s),s();const l=F(()=>i.convertModelToRatio(n.value)),c=F(()=>a.active.value===!0?A.value:l.value),u=F(()=>{const B={[a.positionProp.value]:`${100*a.innerMinRatio.value}%`,[a.sizeProp.value]:`${100*(c.value-a.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(B.backgroundImage=`url(${e.selectionImg}) !important`),B}),d=i.getThumbRenderFn({focusValue:!0,getNodeData:xC,ratio:c,label:F(()=>e.labelValue!==void 0?e.labelValue:n.value),thumbColor:F(()=>e.thumbColor||e.color),labelColor:F(()=>e.labelColor),labelTextColor:F(()=>e.labelTextColor)}),m=F(()=>a.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:i.onMobileClick}:{onMousedown:i.onActivate,onFocus:v,onBlur:i.onBlur,onKeydown:h,onKeyup:i.onKeyup});function g(B){n.value!==e.modelValue&&t("update:modelValue",n.value),B===!0&&t("change",n.value)}function p(){return r.value.getBoundingClientRect()}function f(B,b=a.dragging.value){const Q=i.getDraggingRatio(B,b);n.value=i.convertRatioToModel(Q),A.value=e.snap!==!0||e.step===0?Q:i.convertModelToRatio(n.value)}function v(){a.focus.value=!0}function h(B){if(hp.includes(B.keyCode)===!1)return;So(B);const b=([34,33].includes(B.keyCode)?10:1)*a.keyStep.value,Q=([34,37,40].includes(B.keyCode)?-1:1)*(a.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*b;n.value=oi(a.roundValueFn.value(n.value+Q),a.innerMin.value,a.innerMax.value),g()}return()=>{const B=i.getContent(u,a.tabindex,m,b=>{b.push(d())});return P("div",{ref:r,class:a.classes.value+(e.modelValue===null?" q-slider--no-value":""),...a.attributes.value,"aria-valuenow":e.modelValue},B)}}});function _C(){const e=R(!Kc.value);return e.value===!1&&No(()=>{e.value=!0}),{isHydrated:e}}const Bp=typeof ResizeObserver<"u",pd=Bp===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},rr=ut({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let o=null,a,i={width:-1,height:-1};function r(s){s===!0||e.debounce===0||e.debounce==="0"?A():o===null&&(o=setTimeout(A,e.debounce))}function A(){if(o!==null&&(clearTimeout(o),o=null),a){const{offsetWidth:s,offsetHeight:l}=a;(s!==i.width||l!==i.height)&&(i={width:s,height:l},t("resize",i))}}const{proxy:n}=Ft();if(n.trigger=r,Bp===!0){let s;const l=c=>{a=n.$el.parentNode,a?(s=new ResizeObserver(r),s.observe(a),A()):c!==!0&&pt(()=>{l(!0)})};return No(()=>{l()}),qo(()=>{o!==null&&clearTimeout(o),s!==void 0&&(s.disconnect!==void 0?s.disconnect():a&&s.unobserve(a))}),on}else{let s=function(){o!==null&&(clearTimeout(o),o=null),u!==void 0&&(u.removeEventListener!==void 0&&u.removeEventListener("resize",r,or.passive),u=void 0)},l=function(){s(),a?.contentDocument&&(u=a.contentDocument.defaultView,u.addEventListener("resize",r,or.passive),A())};const{isHydrated:c}=_C();let u;return No(()=>{pt(()=>{a=n.$el,a&&l()})}),qo(s),()=>{if(c.value===!0)return P("object",{class:"q--avoid-card-border",style:pd.style,tabindex:-1,type:"text/html",data:pd.url,"aria-hidden":"true",onLoad:l})}}}});function OC(e,t,o){const a=o===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?a[0]:a[1]}${e?` text-${e}`:""}`}const RC=["left","center","right","justify"],gu=ut({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>RC.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:o}){const{proxy:a}=Ft(),{$q:i}=a,{registerTick:r}=Gn(),{registerTick:A}=Gn(),{registerTick:n}=Gn(),{registerTimeout:s,removeTimeout:l}=os(),{registerTimeout:c,removeTimeout:u}=os(),d=R(null),m=R(null),g=R(e.modelValue),p=R(!1),f=R(!0),v=R(!1),h=R(!1),B=[],b=R(0),Q=R(!1);let y=null,I=null,D;const O=F(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:OC(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),S=F(()=>{const Ae=b.value,Ie=g.value;for(let Xe=0;Xe<Ae;Xe++)if(B[Xe].name.value===Ie)return!0;return!1}),k=F(()=>`q-tabs__content--align-${p.value===!0?"left":h.value===!0?"justify":e.align}`),W=F(()=>`q-tabs row no-wrap items-center q-tabs--${p.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),re=F(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+k.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),$=F(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),z=F(()=>e.vertical!==!0&&i.lang.rtl===!0),N=F(()=>z.value===!0);Je(z,j),Je(()=>e.modelValue,Ae=>{x({name:Ae,setCurrent:!0,skipEmit:!0})}),Je(()=>e.outsideArrows,M);function x({name:Ae,setCurrent:Ie,skipEmit:Xe}){g.value!==Ae&&(Xe!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",Ae),(Ie===!0||e["onUpdate:modelValue"]===void 0)&&(ae(g.value,Ae),g.value=Ae))}function M(){r(()=>{d.value&&X({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function X(Ae){if($.value===void 0||m.value===null)return;const Ie=Ae[$.value.container],Xe=Math.min(m.value[$.value.scroll],Array.prototype.reduce.call(m.value.children,(_t,Bt)=>_t+(Bt[$.value.content]||0),0)),Qt=Ie>0&&Xe>Ie;p.value=Qt,Qt===!0&&A(j),h.value=Ie<parseInt(e.breakpoint,10)}function ae(Ae,Ie){const Xe=Ae!=null&&Ae!==""?B.find(_t=>_t.name.value===Ae):null,Qt=Ie!=null&&Ie!==""?B.find(_t=>_t.name.value===Ie):null;if(At===!0)At=!1;else if(Xe&&Qt){const _t=Xe.tabIndicatorRef.value,Bt=Qt.tabIndicatorRef.value;y!==null&&(clearTimeout(y),y=null),_t.style.transition="none",_t.style.transform="none",Bt.style.transition="none",Bt.style.transform="none";const Ct=_t.getBoundingClientRect(),go=Bt.getBoundingClientRect();Bt.style.transform=e.vertical===!0?`translate3d(0,${Ct.top-go.top}px,0) scale3d(1,${go.height?Ct.height/go.height:1},1)`:`translate3d(${Ct.left-go.left}px,0,0) scale3d(${go.width?Ct.width/go.width:1},1,1)`,n(()=>{y=setTimeout(()=>{y=null,Bt.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Bt.style.transform="none"},70)})}Qt&&p.value===!0&&L(Qt.rootRef.value)}function L(Ae){const{left:Ie,width:Xe,top:Qt,height:_t}=m.value.getBoundingClientRect(),Bt=Ae.getBoundingClientRect();let Ct=e.vertical===!0?Bt.top-Qt:Bt.left-Ie;if(Ct<0){m.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Ct),j();return}Ct+=e.vertical===!0?Bt.height-_t:Bt.width-Xe,Ct>0&&(m.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Ct),j())}function j(){const Ae=m.value;if(Ae===null)return;const Ie=Ae.getBoundingClientRect(),Xe=e.vertical===!0?Ae.scrollTop:Math.abs(Ae.scrollLeft);z.value===!0?(f.value=Math.ceil(Xe+Ie.width)<Ae.scrollWidth-1,v.value=Xe>0):(f.value=Xe>0,v.value=e.vertical===!0?Math.ceil(Xe+Ie.height)<Ae.scrollHeight:Math.ceil(Xe+Ie.width)<Ae.scrollWidth)}function te(Ae){I!==null&&clearInterval(I),I=setInterval(()=>{fe(Ae)===!0&&ve()},5)}function Fe(){te(N.value===!0?Number.MAX_SAFE_INTEGER:0)}function he(){te(N.value===!0?0:Number.MAX_SAFE_INTEGER)}function ve(){I!==null&&(clearInterval(I),I=null)}function Ce(Ae,Ie){const Xe=Array.prototype.filter.call(m.value.children,go=>go===Ie||go.matches&&go.matches(".q-tab.q-focusable")===!0),Qt=Xe.length;if(Qt===0)return;if(Ae===36)return L(Xe[0]),Xe[0].focus(),!0;if(Ae===35)return L(Xe[Qt-1]),Xe[Qt-1].focus(),!0;const _t=Ae===(e.vertical===!0?38:37),Bt=Ae===(e.vertical===!0?40:39),Ct=_t===!0?-1:Bt===!0?1:void 0;if(Ct!==void 0){const go=z.value===!0?-1:1,mo=Xe.indexOf(Ie)+Ct*go;return mo>=0&&mo<Qt&&(L(Xe[mo]),Xe[mo].focus({preventScroll:!0})),!0}}const Te=F(()=>N.value===!0?{get:Ae=>Math.abs(Ae.scrollLeft),set:(Ae,Ie)=>{Ae.scrollLeft=-Ie}}:e.vertical===!0?{get:Ae=>Ae.scrollTop,set:(Ae,Ie)=>{Ae.scrollTop=Ie}}:{get:Ae=>Ae.scrollLeft,set:(Ae,Ie)=>{Ae.scrollLeft=Ie}});function fe(Ae){const Ie=m.value,{get:Xe,set:Qt}=Te.value;let _t=!1,Bt=Xe(Ie);const Ct=Ae<Bt?-1:1;return Bt+=Ct*5,Bt<0?(_t=!0,Bt=0):(Ct===-1&&Bt<=Ae||Ct===1&&Bt>=Ae)&&(_t=!0,Bt=Ae),Qt(Ie,Bt),j(),_t}function Ke(Ae,Ie){for(const Xe in Ae)if(Ae[Xe]!==Ie[Xe])return!1;return!0}function Lt(){let Ae=null,Ie={matchedLen:0,queryDiff:9999,hrefLen:0};const Xe=B.filter(Ct=>Ct.routeData?.hasRouterLink.value===!0),{hash:Qt,query:_t}=a.$route,Bt=Object.keys(_t).length;for(const Ct of Xe){const go=Ct.routeData.exact.value===!0;if(Ct.routeData[go===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:mo,query:Qo,matched:Ko,href:pe}=Ct.routeData.resolvedLink.value,qe=Object.keys(Qo).length;if(go===!0){if(mo!==Qt||qe!==Bt||Ke(_t,Qo)===!1)continue;Ae=Ct.name.value;break}if(mo!==""&&mo!==Qt||qe!==0&&Ke(Qo,_t)===!1)continue;const ft={matchedLen:Ko.length,queryDiff:Bt-qe,hrefLen:pe.length-mo.length};if(ft.matchedLen>Ie.matchedLen){Ae=Ct.name.value,Ie=ft;continue}else if(ft.matchedLen!==Ie.matchedLen)continue;if(ft.queryDiff<Ie.queryDiff)Ae=Ct.name.value,Ie=ft;else if(ft.queryDiff!==Ie.queryDiff)continue;ft.hrefLen>Ie.hrefLen&&(Ae=Ct.name.value,Ie=ft)}if(Ae===null&&B.some(Ct=>Ct.routeData===void 0&&Ct.name.value===g.value)===!0){At=!1;return}x({name:Ae,setCurrent:!0})}function Gt(Ae){if(l(),Q.value!==!0&&d.value!==null&&Ae.target&&typeof Ae.target.closest=="function"){const Ie=Ae.target.closest(".q-tab");Ie&&d.value.contains(Ie)===!0&&(Q.value=!0,p.value===!0&&L(Ie))}}function Dt(){s(()=>{Q.value=!1},30)}function J(){rt.avoidRouteWatcher===!1?c(Lt):u()}function ue(){if(D===void 0){const Ae=Je(()=>a.$route.fullPath,J);D=()=>{Ae(),D=void 0}}}function Ee(Ae){B.push(Ae),b.value++,M(),Ae.routeData===void 0||a.$route===void 0?c(()=>{if(p.value===!0){const Ie=g.value,Xe=Ie!=null&&Ie!==""?B.find(Qt=>Qt.name.value===Ie):null;Xe&&L(Xe.rootRef.value)}}):(ue(),Ae.routeData.hasRouterLink.value===!0&&J())}function _e(Ae){B.splice(B.indexOf(Ae),1),b.value--,M(),D!==void 0&&Ae.routeData!==void 0&&(B.every(Ie=>Ie.routeData===void 0)===!0&&D(),J())}const rt={currentModel:g,tabProps:O,hasFocus:Q,hasActiveTab:S,registerTab:Ee,unregisterTab:_e,verifyRouteModel:J,updateModel:x,onKbdNavigate:Ce,avoidRouteWatcher:!1};mA(Af,rt);function Ye(){y!==null&&clearTimeout(y),ve(),D?.()}let at,At;return qo(Ye),an(()=>{at=D!==void 0,Ye()}),Lr(()=>{at===!0&&(ue(),At=!0,J()),M()}),()=>P("div",{ref:d,class:W.value,role:"tablist",onFocusin:Gt,onFocusout:Dt},[P(rr,{onResize:X}),P("div",{ref:m,class:re.value,onScroll:j},uo(t.default)),P(Nt,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(f.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||i.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Fe,onTouchstartPassive:Fe,onMouseupPassive:ve,onMouseleavePassive:ve,onTouchendPassive:ve}),P(Nt,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(v.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||i.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:he,onTouchstartPassive:he,onMouseupPassive:ve,onMouseleavePassive:ve,onTouchendPassive:ve})])}});let MC=0;const LC=["click","keydown"],HC={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${MC++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function TC(e,t,o,a){const i=_r(Af,$o);if(i===$o)return console.error("QTab/QRouteTab component needs to be child of QTabs"),$o;const{proxy:r}=Ft(),A=R(null),n=R(null),s=R(null),l=F(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),c=F(()=>i.currentModel.value===e.name),u=F(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(c.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),d=F(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),m=F(()=>e.disable===!0||i.hasFocus.value===!0||c.value===!1&&i.hasActiveTab.value===!0?-1:e.tabindex||0);function g(B,b){if(b!==!0&&B?.qAvoidFocus!==!0&&A.value?.focus(),e.disable!==!0){i.updateModel({name:e.name}),o("click",B);return}}function p(B){en(B,[13,32])?g(B,!0):nf(B)!==!0&&B.keyCode>=35&&B.keyCode<=40&&B.altKey!==!0&&B.metaKey!==!0&&i.onKbdNavigate(B.keyCode,r.$el)===!0&&So(B),o("keydown",B)}function f(){const B=i.tabProps.value.narrowIndicator,b=[],Q=P("div",{ref:s,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});e.icon!==void 0&&b.push(P(Nt,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&b.push(P("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&b.push(e.alertIcon!==void 0?P(Nt,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):P("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),B===!0&&b.push(Q);const y=[P("div",{class:"q-focus-helper",tabindex:-1,ref:A}),P("div",{class:d.value},wi(t.default,b))];return B===!1&&y.push(Q),y}const v={name:F(()=>e.name),rootRef:n,tabIndicatorRef:s,routeData:a};qo(()=>{i.unregisterTab(v)}),No(()=>{i.registerTab(v)});function h(B,b){const Q={ref:n,class:u.value,tabindex:m.value,role:"tab","aria-selected":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:g,onKeydown:p,...b};return Vt(P(B,Q,f()),[[rf,l.value]])}return{renderTab:h,$tabs:i}}const vu=ut({name:"QTab",props:HC,emits:LC,setup(e,{slots:t,emit:o}){const{renderTab:a}=TC(e,t,o);return()=>a("div")}}),An=ut({name:"QTabPanels",props:{...hC,...Pa},emits:BC,setup(e,{slots:t}){const o=Ft(),a=_a(e,o.proxy.$q),{updatePanelsList:i,getPanelContent:r,panelDirectives:A}=CC(),n=F(()=>"q-tab-panels q-panel-parent"+(a.value===!0?" q-tab-panels--dark q-dark":""));return()=>(i(t),kc("div",{class:n.value},r(),"pan",e.swipeable,()=>A.value))}}),Hr=ut({name:"QTabPanel",props:vC,setup(e,{slots:t}){return()=>P("div",{class:"q-tab-panel",role:"tabpanel"},uo(t.default))}}),Os=ut({name:"QItem",props:{...Pa,...zc,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=Ft(),i=_a(e,a),{hasLink:r,linkAttrs:A,linkClass:n,linkTag:s,navigateOnClick:l}=uh(),c=R(null),u=R(null),d=F(()=>e.clickable===!0||r.value===!0||e.tag==="label"),m=F(()=>e.disable!==!0&&d.value===!0),g=F(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(r.value===!0&&e.active===null?n.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(m.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),p=F(()=>e.insetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function f(B){m.value===!0&&(u.value!==null&&B.qAvoidFocus!==!0&&(B.qKeyEvent!==!0&&document.activeElement===c.value?u.value.focus():document.activeElement===u.value&&c.value.focus()),l(B))}function v(B){if(m.value===!0&&en(B,[13,32])===!0){So(B),B.qKeyEvent=!0;const b=new MouseEvent("click",B);b.qKeyEvent=!0,c.value.dispatchEvent(b)}o("keyup",B)}function h(){const B=Gc(t.default,[]);return m.value===!0&&B.unshift(P("div",{class:"q-focus-helper",tabindex:-1,ref:u})),B}return()=>{const B={ref:c,class:g.value,style:p.value,role:"listitem",onClick:f,onKeyup:v};return m.value===!0?(B.tabindex=e.tabindex||"0",Object.assign(B,A.value)):d.value===!0&&(B["aria-disabled"]="true"),P(s.value,B,h())}}}),eA=ut({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const o=F(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>P("div",{class:o.value},uo(t.default))}}),GA=ut({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const o=F(()=>parseInt(e.lines,10)),a=F(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),i=F(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>P("div",{style:i.value,class:a.value},uo(t.default))}}),$C=ut({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:o}){let a=!1,i,r,A=null,n=null,s,l;function c(){i?.(),i=null,a=!1,A!==null&&(clearTimeout(A),A=null),n!==null&&(clearTimeout(n),n=null),r?.removeEventListener("transitionend",s),s=null}function u(p,f,v){f!==void 0&&(p.style.height=`${f}px`),p.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,a=!0,i=v}function d(p,f){p.style.overflowY=null,p.style.height=null,p.style.transition=null,c(),f!==l&&o(f)}function m(p,f){let v=0;r=p,a===!0?(c(),v=p.offsetHeight===p.scrollHeight?0:void 0):(l="hide",p.style.overflowY="hidden"),u(p,v,f),A=setTimeout(()=>{A=null,p.style.height=`${p.scrollHeight}px`,s=h=>{n=null,(Object(h)!==h||h.target===p)&&d(p,"show")},p.addEventListener("transitionend",s),n=setTimeout(s,e.duration*1.1)},100)}function g(p,f){let v;r=p,a===!0?c():(l="show",p.style.overflowY="hidden",v=p.scrollHeight),u(p,v,f),A=setTimeout(()=>{A=null,p.style.height=0,s=h=>{n=null,(Object(h)!==h||h.target===p)&&d(p,"hide")},p.addEventListener("transitionend",s),n=setTimeout(s,e.duration*1.1)},100)}return qo(()=>{a===!0&&c()}),()=>P(tn,{css:!1,appear:e.appear,onEnter:m,onLeave:g},t.default)}}),dr=mh({}),VC=Object.keys(zc),NC=ut({name:"QExpansionItem",props:{...zc,...$c,...Pa,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Hc,"click","afterShow","afterHide"],setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=Ft(),i=_a(e,a),r=R(e.modelValue!==null?e.modelValue:e.defaultOpened),A=R(null),n=sf(),{show:s,hide:l,toggle:c}=Vc({showing:r});let u,d;const m=F(()=>`q-expansion-item q-item-type q-expansion-item--${r.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),g=F(()=>e.contentInsetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),p=F(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),f=F(()=>{const x={};return VC.forEach(M=>{x[M]=e[M]}),x}),v=F(()=>p.value===!0||e.expandIconToggle!==!0),h=F(()=>e.expandedIcon!==void 0&&r.value===!0?e.expandedIcon:e.expandIcon||a.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),B=F(()=>e.disable!==!0&&(p.value===!0||e.expandIconToggle===!0)),b=F(()=>({expanded:r.value===!0,detailsId:n.value,toggle:c,show:s,hide:l})),Q=F(()=>{const x=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:a.lang.label[r.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":r.value===!0?"true":"false","aria-controls":n.value,"aria-label":x}});Je(()=>e.group,x=>{d?.(),x!==void 0&&k()});function y(x){p.value!==!0&&c(x),o("click",x)}function I(x){x.keyCode===13&&D(x,!0)}function D(x,M){M!==!0&&x.qAvoidFocus!==!0&&A.value?.focus(),c(x),So(x)}function O(){o("afterShow")}function S(){o("afterHide")}function k(){u===void 0&&(u=dh()),r.value===!0&&(dr[e.group]=u);const x=Je(r,X=>{X===!0?dr[e.group]=u:dr[e.group]===u&&delete dr[e.group]}),M=Je(()=>dr[e.group],(X,ae)=>{ae===u&&X!==void 0&&X!==u&&l()});d=()=>{x(),M(),dr[e.group]===u&&delete dr[e.group],d=void 0}}function W(){const x={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},M=[P(Nt,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&r.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:h.value})];return B.value===!0&&(Object.assign(x,{tabindex:0,...Q.value,onClick:D,onKeyup:I}),M.unshift(P("div",{ref:A,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),P(eA,x,()=>M)}function re(){let x;return t.header!==void 0?x=[].concat(t.header(b.value)):(x=[P(eA,()=>[P(GA,{lines:e.labelLines},()=>e.label||""),e.caption?P(GA,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&x[e.switchToggleSide===!0?"push":"unshift"](P(eA,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>P(Nt,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&x[e.switchToggleSide===!0?"unshift":"push"](W()),x}function $(){const x={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return v.value===!0&&(x.clickable=!0,x.onClick=y,Object.assign(x,p.value===!0?f.value:Q.value)),P(Os,x,re)}function z(){return Vt(P("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:g.value,id:n.value},uo(t.default)),[[AA,r.value]])}function N(){const x=[$(),P($C,{duration:e.duration,onShow:O,onHide:S},z)];return e.expandSeparator===!0&&x.push(P(ja,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),P(ja,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),x}return e.group!==void 0&&k(),qo(()=>{d?.()}),()=>P("div",{class:m.value},[P("div",{class:"q-expansion-item__container relative-position"},N())])}}),qC=["top","right","bottom","left"],jl={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>qC.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Cp(e,t){return{formClass:F(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:F(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:F(()=>{if(e.externalLabel===!0){const o=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const kC=["up","right","down","left"],KC=["left","center","right"],zC=ut({name:"QFab",props:{...jl,...$c,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...jl.hideLabel,default:null},direction:{type:String,default:"right",validator:e=>kC.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>KC.includes(e)}},emits:Hc,setup(e,{slots:t}){const o=R(null),a=R(e.modelValue===!0),i=sf(),{proxy:{$q:r}}=Ft(),{formClass:A,labelProps:n}=Cp(e,a),s=F(()=>e.persistent!==!0),{hide:l,toggle:c}=Vc({showing:a,hideOnRouteChange:s}),u=F(()=>({opened:a.value})),d=F(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${A.value}`+(a.value===!0?" q-fab--opened":" q-fab--closed")),m=F(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${a.value===!0?"opened":"closed"}`),g=F(()=>{const h={id:i.value,role:"menu"};return a.value!==!0&&(h["aria-hidden"]="true"),h}),p=F(()=>`q-fab__icon-holder  q-fab__icon-holder--${a.value===!0?"opened":"closed"}`);function f(h,B){const b=t[h],Q=`q-fab__${h} absolute-full`;return b===void 0?P(Nt,{class:Q,name:e[B]||r.iconSet.fab[B]}):P("div",{class:Q},b(u.value))}function v(){const h=[];return e.hideIcon!==!0&&h.push(P("div",{class:p.value},[f("icon","icon"),f("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&h[n.value.action](P("div",n.value.data,t.label!==void 0?t.label(u.value):[e.label])),wi(t.tooltip,h)}return mA(lf,{showing:a,onChildClick(h){l(h),h?.qAvoidFocus!==!0&&o.value?.$el.focus()}}),()=>P("div",{class:d.value},[P(St,{ref:o,class:A.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i.value,onClick:c},v),P("div",{class:m.value,...g.value},uo(t.default))])}}),bp={start:"self-end",center:"self-center",end:"self-start"},GC=Object.keys(bp),jC=ut({name:"QFabAction",props:{...jl,icon:{type:String,default:""},anchor:{type:String,validator:e=>GC.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:o}){const a=_r(lf,()=>({showing:{value:!0},onChildClick:on})),{formClass:i,labelProps:r}=Cp(e,a.showing),A=F(()=>{const u=bp[e.anchor];return i.value+(u!==void 0?` ${u}`:"")}),n=F(()=>e.disable===!0||a.showing.value!==!0);function s(u){a.onChildClick(u),o("click",u)}function l(){const u=[];return t.icon!==void 0?u.push(t.icon()):e.icon!==""&&u.push(P(Nt,{name:e.icon})),(e.label!==""||t.label!==void 0)&&u[r.value.action](P("div",r.value.data,t.label!==void 0?t.label():[e.label])),wi(t.default,u)}const c=Ft();return Object.assign(c.proxy,{click:s}),()=>P(St,{class:A.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:n.value,onClick:s},l)}}),WC=ut({name:"QField",inheritAttrs:!1,props:{...Wc,tag:{type:String,default:"label"}},emits:jc,setup(){return Jc(Xc({tagProp:!0}))}});function Tr(e,t,o,a){const i=[];return e.forEach(r=>{a(r)===!0?i.push(r):t.push({failedPropValidation:o,file:r})}),i}function gn(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),So(e)}const JC={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},XC=["rejected"];function YC({editable:e,dnd:t,getFileInput:o,addFilesToQueue:a}){const{props:i,emit:r,proxy:A}=Ft(),n=R(null),s=F(()=>i.accept!==void 0?i.accept.split(",").map(h=>(h=h.trim(),h==="*"?"*/":(h.endsWith("/*")&&(h=h.slice(0,h.length-1)),h.toUpperCase()))):null),l=F(()=>parseInt(i.maxFiles,10)),c=F(()=>parseInt(i.maxTotalSize,10));function u(h){if(e.value)if(h!==Object(h)&&(h={target:null}),h.target?.matches('input[type="file"]')===!0)h.clientX===0&&h.clientY===0&&mi(h);else{const B=o();B!==h.target&&B?.click(h)}}function d(h){e.value&&h&&a(null,h)}function m(h,B,b,Q){let y=Array.from(B||h.target.files);const I=[],D=()=>{I.length!==0&&r("rejected",I)};if(i.accept!==void 0&&s.value.indexOf("*/")===-1&&(y=Tr(y,I,"accept",O=>s.value.some(S=>O.type.toUpperCase().startsWith(S)||O.name.toUpperCase().endsWith(S))),y.length===0))return D();if(i.maxFileSize!==void 0){const O=parseInt(i.maxFileSize,10);if(y=Tr(y,I,"max-file-size",S=>S.size<=O),y.length===0)return D()}if(i.multiple!==!0&&y.length!==0&&(y=[y[0]]),y.forEach(O=>{O.__key=O.webkitRelativePath+O.lastModified+O.name+O.size}),Q===!0){const O=b.map(S=>S.__key);y=Tr(y,I,"duplicate",S=>O.includes(S.__key)===!1)}if(y.length===0)return D();if(i.maxTotalSize!==void 0){let O=Q===!0?b.reduce((S,k)=>S+k.size,0):0;if(y=Tr(y,I,"max-total-size",S=>(O+=S.size,O<=c.value)),y.length===0)return D()}if(typeof i.filter=="function"){const O=i.filter(y);y=Tr(y,I,"filter",S=>O.includes(S))}if(i.maxFiles!==void 0){let O=Q===!0?b.length:0;if(y=Tr(y,I,"max-files",()=>(O++,O<=l.value)),y.length===0)return D()}if(D(),y.length!==0)return y}function g(h){gn(h),t.value!==!0&&(t.value=!0)}function p(h){So(h),(h.relatedTarget!==null||Ta.is.safari!==!0?h.relatedTarget!==n.value:document.elementsFromPoint(h.clientX,h.clientY).includes(n.value)===!1)===!0&&(t.value=!1)}function f(h){gn(h);const B=h.dataTransfer.files;B.length!==0&&a(null,B),t.value=!1}function v(h){if(t.value===!0)return P("div",{ref:n,class:`q-${h}__dnd absolute-full`,onDragenter:gn,onDragover:gn,onDragleave:p,onDrop:f})}return Object.assign(A,{pickFiles:u,addFiles:d}),{pickFiles:u,addFiles:d,onDragover:g,onDragleave:p,processFiles:m,getDndNode:v,maxFilesNumber:l,maxTotalSizeNumber:c}}const ZC=ut({name:"QFile",inheritAttrs:!1,props:{...fh,...Is,...JC,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...jc,...XC],setup(e,{slots:t,emit:o,attrs:a}){const{proxy:i}=Ft(),r=Xc(),A=R(null),n=R(!1),s=cf(e),{pickFiles:l,onDragover:c,onDragleave:u,processFiles:d,getDndNode:m}=YC({editable:r.editable,dnd:n,getFileInput:W,addFilesToQueue:re}),g=gh(e),p=F(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),f=F(()=>is(p.value)),v=F(()=>p.value.map(x=>x.name).join(", ")),h=F(()=>ph(p.value.reduce((x,M)=>x+M.size,0))),B=F(()=>({totalSize:h.value,filesNumber:p.value.length,maxFiles:e.maxFiles})),b=F(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:s.value,...a,id:r.targetUid.value,disabled:r.editable.value!==!0})),Q=F(()=>"q-file q-field--auto-height"+(n.value===!0?" q-file--dnd":"")),y=F(()=>e.multiple===!0&&e.append===!0);function I(x){const M=p.value.slice();M.splice(x,1),O(M)}function D(x){const M=p.value.indexOf(x);M!==-1&&I(M)}function O(x){o("update:modelValue",e.multiple===!0?x:x[0])}function S(x){x.keyCode===13&&Ji(x)}function k(x){(x.keyCode===13||x.keyCode===32)&&l(x)}function W(){return A.value}function re(x,M){const X=d(x,M,p.value,y.value),ae=W();ae!=null&&(ae.value=""),X!==void 0&&((e.multiple===!0?e.modelValue&&X.every(L=>p.value.includes(L)):e.modelValue===X[0])||O(y.value===!0?p.value.concat(X):X))}function $(){return[P("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function z(){if(t.file!==void 0)return p.value.length===0?$():p.value.map((M,X)=>t.file({index:X,file:M,ref:this}));if(t.selected!==void 0)return p.value.length===0?$():t.selected({files:p.value,ref:this});if(e.useChips===!0)return p.value.length===0?$():p.value.map((M,X)=>P(lr,{key:"file-"+X,removable:r.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{I(X)}},()=>P("span",{class:"ellipsis",textContent:M.name})));const x=e.displayValue!==void 0?e.displayValue:v.value;return x.length!==0?[P("div",{class:e.inputClass,style:e.inputStyle,textContent:x})]:$()}function N(){const x={ref:A,...b.value,...g.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:re};return e.multiple===!0&&(x.multiple=!0),P("input",x)}return Object.assign(r,{fieldClass:Q,emitValue:O,hasValue:f,inputRef:A,innerValue:p,floatingLabel:F(()=>f.value===!0||is(e.displayValue)),computedCounter:F(()=>{if(e.counterLabel!==void 0)return e.counterLabel(B.value);const x=e.maxFiles;return`${p.value.length}${x!==void 0?" / "+x:""} (${h.value})`}),getControlChild:()=>m("file"),getControl:()=>{const x={ref:r.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return r.editable.value===!0&&Object.assign(x,{onDragover:c,onDragleave:u,onKeydown:S,onKeyup:k}),P("div",x,[N()].concat(z()))}}),Object.assign(i,{removeAtIndex:I,removeFile:D,getNativeElement:()=>A.value}),fr(i,"nativeEl",()=>A.value),Jc(r)}}),eb=ut({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=Ft(),i=_r(rn,$o);if(i===$o)return console.error("QFooter needs to be child of QLayout"),$o;const r=R(parseInt(e.heightHint,10)),A=R(!0),n=R(Kc.value===!0||i.isContainer.value===!0?0:window.innerHeight),s=F(()=>e.reveal===!0||i.view.value.indexOf("F")!==-1||a.platform.is.ios&&i.isContainer.value===!0),l=F(()=>i.isContainer.value===!0?i.containerHeight.value:n.value),c=F(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return A.value===!0?r.value:0;const Q=i.scroll.value.position+l.value+r.value-i.height.value;return Q>0?Q:0}),u=F(()=>e.modelValue!==!0||s.value===!0&&A.value!==!0),d=F(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),m=F(()=>"q-footer q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(u.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(s.value!==!0?" hidden":""):"")),g=F(()=>{const Q=i.rows.value.bottom,y={};return Q[0]==="l"&&i.left.space===!0&&(y[a.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),Q[2]==="r"&&i.right.space===!0&&(y[a.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),y});function p(Q,y){i.update("footer",Q,y)}function f(Q,y){Q.value!==y&&(Q.value=y)}function v({height:Q}){f(r,Q),p("size",Q)}function h(){if(e.reveal!==!0)return;const{direction:Q,position:y,inflectionPoint:I}=i.scroll.value;f(A,Q==="up"||y-I<100||i.height.value-l.value-y-r.value<300)}function B(Q){d.value===!0&&f(A,!0),o("focusin",Q)}Je(()=>e.modelValue,Q=>{p("space",Q),f(A,!0),i.animate()}),Je(c,Q=>{p("offset",Q)}),Je(()=>e.reveal,Q=>{Q===!1&&f(A,e.modelValue)}),Je(A,Q=>{i.animate(),o("reveal",Q)}),Je([r,i.scroll,i.height],h),Je(()=>a.screen.height,Q=>{i.isContainer.value!==!0&&f(n,Q)});const b={};return i.instances.footer=b,e.modelValue===!0&&p("size",r.value),p("space",e.modelValue),p("offset",c.value),qo(()=>{i.instances.footer===b&&(i.instances.footer=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const Q=wi(t.default,[P(rr,{debounce:0,onResize:v})]);return e.elevated===!0&&Q.push(P("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),P("footer",{class:m.value,style:g.value,onFocusin:B},Q)}}}),Rs=ut({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:o}){const a=Ft(),i=R(null);let r=0;const A=[];function n(m){const g=typeof m=="boolean"?m:e.noErrorFocus!==!0,p=++r,f=(B,b)=>{o(`validation${B===!0?"Success":"Error"}`,b)},v=B=>{const b=B.validate();return typeof b.then=="function"?b.then(Q=>({valid:Q,comp:B}),Q=>({valid:!1,comp:B,err:Q})):Promise.resolve({valid:b,comp:B})};return(e.greedy===!0?Promise.all(A.map(v)).then(B=>B.filter(b=>b.valid!==!0)):A.reduce((B,b)=>B.then(()=>v(b).then(Q=>{if(Q.valid===!1)return Promise.reject(Q)})),Promise.resolve()).catch(B=>[B])).then(B=>{if(B===void 0||B.length===0)return p===r&&f(!0),!0;if(p===r){const{comp:b,err:Q}=B[0];if(Q!==void 0&&console.error(Q),f(!1,b),g===!0){const y=B.find(({comp:I})=>typeof I.focus=="function"&&vh(I.$)===!1);y!==void 0&&y.comp.focus()}}return!1})}function s(){r++,A.forEach(m=>{typeof m.resetValidation=="function"&&m.resetValidation()})}function l(m){m!==void 0&&So(m);const g=r+1;n().then(p=>{g===r&&p===!0&&(e.onSubmit!==void 0?o("submit",m):m?.target!==void 0&&typeof m.target.submit=="function"&&m.target.submit())})}function c(m){m!==void 0&&So(m),o("reset"),pt(()=>{s(),e.autofocus===!0&&e.noResetFocus!==!0&&u()})}function u(){Zm(()=>{if(i.value===null)return;(i.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(i.value.querySelectorAll("[tabindex]"),g=>g.tabIndex!==-1))?.focus({preventScroll:!0})})}mA(hh,{bindComponent(m){A.push(m)},unbindComponent(m){const g=A.indexOf(m);g!==-1&&A.splice(g,1)}});let d=!1;return an(()=>{d=!0}),Lr(()=>{d===!0&&e.autofocus===!0&&u()}),No(()=>{e.autofocus===!0&&u()}),Object.assign(a.proxy,{validate:n,resetValidation:s,submit:l,reset:c,focus:u,getValidationComponents:()=>A}),()=>P("form",{class:"q-form",ref:i,onSubmit:l,onReset:c},uo(t.default))}}),tb=ut({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=Ft(),i=_r(rn,$o);if(i===$o)return console.error("QHeader needs to be child of QLayout"),$o;const r=R(parseInt(e.heightHint,10)),A=R(!0),n=F(()=>e.reveal===!0||i.view.value.indexOf("H")!==-1||a.platform.is.ios&&i.isContainer.value===!0),s=F(()=>{if(e.modelValue!==!0)return 0;if(n.value===!0)return A.value===!0?r.value:0;const h=r.value-i.scroll.value.position;return h>0?h:0}),l=F(()=>e.modelValue!==!0||n.value===!0&&A.value!==!0),c=F(()=>e.modelValue===!0&&l.value===!0&&e.reveal===!0),u=F(()=>"q-header q-layout__section--marginal "+(n.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(l.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),d=F(()=>{const h=i.rows.value.top,B={};return h[0]==="l"&&i.left.space===!0&&(B[a.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),h[2]==="r"&&i.right.space===!0&&(B[a.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),B});function m(h,B){i.update("header",h,B)}function g(h,B){h.value!==B&&(h.value=B)}function p({height:h}){g(r,h),m("size",h)}function f(h){c.value===!0&&g(A,!0),o("focusin",h)}Je(()=>e.modelValue,h=>{m("space",h),g(A,!0),i.animate()}),Je(s,h=>{m("offset",h)}),Je(()=>e.reveal,h=>{h===!1&&g(A,e.modelValue)}),Je(A,h=>{i.animate(),o("reveal",h)}),Je(i.scroll,h=>{e.reveal===!0&&g(A,h.direction==="up"||h.position<=e.revealOffset||h.position-h.inflectionPoint<100)});const v={};return i.instances.header=v,e.modelValue===!0&&m("size",r.value),m("space",e.modelValue),m("offset",s.value),qo(()=>{i.instances.header===v&&(i.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const h=Gc(t.default,[]);return e.elevated===!0&&h.push(P("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),h.push(P(rr,{debounce:0,onResize:p})),P("header",{class:u.value,style:d.value,onFocusin:f},h)}}}),ob=["ul","ol"],wp=ut({name:"QList",props:{...Pa,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const o=Ft(),a=_a(e,o.proxy.$q),i=F(()=>ob.includes(e.tag)?null:"list"),r=F(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>P(e.tag,{class:r.value,role:i.value},uo(t.default))}}),{passive:gd}=or,ab=["both","horizontal","vertical"],Fp=ut({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ab.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Tc},emits:["scroll"],setup(e,{emit:t}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let a=null,i,r;Je(()=>e.scrollTarget,()=>{s(),n()});function A(){a?.();const u=Math.max(0,Bh(i)),d=Ch(i),m={top:u-o.position.top,left:d-o.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const g=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";o.position={top:u,left:d},o.directionChanged=o.direction!==g,o.delta=m,o.directionChanged===!0&&(o.direction=g,o.inflectionPoint=o.position),t("scroll",{...o})}function n(){i=Nc(r,e.scrollTarget),i.addEventListener("scroll",l,gd),l(!0)}function s(){i!==void 0&&(i.removeEventListener("scroll",l,gd),i=void 0)}function l(u){if(u===!0||e.debounce===0||e.debounce==="0")A();else if(a===null){const[d,m]=e.debounce?[setTimeout(A,e.debounce),clearTimeout]:[requestAnimationFrame(A),cancelAnimationFrame];a=()=>{m(d),a=null}}}const{proxy:c}=Ft();return Je(()=>c.$q.lang.rtl,A),No(()=>{r=c.$el.parentNode,n()}),qo(()=>{a?.(),s()}),Object.assign(c,{trigger:l,getPosition:()=>o}),on}}),ib=ut({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=Ft(),i=R(null),r=R(a.screen.height),A=R(e.container===!0?0:a.screen.width),n=R({position:0,direction:"down",inflectionPoint:0}),s=R(0),l=R(Kc.value===!0?0:zn()),c=F(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),u=F(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),d=F(()=>l.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${l.value}px`}:null),m=F(()=>l.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${l.value}px`,width:`calc(100% + ${l.value}px)`}:null);function g(b){if(e.container===!0||document.qScrollPrevented!==!0){const Q={position:b.position.top,direction:b.direction,directionChanged:b.directionChanged,inflectionPoint:b.inflectionPoint.top,delta:b.delta.top};n.value=Q,e.onScroll!==void 0&&o("scroll",Q)}}function p(b){const{height:Q,width:y}=b;let I=!1;r.value!==Q&&(I=!0,r.value=Q,e.onScrollHeight!==void 0&&o("scrollHeight",Q),v()),A.value!==y&&(I=!0,A.value=y),I===!0&&e.onResize!==void 0&&o("resize",b)}function f({height:b}){s.value!==b&&(s.value=b,v())}function v(){if(e.container===!0){const b=r.value>s.value?zn():0;l.value!==b&&(l.value=b)}}let h=null;const B={instances:{},view:F(()=>e.view),isContainer:F(()=>e.container),rootRef:i,height:r,containerHeight:s,scrollbarWidth:l,totalWidth:F(()=>A.value+l.value),rows:F(()=>{const b=e.view.toLowerCase().split(" ");return{top:b[0].split(""),middle:b[1].split(""),bottom:b[2].split("")}}),header:mn({size:0,offset:0,space:!1}),right:mn({size:300,offset:0,space:!1}),footer:mn({size:0,offset:0,space:!1}),left:mn({size:300,offset:0,space:!1}),scroll:n,animate(){h!==null?clearTimeout(h):document.body.classList.add("q-body--layout-animate"),h=setTimeout(()=>{h=null,document.body.classList.remove("q-body--layout-animate")},155)},update(b,Q,y){B[b][Q]=y}};if(mA(rn,B),zn()>0){let b=function(){I=null,D.classList.remove("hide-scrollbar")},Q=function(){if(I===null){if(D.scrollHeight>a.screen.height)return;D.classList.add("hide-scrollbar")}else clearTimeout(I);I=setTimeout(b,300)},y=function(O){I!==null&&O==="remove"&&(clearTimeout(I),b()),window[`${O}EventListener`]("resize",Q)},I=null;const D=document.body;Je(()=>e.container!==!0?"add":"remove",y),e.container!==!0&&y("add"),bh(()=>{y("remove")})}return()=>{const b=wi(t.default,[P(Fp,{onScroll:g}),P(rr,{onResize:p})]),Q=P("div",{class:c.value,style:u.value,ref:e.container===!0?void 0:i,tabindex:-1},b);return e.container===!0?P("div",{class:"q-layout-container overflow-hidden",ref:i},[P(rr,{onResize:f}),P("div",{class:"absolute-full",style:d.value},[P("div",{class:"scroll",style:m.value},[Q])])]):Q}}}),rb={xs:2,sm:4,md:6,lg:10,xl:14};function vd(e,t,o){return{transform:t===!0?`translateX(${o.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Ab=ut({name:"QLinearProgress",props:{...Pa,...of,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:o}=Ft(),a=_a(e,o.$q),i=af(e,rb),r=F(()=>e.indeterminate===!0||e.query===!0),A=F(()=>e.reverse!==e.query),n=F(()=>({...i.value!==null?i.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),s=F(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),l=F(()=>vd(e.buffer!==void 0?e.buffer:1,A.value,o.$q)),c=F(()=>`with${e.instantFeedback===!0?"out":""}-transition`),u=F(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${c.value} q-linear-progress__track--${a.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),d=F(()=>vd(r.value===!0?1:e.value,A.value,o.$q)),m=F(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${c.value} q-linear-progress__model--${r.value===!0?"in":""}determinate`),g=F(()=>({width:`${e.value*100}%`})),p=F(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${c.value}`);return()=>{const f=[P("div",{class:u.value,style:l.value}),P("div",{class:m.value,style:d.value})];return e.stripe===!0&&r.value===!1&&f.push(P("div",{class:p.value,style:g.value})),P("div",{class:s.value,style:n.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},wi(t.default,f))}}}),nb=["horizontal","vertical","cell","none"],Qp=ut({name:"QMarkupTable",props:{...Pa,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>nb.includes(e)}},setup(e,{slots:t}){const o=Ft(),a=_a(e,o.proxy.$q),i=F(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>P("div",{class:i.value},[P("table",{class:"q-table"},uo(t.default))])}}),sb=ut({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:o}}=Ft(),a=_r(rn,$o);if(a===$o)return console.error("QPage needs to be a deep child of QLayout"),$o;if(_r(uf,$o)===$o)return console.error("QPage needs to be child of QPageContainer"),$o;const r=F(()=>{const n=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const s=a.isContainer.value===!0?a.containerHeight.value:o.screen.height;return e.styleFn(n,s)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-n+"px":o.screen.height===0?n!==0?`calc(100vh - ${n}px)`:"100vh":o.screen.height-n+"px"}}),A=F(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>P("main",{class:A.value,style:r.value},uo(t.default))}}),lb=ut({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:o}}=Ft(),a=_r(rn,$o);if(a===$o)return console.error("QPageContainer needs to be child of QLayout"),$o;mA(uf,!0);const i=F(()=>{const r={};return a.header.space===!0&&(r.paddingTop=`${a.header.size}px`),a.right.space===!0&&(r[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(r.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(r[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),r});return()=>P("div",{class:"q-page-container",style:i.value},uo(t.default))}}),Fi=ut({name:"QPopupProxy",props:{...pp,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:o,attrs:a}){const{proxy:i}=Ft(),{$q:r}=i,A=R(!1),n=R(null),s=F(()=>parseInt(e.breakpoint,10)),{canShow:l}=gp({showing:A});function c(){return r.screen.width<s.value||r.screen.height<s.value?"dialog":"menu"}const u=R(c()),d=F(()=>u.value==="menu"?{maxHeight:"99vh"}:{});Je(()=>c(),p=>{A.value!==!0&&(u.value=p)});function m(p){A.value=!0,o("show",p)}function g(p){A.value=!1,u.value=c(),o("hide",p)}return Object.assign(i,{show(p){l(p)===!0&&n.value.show(p)},hide(p){n.value.hide(p)},toggle(p){n.value.toggle(p)}}),fr(i,"currentComponent",()=>({type:u.value,ref:n.value})),()=>{const p={ref:n,...d.value,...a,onShow:m,onHide:g};let f;return u.value==="dialog"?f=sr:(f=gA,Object.assign(p,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),P(f,p,t.default)}}}),cb=ut({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[P("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),P("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),Vt(P("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),Vt(P("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),hd=["vertical","horizontal"],ll={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Bd={prevent:!0,mouse:!0,mouseAllDir:!0},Cd=e=>e>=250?50:Math.ceil(e/5),Ms=ut({name:"QScrollArea",props:{...Pa,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:t,emit:o}){const a=R(!1),i=R(!1),r=R(!1),A={vertical:R(0),horizontal:R(0)},n={vertical:{ref:R(null),position:R(0),size:R(0)},horizontal:{ref:R(null),position:R(0),size:R(0)}},{proxy:s}=Ft(),l=_a(e,s.$q);let c=null,u;const d=R(null),m=F(()=>"q-scrollarea"+(l.value===!0?" q-scrollarea--dark":""));Object.assign(A,{verticalInner:F(()=>A.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:F(()=>A.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),n.vertical.percentage=F(()=>{const $=n.vertical.size.value-A.vertical.value;if($<=0)return 0;const z=oi(n.vertical.position.value/$,0,1);return Math.round(z*1e4)/1e4}),n.vertical.thumbHidden=F(()=>(e.visible===null?r.value:e.visible)!==!0&&a.value===!1&&i.value===!1||n.vertical.size.value<=A.vertical.value+1),n.vertical.thumbStart=F(()=>e.verticalOffset[0]+n.vertical.percentage.value*(A.verticalInner.value-n.vertical.thumbSize.value)),n.vertical.thumbSize=F(()=>Math.round(oi(A.verticalInner.value*A.verticalInner.value/n.vertical.size.value,Cd(A.verticalInner.value),A.verticalInner.value))),n.vertical.style=F(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${n.vertical.thumbStart.value}px`,height:`${n.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),n.vertical.thumbClass=F(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.vertical.barClass=F(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),n.horizontal.percentage=F(()=>{const $=n.horizontal.size.value-A.horizontal.value;if($<=0)return 0;const z=oi(Math.abs(n.horizontal.position.value)/$,0,1);return Math.round(z*1e4)/1e4}),n.horizontal.thumbHidden=F(()=>(e.visible===null?r.value:e.visible)!==!0&&a.value===!1&&i.value===!1||n.horizontal.size.value<=A.horizontal.value+1),n.horizontal.thumbStart=F(()=>e.horizontalOffset[0]+n.horizontal.percentage.value*(A.horizontalInner.value-n.horizontal.thumbSize.value)),n.horizontal.thumbSize=F(()=>Math.round(oi(A.horizontalInner.value*A.horizontalInner.value/n.horizontal.size.value,Cd(A.horizontalInner.value),A.horizontalInner.value))),n.horizontal.style=F(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[s.$q.lang.rtl===!0?"right":"left"]:`${n.horizontal.thumbStart.value}px`,width:`${n.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),n.horizontal.thumbClass=F(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.horizontal.barClass=F(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=F(()=>n.vertical.thumbHidden.value===!0&&n.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function p(){const $={};return hd.forEach(z=>{const N=n[z];Object.assign($,{[z+"Position"]:N.position.value,[z+"Percentage"]:N.percentage.value,[z+"Size"]:N.size.value,[z+"ContainerSize"]:A[z].value,[z+"ContainerInnerSize"]:A[z+"Inner"].value})}),$}const f=Yc(()=>{const $=p();$.ref=s,o("scroll",$)},0);function v($,z,N){if(hd.includes($)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}($==="vertical"?Gu:rl)(d.value,z,N)}function h({height:$,width:z}){let N=!1;A.vertical.value!==$&&(A.vertical.value=$,N=!0),A.horizontal.value!==z&&(A.horizontal.value=z,N=!0),N===!0&&I()}function B({position:$}){let z=!1;n.vertical.position.value!==$.top&&(n.vertical.position.value=$.top,z=!0),n.horizontal.position.value!==$.left&&(n.horizontal.position.value=$.left,z=!0),z===!0&&I()}function b({height:$,width:z}){n.horizontal.size.value!==z&&(n.horizontal.size.value=z,I()),n.vertical.size.value!==$&&(n.vertical.size.value=$,I())}function Q($,z){const N=n[z];if($.isFirst===!0){if(N.thumbHidden.value===!0)return;u=N.position.value,i.value=!0}else if(i.value!==!0)return;$.isFinal===!0&&(i.value=!1);const x=ll[z],M=(N.size.value-A[z].value)/(A[z+"Inner"].value-N.thumbSize.value),X=$.distance[x.dist],ae=u+($.direction===x.dir?1:-1)*X*M;D(ae,z)}function y($,z){const N=n[z];if(N.thumbHidden.value!==!0){const x=z==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],M=$[ll[z].offset]-x,X=N.thumbStart.value-x;if(M<X||M>X+N.thumbSize.value){const ae=M-N.thumbSize.value/2,L=oi(ae/(A[z+"Inner"].value-N.thumbSize.value),0,1);D(L*Math.max(0,N.size.value-A[z].value),z)}N.ref.value!==null&&N.ref.value.dispatchEvent(new MouseEvent($.type,$))}}function I(){a.value=!0,c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,a.value=!1},e.delay),e.onScroll!==void 0&&f()}function D($,z){d.value[ll[z].scroll]=$}let O=null;function S(){O!==null&&clearTimeout(O),O=setTimeout(()=>{O=null,r.value=!0},s.$q.platform.is.ios?50:0)}function k(){O!==null&&(clearTimeout(O),O=null),r.value=!1}let W=null;Je(()=>s.$q.lang.rtl,$=>{d.value!==null&&rl(d.value,Math.abs(n.horizontal.position.value)*($===!0?-1:1))}),an(()=>{W={top:n.vertical.position.value,left:n.horizontal.position.value}}),Lr(()=>{if(W===null)return;const $=d.value;$!==null&&(rl($,W.left),Gu($,W.top))}),qo(f.cancel),Object.assign(s,{getScrollTarget:()=>d.value,getScroll:p,getScrollPosition:()=>({top:n.vertical.position.value,left:n.horizontal.position.value}),getScrollPercentage:()=>({top:n.vertical.percentage.value,left:n.horizontal.percentage.value}),setScrollPosition:v,setScrollPercentage($,z,N){v($,z*(n[$].size.value-A[$].value)*($==="horizontal"&&s.$q.lang.rtl===!0?-1:1),N)}});const re={scroll:n,thumbVertDir:[[Gl,$=>{Q($,"vertical")},void 0,{vertical:!0,...Bd}]],thumbHorizDir:[[Gl,$=>{Q($,"horizontal")},void 0,{horizontal:!0,...Bd}]],onVerticalMousedown($){y($,"vertical")},onHorizontalMousedown($){y($,"horizontal")}};return()=>P("div",{class:m.value,onMouseenter:S,onMouseleave:k},[P("div",{ref:d,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[P("div",{class:"q-scrollarea__content absolute",style:g.value},wi(t.default,[P(rr,{debounce:0,onResize:b})])),P(Fp,{axis:"both",onScroll:B})]),P(rr,{debounce:0,onResize:h}),P(cb,{store:re,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),ti=1e3,ub=["start","center","end","start-force","center-force","end-force"],db=Array.prototype.filter;function tA(e,t){return e+t}function cl(e,t,o,a,i,r,A,n){const s=e===window?document.scrollingElement||document.documentElement:e,l=i===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-A-n,scrollMaxSize:0,offsetStart:-A,offsetEnd:-n};if(i===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=s.scrollLeft,c.scrollViewSize+=s.clientWidth),c.scrollMaxSize=s.scrollWidth,r===!0&&(c.scrollStart=0-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=s.scrollTop,c.scrollViewSize+=s.clientHeight),c.scrollMaxSize=s.scrollHeight),o!==null)for(let u=o.previousElementSibling;u!==null;u=u.previousElementSibling)u.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=u[l]);if(a!==null)for(let u=a.nextElementSibling;u!==null;u=u.nextElementSibling)u.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=u[l]);if(t!==e){const u=s.getBoundingClientRect(),d=t.getBoundingClientRect();i===!0?(c.offsetStart+=d.left-u.left,c.offsetEnd-=d.width):(c.offsetStart+=d.top-u.top,c.offsetEnd-=d.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function bd(e,t,o,a){t==="end"&&(t=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(a===!0&&(t=0-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):o===!0?(a===!0&&(t=0-t),e.scrollLeft=t):e.scrollTop=t}function FA(e,t,o,a){if(o>=a)return 0;const i=t.length,r=Math.floor(o/ti),A=Math.floor((a-1)/ti)+1;let n=e.slice(r,A).reduce(tA,0);return o%ti!==0&&(n-=t.slice(r*ti,o).reduce(tA,0)),a%ti!==0&&a!==i&&(n-=t.slice(a,A*ti).reduce(tA,0)),n}const Ep={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},yp=Object.keys(Ep),Wl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ep};function Ip({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:o,virtualScrollItemSizeComputed:a}){const i=Ft(),{props:r,emit:A,proxy:n}=i,{$q:s}=n;let l,c,u,d=[],m;const g=R(0),p=R(0),f=R({}),v=R(null),h=R(null),B=R(null),b=R({from:0,to:0}),Q=F(()=>r.tableColspan!==void 0?r.tableColspan:100);a===void 0&&(a=F(()=>r.virtualScrollItemSize));const y=F(()=>a.value+";"+r.virtualScrollHorizontal),I=F(()=>y.value+";"+r.virtualScrollSliceRatioBefore+";"+r.virtualScrollSliceRatioAfter);Je(I,()=>{N()}),Je(y,D);function D(){z(c,!0)}function O(L){z(L===void 0?c:L)}function S(L,j){const te=t();if(te==null||te.nodeType===8)return;const Fe=cl(te,o(),v.value,h.value,r.virtualScrollHorizontal,s.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd);u!==Fe.scrollViewSize&&N(Fe.scrollViewSize),W(te,Fe,Math.min(e.value-1,Math.max(0,parseInt(L,10)||0)),0,ub.indexOf(j)!==-1?j:c!==-1&&L>c?"end":"start")}function k(){const L=t();if(L==null||L.nodeType===8)return;const j=cl(L,o(),v.value,h.value,r.virtualScrollHorizontal,s.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd),te=e.value-1,Fe=j.scrollMaxSize-j.offsetStart-j.offsetEnd-p.value;if(l===j.scrollStart)return;if(j.scrollMaxSize<=0){W(L,j,0,0);return}u!==j.scrollViewSize&&N(j.scrollViewSize),re(b.value.from);const he=Math.floor(j.scrollMaxSize-Math.max(j.scrollViewSize,j.offsetEnd)-Math.min(m[te],j.scrollViewSize/2));if(he>0&&Math.ceil(j.scrollStart)>=he){W(L,j,te,j.scrollMaxSize-j.offsetEnd-d.reduce(tA,0));return}let ve=0,Ce=j.scrollStart-j.offsetStart,Te=Ce;if(Ce<=Fe&&Ce+j.scrollViewSize>=g.value)Ce-=g.value,ve=b.value.from,Te=Ce;else for(let fe=0;Ce>=d[fe]&&ve<te;fe++)Ce-=d[fe],ve+=ti;for(;Ce>0&&ve<te;)Ce-=m[ve],Ce>-j.scrollViewSize?(ve++,Te=Ce):Te=m[ve]+Ce;W(L,j,ve,Te)}function W(L,j,te,Fe,he){const ve=typeof he=="string"&&he.indexOf("-force")!==-1,Ce=ve===!0?he.replace("-force",""):he,Te=Ce!==void 0?Ce:"start";let fe=Math.max(0,te-f.value[Te]),Ke=fe+f.value.total;Ke>e.value&&(Ke=e.value,fe=Math.max(0,Ke-f.value.total)),l=j.scrollStart;const Lt=fe!==b.value.from||Ke!==b.value.to;if(Lt===!1&&Ce===void 0){M(te);return}const{activeElement:Gt}=document,Dt=B.value;Lt===!0&&Dt!==null&&Dt!==Gt&&Dt.contains(Gt)===!0&&(Dt.addEventListener("focusout",$),setTimeout(()=>{Dt?.removeEventListener("focusout",$)}));const J=Ce!==void 0?m.slice(fe,te).reduce(tA,0):0;if(Lt===!0){const ue=Ke>=b.value.from&&fe<=b.value.to?b.value.to:Ke;b.value={from:fe,to:ue},g.value=FA(d,m,0,fe),p.value=FA(d,m,Ke,e.value),requestAnimationFrame(()=>{b.value.to!==Ke&&l===j.scrollStart&&(b.value={from:b.value.from,to:Ke},p.value=FA(d,m,Ke,e.value))})}requestAnimationFrame(()=>{if(l!==j.scrollStart)return;Lt===!0&&re(fe);const ue=m.slice(fe,te).reduce(tA,0),Ee=ue+j.offsetStart+g.value,_e=Ee+m[te];let rt=Ee+Fe;if(Ce!==void 0){const Ye=ue-J,at=j.scrollStart+Ye;rt=ve!==!0&&at<Ee&&_e<at+j.scrollViewSize?at:Ce==="end"?_e-j.scrollViewSize:Ee-(Ce==="start"?0:Math.round((j.scrollViewSize-m[te])/2))}l=rt,bd(L,rt,r.virtualScrollHorizontal,s.lang.rtl),M(te)})}function re(L){const j=B.value;if(j){const te=db.call(j.children,fe=>fe.classList&&fe.classList.contains("q-virtual-scroll--skip")===!1),Fe=te.length,he=r.virtualScrollHorizontal===!0?fe=>fe.getBoundingClientRect().width:fe=>fe.offsetHeight;let ve=L,Ce,Te;for(let fe=0;fe<Fe;){for(Ce=he(te[fe]),fe++;fe<Fe&&te[fe].classList.contains("q-virtual-scroll--with-prev")===!0;)Ce+=he(te[fe]),fe++;Te=Ce-m[ve],Te!==0&&(m[ve]+=Te,d[Math.floor(ve/ti)]+=Te),ve++}}}function $(){B.value?.focus()}function z(L,j){const te=1*a.value;(j===!0||Array.isArray(m)===!1)&&(m=[]);const Fe=m.length;m.length=e.value;for(let ve=e.value-1;ve>=Fe;ve--)m[ve]=te;const he=Math.floor((e.value-1)/ti);d=[];for(let ve=0;ve<=he;ve++){let Ce=0;const Te=Math.min((ve+1)*ti,e.value);for(let fe=ve*ti;fe<Te;fe++)Ce+=m[fe];d.push(Ce)}c=-1,l=void 0,g.value=FA(d,m,0,b.value.from),p.value=FA(d,m,b.value.to,e.value),L>=0?(re(b.value.from),pt(()=>{S(L)})):X()}function N(L){if(L===void 0&&typeof window<"u"){const Ce=t();Ce!=null&&Ce.nodeType!==8&&(L=cl(Ce,o(),v.value,h.value,r.virtualScrollHorizontal,s.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd).scrollViewSize)}u=L;const j=parseFloat(r.virtualScrollSliceRatioBefore)||0,te=parseFloat(r.virtualScrollSliceRatioAfter)||0,Fe=1+j+te,he=L===void 0||L<=0?1:Math.ceil(L/a.value),ve=Math.max(1,he,Math.ceil((r.virtualScrollSliceSize>0?r.virtualScrollSliceSize:10)/Fe));f.value={total:Math.ceil(ve*Fe),start:Math.ceil(ve*j),center:Math.ceil(ve*(.5+j)),end:Math.ceil(ve*(1+j)),view:he}}function x(L,j){const te=r.virtualScrollHorizontal===!0?"width":"height",Fe={["--q-virtual-scroll-item-"+te]:a.value+"px"};return[L==="tbody"?P(L,{class:"q-virtual-scroll__padding",key:"before",ref:v},[P("tr",[P("td",{style:{[te]:`${g.value}px`,...Fe},colspan:Q.value})])]):P(L,{class:"q-virtual-scroll__padding",key:"before",ref:v,style:{[te]:`${g.value}px`,...Fe}}),P(L,{class:"q-virtual-scroll__content",key:"content",ref:B,tabindex:-1},j.flat()),L==="tbody"?P(L,{class:"q-virtual-scroll__padding",key:"after",ref:h},[P("tr",[P("td",{style:{[te]:`${p.value}px`,...Fe},colspan:Q.value})])]):P(L,{class:"q-virtual-scroll__padding",key:"after",ref:h,style:{[te]:`${p.value}px`,...Fe}})]}function M(L){c!==L&&(r.onVirtualScroll!==void 0&&A("virtualScroll",{index:L,from:b.value.from,to:b.value.to-1,direction:L<c?"decrease":"increase",ref:n}),c=L)}N();const X=Yc(k,s.platform.is.ios===!0?120:35);fA(()=>{N()});let ae=!1;return an(()=>{ae=!0}),Lr(()=>{if(ae!==!0)return;const L=t();l!==void 0&&L!==void 0&&L!==null&&L.nodeType!==8?bd(L,l,r.virtualScrollHorizontal,s.lang.rtl):S(c)}),Object.assign(n,{scrollTo:S,reset:D,refresh:O}),{virtualScrollSliceRange:b,virtualScrollSliceSizeComputed:f,setVirtualScrollSize:N,onVirtualScrollEvt:X,localResetVirtualScroll:z,padVirtualScroll:x,scrollTo:S,reset:D,refresh:O}}const wd=e=>["add","add-unique","toggle"].includes(e),mb=".*+?^${}()|[]\\",fb=Object.keys(Wc);function ul(e,t){if(typeof e=="function")return e;const o=e!==void 0?e:t;return a=>a!==null&&typeof a=="object"&&o in a?a[o]:a}const Up=ut({name:"QSelect",inheritAttrs:!1,props:{...Wl,...Is,...Wc,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:wd},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Wl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...jc,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:o}){const{proxy:a}=Ft(),{$q:i}=a,r=R(!1),A=R(!1),n=R(-1),s=R(""),l=R(!1),c=R(!1);let u=null,d=null,m,g,p,f=null,v,h,B,b;const Q=R(null),y=R(null),I=R(null),D=R(null),O=R(null),S=cf(e),k=Qh(ee),W=F(()=>Array.isArray(e.options)?e.options.length:0),re=F(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:$,virtualScrollSliceSizeComputed:z,localResetVirtualScroll:N,padVirtualScroll:x,onVirtualScrollEvt:M,scrollTo:X,setVirtualScrollSize:ae}=Ip({virtualScrollLength:W,getVirtualScrollTarget:hA,getVirtualScrollEl:si,virtualScrollItemSizeComputed:re}),L=Xc(),j=F(()=>{const _=e.mapOptions===!0&&e.multiple!==!0,ne=e.modelValue!==void 0&&(e.modelValue!==null||_===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const Ue=e.mapOptions===!0&&m!==void 0?m:[],ct=ne.map(Jt=>pe(Jt,Ue));return e.modelValue===null&&_===!0?ct.filter(Jt=>Jt!==null):ct}return ne}),te=F(()=>{const _={};return fb.forEach(ne=>{const Ue=e[ne];Ue!==void 0&&(_[ne]=Ue)}),_}),Fe=F(()=>e.optionsDark===null?L.isDark.value:e.optionsDark),he=F(()=>is(j.value)),ve=F(()=>{let _="q-field__input q-placeholder col";return e.hideSelected===!0||j.value.length===0?[_,e.inputClass]:(_+=" q-field__input--padding",e.inputClass===void 0?_:[_,e.inputClass])}),Ce=F(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Te=F(()=>W.value===0),fe=F(()=>j.value.map(_=>Ae.value(_)).join(", ")),Ke=F(()=>e.displayValue!==void 0?e.displayValue:fe.value),Lt=F(()=>e.optionsHtml===!0?()=>!0:_=>_?.html===!0),Gt=F(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||j.value.some(Lt.value))),Dt=F(()=>L.focused.value===!0?e.tabindex:-1),J=F(()=>{const _={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-controls":`${L.targetUid.value}_lb`};return n.value>=0&&(_["aria-activedescendant"]=`${L.targetUid.value}_${n.value}`),_}),ue=F(()=>({id:`${L.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ee=F(()=>j.value.map((_,ne)=>({index:ne,opt:_,html:Lt.value(_),selected:!0,removeAtIndex:Ct,toggleOption:mo,tabindex:Dt.value}))),_e=F(()=>{if(W.value===0)return[];const{from:_,to:ne}=$.value;return e.options.slice(_,ne).map((Ue,ct)=>{const Jt=Ie.value(Ue)===!0,oo=qe(Ue)===!0,Go=_+ct,Eo={clickable:!0,active:oo,activeClass:at.value,manualFocus:!0,focused:!1,disable:Jt,tabindex:-1,dense:e.optionsDense,dark:Fe.value,role:"option","aria-selected":oo===!0?"true":"false",id:`${L.targetUid.value}_${Go}`,onClick:()=>{mo(Ue)}};return Jt!==!0&&(n.value===Go&&(Eo.focused=!0),i.platform.is.desktop===!0&&(Eo.onMousemove=()=>{r.value===!0&&Qo(Go)})),{index:Go,opt:Ue,html:Lt.value(Ue),label:Ae.value(Ue),selected:Eo.active,focused:Eo.focused,toggleOption:mo,setOptionIndex:Qo,itemProps:Eo}})}),rt=F(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),Ye=F(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),at=F(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),At=F(()=>ul(e.optionValue,"value")),Ae=F(()=>ul(e.optionLabel,"label")),Ie=F(()=>ul(e.optionDisable,"disable")),Xe=F(()=>j.value.map(At.value)),Qt=F(()=>{const _={onInput:ee,onChange:k,onKeydown:va,onKeyup:eo,onKeypress:zo,onFocus:ft,onClick(ne){g===!0&&mi(ne)}};return _.onCompositionstart=_.onCompositionupdate=_.onCompositionend=k,_});Je(j,_=>{m=_,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&L.innerLoading.value!==!0&&(A.value!==!0&&r.value!==!0||he.value!==!0)&&(p!==!0&&Ht(),(A.value===!0||r.value===!0)&&Ge(""))},{immediate:!0}),Je(()=>e.fillInput,Ht),Je(r,Wt),Je(W,ro);function _t(_){return e.emitValue===!0?At.value(_):_}function Bt(_){if(_!==-1&&_<j.value.length)if(e.multiple===!0){const ne=e.modelValue.slice();o("remove",{index:_,value:ne.splice(_,1)[0]}),o("update:modelValue",ne)}else o("update:modelValue",null)}function Ct(_){Bt(_),L.focus()}function go(_,ne){const Ue=_t(_);if(e.multiple!==!0){e.fillInput===!0&&je(Ae.value(_),!0,!0),o("update:modelValue",Ue);return}if(j.value.length===0){o("add",{index:0,value:Ue}),o("update:modelValue",e.multiple===!0?[Ue]:Ue);return}if(ne===!0&&qe(_)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ct=e.modelValue.slice();o("add",{index:ct.length,value:Ue}),ct.push(Ue),o("update:modelValue",ct)}function mo(_,ne){if(L.editable.value!==!0||_===void 0||Ie.value(_)===!0)return;const Ue=At.value(_);if(e.multiple!==!0){ne!==!0&&(je(e.fillInput===!0?Ae.value(_):"",!0,!0),It()),y.value?.focus(),(j.value.length===0||CA(At.value(j.value[0]),Ue)!==!0)&&o("update:modelValue",e.emitValue===!0?Ue:_);return}if((g!==!0||l.value===!0)&&L.focus(),ft(),j.value.length===0){const oo=e.emitValue===!0?Ue:_;o("add",{index:0,value:oo}),o("update:modelValue",e.multiple===!0?[oo]:oo);return}const ct=e.modelValue.slice(),Jt=Xe.value.findIndex(oo=>CA(oo,Ue));if(Jt!==-1)o("remove",{index:Jt,value:ct.splice(Jt,1)[0]});else{if(e.maxValues!==void 0&&ct.length>=e.maxValues)return;const oo=e.emitValue===!0?Ue:_;o("add",{index:ct.length,value:oo}),ct.push(oo)}o("update:modelValue",ct)}function Qo(_){if(i.platform.is.desktop!==!0)return;const ne=_!==-1&&_<W.value?_:-1;n.value!==ne&&(n.value=ne)}function Ko(_=1,ne){if(r.value===!0){let Ue=n.value;do Ue=ju(Ue+_,-1,W.value-1);while(Ue!==-1&&Ue!==n.value&&Ie.value(e.options[Ue])===!0);n.value!==Ue&&(Qo(Ue),X(Ue),ne!==!0&&e.useInput===!0&&e.fillInput===!0&&De(Ue>=0?Ae.value(e.options[Ue]):v,!0))}}function pe(_,ne){const Ue=ct=>CA(At.value(ct),_);return e.options.find(Ue)||ne.find(Ue)||_}function qe(_){const ne=At.value(_);return Xe.value.find(Ue=>CA(Ue,ne))!==void 0}function ft(_){e.useInput===!0&&y.value!==null&&(_===void 0||y.value===_.target&&_.target.value===fe.value)&&y.value.select()}function Ot(_){en(_,27)===!0&&r.value===!0&&(mi(_),It(),Ht()),o("keyup",_)}function eo(_){const{value:ne}=_.target;if(_.keyCode!==void 0){Ot(_);return}if(_.target.value="",u!==null&&(clearTimeout(u),u=null),d!==null&&(clearTimeout(d),d=null),Ht(),typeof ne=="string"&&ne.length!==0){const Ue=ne.toLocaleLowerCase(),ct=oo=>{const Go=e.options.find(Eo=>String(oo.value(Eo)).toLocaleLowerCase()===Ue);return Go===void 0?!1:(j.value.indexOf(Go)===-1?mo(Go):It(),!0)},Jt=oo=>{ct(At)!==!0&&oo!==!0&&ct(Ae)!==!0&&Ge(ne,!0,()=>Jt(!0))};Jt()}else L.clearValue(_)}function zo(_){o("keypress",_)}function va(_){if(o("keydown",_),nf(_)===!0)return;const ne=s.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),Ue=_.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(n.value!==-1||ne===!0);if(_.keyCode===27){Ji(_);return}if(_.keyCode===9&&Ue===!1){We();return}if(_.target===void 0||_.target.id!==L.targetUid.value||L.editable.value!==!0)return;if(_.keyCode===40&&L.innerLoading.value!==!0&&r.value===!1){So(_),gt();return}if(_.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&s.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Bt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(_.keyCode===35||_.keyCode===36)&&(typeof s.value!="string"||s.value.length===0)&&(So(_),n.value=-1,Ko(_.keyCode===36?1:-1,e.multiple)),(_.keyCode===33||_.keyCode===34)&&z.value!==void 0&&(So(_),n.value=Math.max(-1,Math.min(W.value,n.value+(_.keyCode===33?-1:1)*z.value.view)),Ko(_.keyCode===33?1:-1,e.multiple)),(_.keyCode===38||_.keyCode===40)&&(So(_),Ko(_.keyCode===38?-1:1,e.multiple));const ct=W.value;if((B===void 0||b<Date.now())&&(B=""),ct>0&&e.useInput!==!0&&_.key!==void 0&&_.key.length===1&&_.altKey===!1&&_.ctrlKey===!1&&_.metaKey===!1&&(_.keyCode!==32||B.length!==0)){r.value!==!0&&gt(_);const Jt=_.key.toLocaleLowerCase(),oo=B.length===1&&B[0]===Jt;b=Date.now()+1500,oo===!1&&(So(_),B+=Jt);const Go=new RegExp("^"+B.split("").map(il=>mb.indexOf(il)!==-1?"\\"+il:il).join(".*"),"i");let Eo=n.value;if(oo===!0||Eo<0||Go.test(Ae.value(e.options[Eo]))!==!0)do Eo=ju(Eo+1,-1,ct-1);while(Eo!==n.value&&(Ie.value(e.options[Eo])===!0||Go.test(Ae.value(e.options[Eo]))!==!0));n.value!==Eo&&pt(()=>{Qo(Eo),X(Eo),Eo>=0&&e.useInput===!0&&e.fillInput===!0&&De(Ae.value(e.options[Eo]),!0)});return}if(!(_.keyCode!==13&&(_.keyCode!==32||e.useInput===!0||B!=="")&&(_.keyCode!==9||Ue===!1))){if(_.keyCode!==9&&So(_),n.value!==-1&&n.value<ct){mo(e.options[n.value]);return}if(ne===!0){const Jt=(oo,Go)=>{if(Go){if(wd(Go)!==!0)return}else Go=e.newValueMode;if(je("",e.multiple!==!0,!0),oo==null)return;(Go==="toggle"?mo:go)(oo,Go==="add-unique"),e.multiple!==!0&&(y.value?.focus(),It())};if(e.onNewValue!==void 0?o("newValue",s.value,Jt):Jt(s.value),e.multiple!==!0)return}r.value===!0?We():L.innerLoading.value!==!0&&gt()}}function si(){return g===!0?O.value:I.value!==null&&I.value.contentEl!==null?I.value.contentEl:void 0}function hA(){return si()}function BA(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Ee.value.map(_=>t["selected-item"](_)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Ee.value.map((_,ne)=>P(lr,{key:"option-"+ne,removable:L.editable.value===!0&&Ie.value(_.opt)!==!0,dense:!0,textColor:e.color,tabindex:Dt.value,onRemove(){_.removeAtIndex(ne)}},()=>P("span",{class:"ellipsis",[_.html===!0?"innerHTML":"textContent"]:Ae.value(_.opt)}))):[P("span",{class:"ellipsis",[Gt.value===!0?"innerHTML":"textContent"]:Ke.value})]}function Ti(){if(Te.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:s.value}):void 0;const _=t.option!==void 0?t.option:Ue=>P(Os,{key:Ue.index,...Ue.itemProps},()=>P(eA,()=>P(GA,()=>P("span",{[Ue.html===!0?"innerHTML":"textContent"]:Ue.label}))));let ne=x("div",_e.value.map(_));return t["before-options"]!==void 0&&(ne=t["before-options"]().concat(ne)),wi(t["after-options"],ne)}function ur(_,ne){const Ue=ne===!0?{...J.value,...L.splitAttrs.attributes.value}:void 0,ct={ref:ne===!0?y:void 0,key:"i_t",class:ve.value,style:e.inputStyle,value:s.value!==void 0?s.value:"",type:"search",...Ue,id:ne===!0?L.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":_===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Qt.value};return _!==!0&&g===!0&&(Array.isArray(ct.class)===!0?ct.class=[...ct.class,"no-pointer-events"]:ct.class+=" no-pointer-events"),P("input",ct)}function ee(_){u!==null&&(clearTimeout(u),u=null),d!==null&&(clearTimeout(d),d=null),!(_&&_.target&&_.target.qComposing===!0)&&(De(_.target.value||""),p=!0,v=s.value,L.focused.value!==!0&&(g!==!0||l.value===!0)&&L.focus(),e.onFilter!==void 0&&(u=setTimeout(()=>{u=null,Ge(s.value)},e.inputDebounce)))}function De(_,ne){s.value!==_&&(s.value=_,ne===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",_):d=setTimeout(()=>{d=null,o("inputValue",_)},e.inputDebounce))}function je(_,ne,Ue){p=Ue!==!0,e.useInput===!0&&(De(_,!0),(ne===!0||Ue!==!0)&&(v=_),ne!==!0&&Ge(_))}function Ge(_,ne,Ue){if(e.onFilter===void 0||ne!==!0&&L.focused.value!==!0)return;L.innerLoading.value===!0?o("filterAbort"):(L.innerLoading.value=!0,c.value=!0),_!==""&&e.multiple!==!0&&j.value.length!==0&&p!==!0&&_===Ae.value(j.value[0])&&(_="");const ct=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);f!==null&&clearTimeout(f),f=ct,o("filter",_,(Jt,oo)=>{(ne===!0||L.focused.value===!0)&&f===ct&&(clearTimeout(f),typeof Jt=="function"&&Jt(),c.value=!1,pt(()=>{L.innerLoading.value=!1,L.editable.value===!0&&(ne===!0?r.value===!0&&It():r.value===!0?Wt(!0):r.value=!0),typeof oo=="function"&&pt(()=>{oo(a)}),typeof Ue=="function"&&pt(()=>{Ue(a)})}))},()=>{L.focused.value===!0&&f===ct&&(clearTimeout(f),L.innerLoading.value=!1,c.value=!1),r.value===!0&&(r.value=!1)})}function nt(){return P(gA,{ref:I,class:Ce.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Te.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:Fe.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ye.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ue.value,onScrollPassive:M,onBeforeShow:kt,onBeforeHide:to,onShow:jt},Ti)}function to(_){Bo(_),We()}function jt(){ae()}function Y(_){mi(_),y.value?.focus(),l.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Z(_){mi(_),pt(()=>{l.value=!1})}function Be(){const _=[P(WC,{class:`col-auto ${L.fieldClass.value}`,...te.value,for:L.targetUid.value,dark:Fe.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:s.value.length!==0,...L.splitAttrs.listeners.value,onFocus:Y,onBlur:Z},{...t,rawControl:()=>L.getControl(!0),before:void 0,after:void 0})];return r.value===!0&&_.push(P("div",{ref:O,class:Ce.value+" scroll",style:e.popupContentStyle,...ue.value,onClick:Ji,onScrollPassive:M},Ti())),P(sr,{ref:D,modelValue:A.value,position:e.useInput===!0?"top":void 0,transitionShow:h,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:kt,onBeforeHide:ye,onHide:He,onShow:Ve},()=>P("div",{class:"q-select__dialog"+(Fe.value===!0?" q-select__dialog--dark q-dark":"")+(l.value===!0?" q-select__dialog--focused":"")},_))}function ye(_){Bo(_),D.value!==null&&D.value.__updateRefocusTarget(L.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),L.focused.value=!1}function He(_){It(),L.focused.value===!1&&o("blur",_),Ht()}function Ve(){const _=document.activeElement;(_===null||_.id!==L.targetUid.value)&&y.value!==null&&y.value!==_&&y.value.focus(),ae()}function We(){A.value!==!0&&(n.value=-1,r.value===!0&&(r.value=!1),L.focused.value===!1&&(f!==null&&(clearTimeout(f),f=null),L.innerLoading.value===!0&&(o("filterAbort"),L.innerLoading.value=!1,c.value=!1)))}function gt(_){L.editable.value===!0&&(g===!0?(L.onControlFocusin(_),A.value=!0,pt(()=>{L.focus()})):L.focus(),e.onFilter!==void 0?Ge(s.value):(Te.value!==!0||t["no-option"]!==void 0)&&(r.value=!0))}function It(){A.value=!1,We()}function Ht(){e.useInput===!0&&je(e.multiple!==!0&&e.fillInput===!0&&j.value.length!==0&&Ae.value(j.value[0])||"",!0,!0)}function Wt(_){let ne=-1;if(_===!0){if(j.value.length!==0){const Ue=At.value(j.value[0]);ne=e.options.findIndex(ct=>CA(At.value(ct),Ue))}N(ne)}Qo(ne)}function ro(_,ne){r.value===!0&&L.innerLoading.value===!1&&(N(-1,!0),pt(()=>{r.value===!0&&L.innerLoading.value===!1&&(_>ne?N():Wt(!0))}))}function fo(){A.value===!1&&I.value!==null&&I.value.updatePosition()}function kt(_){_!==void 0&&mi(_),o("popupShow",_),L.hasPopupOpen=!0,L.onControlFocusin(_)}function Bo(_){_!==void 0&&mi(_),o("popupHide",_),L.hasPopupOpen=!1,L.onControlFocusout(_)}function Me(){g=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Te.value===!1:!0),h=i.platform.is.ios===!0&&g===!0&&e.useInput===!0?"fade":e.transitionShow}return wh(Me),Fh(fo),Me(),qo(()=>{u!==null&&clearTimeout(u),d!==null&&clearTimeout(d)}),Object.assign(a,{showPopup:gt,hidePopup:It,removeAtIndex:Bt,add:go,toggleOption:mo,getOptionIndex:()=>n.value,setOptionIndex:Qo,moveOptionSelection:Ko,filter:Ge,updateMenuPosition:fo,updateInputValue:je,isOptionSelected:qe,getEmittingOptionValue:_t,isOptionDisabled:(..._)=>Ie.value.apply(null,_)===!0,getOptionValue:(..._)=>At.value.apply(null,_),getOptionLabel:(..._)=>Ae.value.apply(null,_)}),Object.assign(L,{innerValue:j,fieldClass:F(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Q,targetRef:y,hasValue:he,showPopup:gt,floatingLabel:F(()=>e.hideSelected!==!0&&he.value===!0||typeof s.value=="number"||s.value.length!==0||is(e.displayValue)),getControlChild:()=>{if(L.editable.value!==!1&&(A.value===!0||Te.value!==!0||t["no-option"]!==void 0))return g===!0?Be():nt();L.hasPopupOpen===!0&&(L.hasPopupOpen=!1)},controlEvents:{onFocusin(_){L.onControlFocusin(_)},onFocusout(_){L.onControlFocusout(_,()=>{Ht(),We()})},onClick(_){if(Ji(_),g!==!0&&r.value===!0){We(),y.value?.focus();return}gt(_)}},getControl:_=>{const ne=BA(),Ue=_===!0||A.value!==!0||g!==!0;if(e.useInput===!0)ne.push(ur(_,Ue));else if(L.editable.value===!0){const Jt=Ue===!0?J.value:void 0;ne.push(P("input",{ref:Ue===!0?y:void 0,key:"d_t",class:"q-select__focus-target",id:Ue===!0?L.targetUid.value:void 0,value:Ke.value,readonly:!0,"data-autofocus":_===!0||e.autofocus===!0||void 0,...Jt,onKeydown:va,onKeyup:Ot,onKeypress:zo})),Ue===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&ne.push(P("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:eo}))}if(S.value!==void 0&&e.disable!==!0&&Xe.value.length!==0){const Jt=Xe.value.map(oo=>P("option",{value:oo,selected:!0}));ne.push(P("select",{class:"hidden",name:S.value,multiple:e.multiple},Jt))}const ct=e.useInput===!0||Ue!==!0?void 0:L.splitAttrs.attributes.value;return P("div",{class:"q-field__native row items-center",...ct,...L.splitAttrs.listeners.value},ne)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[P(Nt,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:rt.value})]:null}),Jc(L)}}),Oa=ut({name:"QSpace",setup(){const e=P("div",{class:"q-space"});return()=>e}}),pb='<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>',gb=ut({name:"QSpinnerGears",props:Eh,setup(e){const{cSize:t,classes:o}=yh(e);return()=>P("svg",{class:o.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:pb})}}),Ls=ut({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:o}){const a=Ft(),{proxy:{$q:i}}=a,r=A=>{o("click",A)};return()=>{if(e.props===void 0)return P("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:r},uo(t.default));let A,n;const s=a.vnode.key;if(s){if(A=e.props.colsMap[s],A===void 0)return}else A=e.props.col;if(A.sortable===!0){const c=A.align==="right"?"unshift":"push";n=Gc(t.default,[]),n[c](P(Nt,{class:A.__iconClass,name:i.iconSet.table.arrowUp}))}else n=uo(t.default);const l={class:A.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:A.headerStyle,onClick:c=>{A.sortable===!0&&e.props.sort(A),r(c)}};return P("th",l,n)}}});function Sp(e,t){return P("div",e,[P("table",{class:"q-table"},t)])}const vb={list:wp,table:Qp},hb=["list","table","__qtable"],Bb=ut({name:"QVirtualScroll",props:{...Wl,type:{type:String,default:"list",validator:e=>hb.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Tc},setup(e,{slots:t,attrs:o}){let a;const i=R(null),r=F(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:A,localResetVirtualScroll:n,padVirtualScroll:s,onVirtualScrollEvt:l}=Ip({virtualScrollLength:r,getVirtualScrollTarget:g,getVirtualScrollEl:m}),c=F(()=>{if(r.value===0)return[];const h=(B,b)=>({index:A.value.from+b,item:B});return e.itemsFn===void 0?e.items.slice(A.value.from,A.value.to).map(h):e.itemsFn(A.value.from,A.value.to-A.value.from).map(h)}),u=F(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),d=F(()=>e.scrollTarget!==void 0?{}:{tabindex:0});Je(r,()=>{n()}),Je(()=>e.scrollTarget,()=>{f(),p()});function m(){return i.value.$el||i.value}function g(){return a}function p(){a=Nc(m(),e.scrollTarget),a.addEventListener("scroll",l,or.passive)}function f(){a!==void 0&&(a.removeEventListener("scroll",l,or.passive),a=void 0)}function v(){let h=s(e.type==="list"?"div":"tbody",c.value.map(t.default));return t.before!==void 0&&(h=t.before().concat(h)),wi(t.after,h)}return fA(()=>{n()}),No(()=>{p()}),Lr(()=>{p()}),an(()=>{f()}),qo(()=>{f()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Sp({ref:i,class:"q-table__middle "+u.value},v()):P(vb[e.type],{...o,ref:i,class:[o.class,u.value],...d.value},v)}}});function Cb(e,t){return new Date(e)-new Date(t)}const bb={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function wb(e,t,o,a){const i=F(()=>{const{sortBy:n}=t.value;return n&&o.value.find(s=>s.name===n)||null}),r=F(()=>e.sortMethod!==void 0?e.sortMethod:(n,s,l)=>{const c=o.value.find(m=>m.name===s);if(c===void 0||c.field===void 0)return n;const u=l===!0?-1:1,d=typeof c.field=="function"?m=>c.field(m):m=>m[c.field];return n.sort((m,g)=>{let p=d(m),f=d(g);return c.rawSort!==void 0?c.rawSort(p,f,m,g)*u:p==null?-1*u:f==null?1*u:c.sort!==void 0?c.sort(p,f,m,g)*u:as(p)===!0&&as(f)===!0?(p-f)*u:Wu(p)===!0&&Wu(f)===!0?Cb(p,f)*u:typeof p=="boolean"&&typeof f=="boolean"?(p-f)*u:([p,f]=[p,f].map(v=>(v+"").toLocaleString().toLowerCase()),p<f?-1*u:p===f?0:u)})});function A(n){let s=e.columnSortOrder;if(jn(n)===!0)n.sortOrder&&(s=n.sortOrder),n=n.name;else{const u=o.value.find(d=>d.name===n);u?.sortOrder&&(s=u.sortOrder)}let{sortBy:l,descending:c}=t.value;l!==n?(l=n,c=s==="da"):e.binaryStateSort===!0?c=!c:c===!0?s==="ad"?l=null:c=!1:s==="ad"?c=!0:l=null,a({sortBy:l,descending:c,page:1})}return{columnToSort:i,computedSortMethod:r,sort:A}}const Fb={filter:[String,Object],filterMethod:Function};function Qb(e,t){const o=F(()=>e.filterMethod!==void 0?e.filterMethod:(a,i,r,A)=>{const n=i?i.toLowerCase():"";return a.filter(s=>r.some(l=>{const c=A(l,s)+"";return(c==="undefined"||c==="null"?"":c.toLowerCase()).indexOf(n)!==-1}))});return Je(()=>e.filter,()=>{pt(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:o}}function Eb(e,t){for(const o in t)if(t[o]!==e[o])return!1;return!0}function Fd(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const yb={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Ib(e,t){const{props:o,emit:a}=e,i=R(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:o.rowsPerPageOptions.length!==0?o.rowsPerPageOptions[0]:5},o.pagination)),r=F(()=>{const c=o["onUpdate:pagination"]!==void 0?{...i.value,...o.pagination}:i.value;return Fd(c)}),A=F(()=>r.value.rowsNumber!==void 0);function n(c){s({pagination:c,filter:o.filter})}function s(c={}){pt(()=>{a("request",{pagination:c.pagination||r.value,filter:c.filter||o.filter,getCellValue:t})})}function l(c,u){const d=Fd({...r.value,...c});if(Eb(r.value,d)===!0){A.value===!0&&u===!0&&n(d);return}if(A.value===!0){n(d);return}o.pagination!==void 0&&o["onUpdate:pagination"]!==void 0?a("update:pagination",d):i.value=d}return{innerPagination:i,computedPagination:r,isServerSide:A,requestServerInteraction:s,setPagination:l}}function Ub(e,t,o,a,i,r){const{props:A,emit:n,proxy:{$q:s}}=e,l=F(()=>a.value===!0?o.value.rowsNumber||0:r.value),c=F(()=>{const{page:b,rowsPerPage:Q}=o.value;return(b-1)*Q}),u=F(()=>{const{page:b,rowsPerPage:Q}=o.value;return b*Q}),d=F(()=>o.value.page===1),m=F(()=>o.value.rowsPerPage===0?1:Math.max(1,Math.ceil(l.value/o.value.rowsPerPage))),g=F(()=>u.value===0?!0:o.value.page>=m.value),p=F(()=>(A.rowsPerPageOptions.includes(t.value.rowsPerPage)?A.rowsPerPageOptions:[t.value.rowsPerPage].concat(A.rowsPerPageOptions)).map(Q=>({label:Q===0?s.lang.table.allRows:""+Q,value:Q})));Je(m,(b,Q)=>{if(b===Q)return;const y=o.value.page;b&&!y?i({page:1}):b<y&&i({page:b})});function f(){i({page:1})}function v(){const{page:b}=o.value;b>1&&i({page:b-1})}function h(){const{page:b,rowsPerPage:Q}=o.value;u.value>0&&b*Q<l.value&&i({page:b+1})}function B(){i({page:m.value})}return A["onUpdate:pagination"]!==void 0&&n("update:pagination",{...o.value}),{firstRowIndex:c,lastRowIndex:u,isFirstPage:d,isLastPage:g,pagesNumber:m,computedRowsPerPageOptions:p,computedRowsNumber:l,firstPage:f,prevPage:v,nextPage:h,lastPage:B}}const Sb={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Db=["update:selected","selection"];function xb(e,t,o,a){const i=F(()=>{const g={};return e.selected.map(a.value).forEach(p=>{g[p]=!0}),g}),r=F(()=>e.selection!=="none"),A=F(()=>e.selection==="single"),n=F(()=>e.selection==="multiple"),s=F(()=>o.value.length!==0&&o.value.every(g=>i.value[a.value(g)]===!0)),l=F(()=>s.value!==!0&&o.value.some(g=>i.value[a.value(g)]===!0)),c=F(()=>e.selected.length);function u(g){return i.value[g]===!0}function d(){t("update:selected",[])}function m(g,p,f,v){t("selection",{rows:p,added:f,keys:g,evt:v});const h=A.value===!0?f===!0?p:[]:f===!0?e.selected.concat(p):e.selected.filter(B=>g.includes(a.value(B))===!1);t("update:selected",h)}return{hasSelectionMode:r,singleSelection:A,multipleSelection:n,allRowsSelected:s,someRowsSelected:l,rowsSelectedNumber:c,isRowSelected:u,clearSelection:d,updateSelection:m}}function Qd(e){return Array.isArray(e)?e.slice():[]}const Pb={expanded:Array},_b=["update:expanded"];function Ob(e,t){const o=R(Qd(e.expanded));Je(()=>e.expanded,A=>{o.value=Qd(A)});function a(A){return o.value.includes(A)}function i(A){e.expanded!==void 0?t("update:expanded",A):o.value=A}function r(A,n){const s=o.value.slice(),l=s.indexOf(A);n===!0?l===-1&&(s.push(A),i(s)):l!==-1&&(s.splice(l,1),i(s))}return{isRowExpanded:a,setExpanded:i,updateExpanded:r}}const Rb={visibleColumns:Array};function Mb(e,t,o){const a=F(()=>{if(e.columns!==void 0)return e.columns;const n=e.rows[0];return n!==void 0?Object.keys(n).map(s=>({name:s,label:s.toUpperCase(),field:s,align:as(n[s])?"right":"left",sortable:!0})):[]}),i=F(()=>{const{sortBy:n,descending:s}=t.value;return(e.visibleColumns!==void 0?a.value.filter(c=>c.required===!0||e.visibleColumns.includes(c.name)===!0):a.value).map(c=>{const u=c.align||"right",d=`text-${u}`;return{...c,align:u,__iconClass:`q-table__sort-icon q-table__sort-icon--${u}`,__thClass:d+(c.headerClasses!==void 0?" "+c.headerClasses:"")+(c.sortable===!0?" sortable":"")+(c.name===n?` sorted ${s===!0?"sort-desc":""}`:""),__tdStyle:c.style!==void 0?typeof c.style!="function"?()=>c.style:c.style:()=>null,__tdClass:c.classes!==void 0?typeof c.classes!="function"?()=>d+" "+c.classes:m=>d+" "+c.classes(m):()=>d}})}),r=F(()=>{const n={};return i.value.forEach(s=>{n[s.name]=s}),n}),A=F(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(o.value===!0?1:0));return{colList:a,computedCols:i,computedColsMap:r,computedColspan:A}}const vn="q-table__bottom row items-center",Dp={};yp.forEach(e=>{Dp[e]={}});const hu=ut({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Dp,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Pa,...bC,...Rb,...Fb,...yb,...Pb,...Sb,...bb},emits:["request","virtualScroll",...wC,..._b,...Db],setup(e,{slots:t,emit:o}){const a=Ft(),{proxy:{$q:i}}=a,r=_a(e,i),{inFullscreen:A,toggleFullscreen:n}=FC(),s=F(()=>typeof e.rowKey=="function"?e.rowKey:ee=>ee[e.rowKey]),l=R(null),c=R(null),u=F(()=>e.grid!==!0&&e.virtualScroll===!0),d=F(()=>" q-table__card"+(r.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),m=F(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":d.value)+(r.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(A.value===!0?" fullscreen scroll":"")),g=F(()=>m.value+(e.loading===!0?" q-table--loading":""));Je(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+m.value,()=>{u.value===!0&&c.value?.reset()});const{innerPagination:p,computedPagination:f,isServerSide:v,requestServerInteraction:h,setPagination:B}=Ib(a,Qo),{computedFilterMethod:b}=Qb(e,B),{isRowExpanded:Q,setExpanded:y,updateExpanded:I}=Ob(e,o),D=F(()=>{let ee=e.rows;if(v.value===!0||ee.length===0)return ee;const{sortBy:De,descending:je}=f.value;return e.filter&&(ee=b.value(ee,e.filter,L.value,Qo)),Fe.value!==null&&(ee=he.value(e.rows===ee?ee.slice():ee,De,je)),ee}),O=F(()=>D.value.length),S=F(()=>{let ee=D.value;if(v.value===!0)return ee;const{rowsPerPage:De}=f.value;return De!==0&&(Ce.value===0&&e.rows!==ee?ee.length>Te.value&&(ee=ee.slice(0,Te.value)):ee=ee.slice(Ce.value,Te.value)),ee}),{hasSelectionMode:k,singleSelection:W,multipleSelection:re,allRowsSelected:$,someRowsSelected:z,rowsSelectedNumber:N,isRowSelected:x,clearSelection:M,updateSelection:X}=xb(e,o,S,s),{colList:ae,computedCols:L,computedColsMap:j,computedColspan:te}=Mb(e,f,k),{columnToSort:Fe,computedSortMethod:he,sort:ve}=wb(e,f,ae,B),{firstRowIndex:Ce,lastRowIndex:Te,isFirstPage:fe,isLastPage:Ke,pagesNumber:Lt,computedRowsPerPageOptions:Gt,computedRowsNumber:Dt,firstPage:J,prevPage:ue,nextPage:Ee,lastPage:_e}=Ub(a,p,f,v,B,O),rt=F(()=>S.value.length===0),Ye=F(()=>{const ee={};return yp.forEach(De=>{ee[De]=e[De]}),ee.virtualScrollItemSize===void 0&&(ee.virtualScrollItemSize=e.dense===!0?28:48),ee});function at(){u.value===!0&&c.value.reset()}function At(){if(e.grid===!0)return ur();const ee=e.hideHeader!==!0?ft:null;if(u.value===!0){const je=t["top-row"],Ge=t["bottom-row"],nt={default:to=>Qt(to.item,t.body,to.index)};if(je!==void 0){const to=P("tbody",je({cols:L.value}));nt.before=ee===null?()=>to:()=>[ee()].concat(to)}else ee!==null&&(nt.before=ee);return Ge!==void 0&&(nt.after=()=>P("tbody",Ge({cols:L.value}))),P(Bb,{ref:c,class:e.tableClass,style:e.tableStyle,...Ye.value,scrollTarget:e.virtualScrollTarget,items:S.value,type:"__qtable",tableColspan:te.value,onVirtualScroll:Ie},nt)}const De=[_t()];return ee!==null&&De.unshift(ee()),Sp({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},De)}function Ae(ee,De){if(c.value!==null){c.value.scrollTo(ee,De);return}ee=parseInt(ee,10);const je=l.value.querySelector(`tbody tr:nth-of-type(${ee+1})`);if(je!==null){const Ge=l.value.querySelector(".q-table__middle.scroll"),nt=je.offsetTop-e.virtualScrollStickySizeStart,to=nt<Ge.scrollTop?"decrease":"increase";Ge.scrollTop=nt,o("virtualScroll",{index:ee,from:0,to:p.value.rowsPerPage-1,direction:to})}}function Ie(ee){o("virtualScroll",ee)}function Xe(){return[P(Ab,{class:"q-table__linear-progress",color:e.color,dark:r.value,indeterminate:!0,trackColor:"transparent"})]}function Qt(ee,De,je){const Ge=s.value(ee),nt=x(Ge);if(De!==void 0){const Z={key:Ge,row:ee,pageIndex:je,__trClass:nt?"selected":""};if(e.tableRowStyleFn!==void 0&&(Z.__trStyle=e.tableRowStyleFn(ee)),e.tableRowClassFn!==void 0){const Be=e.tableRowClassFn(ee);Be&&(Z.__trClass=`${Be} ${Z.__trClass}`)}return De(Bt(Z))}const to=t["body-cell"],jt=L.value.map(Z=>{const Be=t[`body-cell-${Z.name}`],ye=Be!==void 0?Be:to;return ye!==void 0?ye(Ct({key:Ge,row:ee,pageIndex:je,col:Z})):P("td",{class:Z.__tdClass(ee),style:Z.__tdStyle(ee)},Qo(Z,ee))});if(k.value===!0){const Z=t["body-selection"],Be=Z!==void 0?Z(go({key:Ge,row:ee,pageIndex:je})):[P(Xi,{modelValue:nt,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(ye,He)=>{X([Ge],[ee],ye,He)}})];jt.unshift(P("td",{class:"q-table--col-auto-width"},Be))}const Y={key:Ge,class:{selected:nt}};if(e.onRowClick!==void 0&&(Y.class["cursor-pointer"]=!0,Y.onClick=Z=>{o("rowClick",Z,ee,je)}),e.onRowDblclick!==void 0&&(Y.class["cursor-pointer"]=!0,Y.onDblclick=Z=>{o("rowDblclick",Z,ee,je)}),e.onRowContextmenu!==void 0&&(Y.class["cursor-pointer"]=!0,Y.onContextmenu=Z=>{o("rowContextmenu",Z,ee,je)}),e.tableRowStyleFn!==void 0&&(Y.style=e.tableRowStyleFn(ee)),e.tableRowClassFn!==void 0){const Z=e.tableRowClassFn(ee);Z&&(Y.class[Z]=!0)}return P("tr",Y,jt)}function _t(){const ee=t.body,De=t["top-row"],je=t["bottom-row"];let Ge=S.value.map((nt,to)=>Qt(nt,ee,to));return De!==void 0&&(Ge=De({cols:L.value}).concat(Ge)),je!==void 0&&(Ge=Ge.concat(je({cols:L.value}))),P("tbody",Ge)}function Bt(ee){return mo(ee),ee.cols=ee.cols.map(De=>fr({...De},"value",()=>Qo(De,ee.row))),ee}function Ct(ee){return mo(ee),fr(ee,"value",()=>Qo(ee.col,ee.row)),ee}function go(ee){return mo(ee),ee}function mo(ee){Object.assign(ee,{cols:L.value,colsMap:j.value,sort:ve,rowIndex:Ce.value+ee.pageIndex,color:e.color,dark:r.value,dense:e.dense}),k.value===!0&&fr(ee,"selected",()=>x(ee.key),(De,je)=>{X([ee.key],[ee.row],De,je)}),fr(ee,"expand",()=>Q(ee.key),De=>{I(ee.key,De)})}function Qo(ee,De){const je=typeof ee.field=="function"?ee.field(De):De[ee.field];return ee.format!==void 0?ee.format(je,De):je}const Ko=F(()=>({pagination:f.value,pagesNumber:Lt.value,isFirstPage:fe.value,isLastPage:Ke.value,firstPage:J,prevPage:ue,nextPage:Ee,lastPage:_e,inFullscreen:A.value,toggleFullscreen:n}));function pe(){const ee=t.top,De=t["top-left"],je=t["top-right"],Ge=t["top-selection"],nt=k.value===!0&&Ge!==void 0&&N.value>0,to="q-table__top relative-position row items-center";if(ee!==void 0)return P("div",{class:to},[ee(Ko.value)]);let jt;if(nt===!0?jt=Ge(Ko.value).slice():(jt=[],De!==void 0?jt.push(P("div",{class:"q-table__control"},[De(Ko.value)])):e.title&&jt.push(P("div",{class:"q-table__control"},[P("div",{class:["q-table__title",e.titleClass]},e.title)]))),je!==void 0&&(jt.push(P("div",{class:"q-table__separator col"})),jt.push(P("div",{class:"q-table__control"},[je(Ko.value)]))),jt.length!==0)return P("div",{class:to},jt)}const qe=F(()=>z.value===!0?null:$.value);function ft(){const ee=Ot();return e.loading===!0&&t.loading===void 0&&ee.push(P("tr",{class:"q-table__progress"},[P("th",{class:"relative-position",colspan:te.value},Xe())])),P("thead",ee)}function Ot(){const ee=t.header,De=t["header-cell"];if(ee!==void 0)return ee(eo({header:!0})).slice();const je=L.value.map(Ge=>{const nt=t[`header-cell-${Ge.name}`],to=nt!==void 0?nt:De,jt=eo({col:Ge});return to!==void 0?to(jt):P(Ls,{key:Ge.name,props:jt},()=>Ge.label)});if(W.value===!0&&e.grid!==!0)je.unshift(P("th",{class:"q-table--col-auto-width"}," "));else if(re.value===!0){const Ge=t["header-selection"],nt=Ge!==void 0?Ge(eo({})):[P(Xi,{color:e.color,modelValue:qe.value,dark:r.value,dense:e.dense,"onUpdate:modelValue":zo})];je.unshift(P("th",{class:"q-table--col-auto-width"},nt))}return[P("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},je)]}function eo(ee){return Object.assign(ee,{cols:L.value,sort:ve,colsMap:j.value,color:e.color,dark:r.value,dense:e.dense}),re.value===!0&&fr(ee,"selected",()=>qe.value,zo),ee}function zo(ee){z.value===!0&&(ee=!1),X(S.value.map(s.value),S.value,ee)}const va=F(()=>{const ee=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?ee.reverse():ee});function si(){if(e.hideBottom===!0)return;if(rt.value===!0){if(e.hideNoData===!0)return;const je=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,Ge=t["no-data"],nt=Ge!==void 0?[Ge({message:je,icon:i.iconSet.table.warning,filter:e.filter})]:[P(Nt,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),je];return P("div",{class:vn+" q-table__bottom--nodata"},nt)}const ee=t.bottom;if(ee!==void 0)return P("div",{class:vn},[ee(Ko.value)]);const De=e.hideSelectedBanner!==!0&&k.value===!0&&N.value>0?[P("div",{class:"q-table__control"},[P("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(N.value)])])]:[];if(e.hidePagination!==!0)return P("div",{class:vn+" justify-end"},BA(De));if(De.length!==0)return P("div",{class:vn},De)}function hA(ee){B({page:1,rowsPerPage:ee.value})}function BA(ee){let De;const{rowsPerPage:je}=f.value,Ge=e.paginationLabel||i.lang.table.pagination,nt=t.pagination,to=e.rowsPerPageOptions.length>1;if(ee.push(P("div",{class:"q-table__separator col"})),to===!0&&ee.push(P("div",{class:"q-table__control"},[P("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),P(Up,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:je,options:Gt.value,displayValue:je===0?i.lang.table.allRows:je,dark:r.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":hA})])),nt!==void 0)De=nt(Ko.value);else if(De=[P("span",je!==0?{class:"q-table__bottom-item"}:{},[je?Ge(Ce.value+1,Math.min(Te.value,Dt.value),Dt.value):Ge(1,O.value,Dt.value)])],je!==0&&Lt.value>1){const jt={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(jt.size="sm"),Lt.value>2&&De.push(P(St,{key:"pgFirst",...jt,icon:va.value[0],disable:fe.value,"aria-label":i.lang.pagination.first,onClick:J})),De.push(P(St,{key:"pgPrev",...jt,icon:va.value[1],disable:fe.value,"aria-label":i.lang.pagination.prev,onClick:ue}),P(St,{key:"pgNext",...jt,icon:va.value[2],disable:Ke.value,"aria-label":i.lang.pagination.next,onClick:Ee})),Lt.value>2&&De.push(P(St,{key:"pgLast",...jt,icon:va.value[3],disable:Ke.value,"aria-label":i.lang.pagination.last,onClick:_e}))}return ee.push(P("div",{class:"q-table__control"},De)),ee}function Ti(){const ee=e.gridHeader===!0?[P("table",{class:"q-table"},[ft()])]:e.loading===!0&&t.loading===void 0?Xe():void 0;return P("div",{class:"q-table__middle"},ee)}function ur(){const ee=t.item!==void 0?t.item:De=>{const je=De.cols.map(nt=>P("div",{class:"q-table__grid-item-row"},[P("div",{class:"q-table__grid-item-title"},[nt.label]),P("div",{class:"q-table__grid-item-value"},[nt.value])]));if(k.value===!0){const nt=t["body-selection"],to=nt!==void 0?nt(De):[P(Xi,{modelValue:De.selected,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(jt,Y)=>{X([De.key],[De.row],jt,Y)}})];je.unshift(P("div",{class:"q-table__grid-item-row"},to),P(ja,{dark:r.value}))}const Ge={class:["q-table__grid-item-card"+d.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(Ge.style=[Ge.style,e.cardStyleFn(De.row)]),e.cardClassFn!==void 0){const nt=e.cardClassFn(De.row);nt&&(Ge.class[0]+=` ${nt}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(Ge.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(Ge.onClick=nt=>{o("RowClick",nt,De.row,De.pageIndex)}),e.onRowDblclick!==void 0&&(Ge.onDblclick=nt=>{o("RowDblclick",nt,De.row,De.pageIndex)}),e.onRowContextmenu!==void 0&&(Ge.onContextmenu=nt=>{o("rowContextmenu",nt,De.row,De.pageIndex)})),P("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(De.selected===!0?" q-table__grid-item--selected":"")},[P("div",Ge,je)])};return P("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},S.value.map((De,je)=>ee(Bt({key:s.value(De),row:De,pageIndex:je}))))}return Object.assign(a.proxy,{requestServerInteraction:h,setPagination:B,firstPage:J,prevPage:ue,nextPage:Ee,lastPage:_e,isRowSelected:x,clearSelection:M,isRowExpanded:Q,setExpanded:y,sort:ve,resetVirtualScroll:at,scrollTo:Ae,getCellValue:Qo}),Ih(a.proxy,{filteredSortedRows:()=>D.value,computedRows:()=>S.value,computedRowsNumber:()=>Dt.value}),()=>{const ee=[pe()],De={ref:l,class:g.value};return e.grid===!0?ee.push(Ti()):Object.assign(De,{class:[De.class,e.cardClass],style:e.cardStyle}),ee.push(At(),si()),e.loading===!0&&t.loading!==void 0&&ee.push(t.loading()),P("div",De,ee)}}}),Bu=ut({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const o=Ft(),a=F(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return P("td",{class:a.value},uo(t.default));const i=o.vnode.key,r=(e.props.colsMap!==void 0?e.props.colsMap[i]:null)||e.props.col;if(r===void 0)return;const{row:A}=e.props;return P("td",{class:a.value+r.__tdClass(A),style:r.__tdStyle(A)},uo(t.default))}}}),Cu=ut({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const o=F(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>P("tr",{style:e.props?.__trStyle,class:o.value},uo(t.default))}}),Ra=ut({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const o=F(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>P("div",{class:o.value,role:"toolbar"},uo(t.default))}}),Qi=ut({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const o=F(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>P("div",{class:o.value},uo(t.default))}}),Lb=()=>!0;function Hb(e){const t={};return e.forEach(o=>{t[o]=Lb}),t}function Ed(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const ri=qc({name:"close-popup",beforeMount(e,{value:t}){const o={depth:Ed(t),handler(a){o.depth!==0&&setTimeout(()=>{const i=Uh(e);i!==void 0&&Sh(i,a,o.depth)})},handlerKey(a){en(a,13)===!0&&o.handler(a)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=Ed(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function Ar(){const{emit:e,proxy:t}=Ft(),o=R(null);function a(){o.value.show()}function i(){o.value.hide()}function r(n){e("ok",n),i()}function A(){e("hide")}return Object.assign(t,{show:a,hide:i}),{dialogRef:o,onDialogHide:A,onDialogOK:r,onDialogCancel:i}}const xp=["ok","hide"];Ar.emits=xp;Ar.emitsObject=Hb(xp);function yd(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function Pp(e,t,o={}){const{mimeType:a,byteOrderMark:i,encoding:r}=typeof o=="string"?{mimeType:o}:o,A=r!==void 0?new TextEncoder(r).encode([t]):t,n=i!==void 0?[i,A]:[A],s=new Blob(n,{type:a||"application/octet-stream"}),l=document.createElement("a");l.href=window.URL.createObjectURL(s),l.setAttribute("download",e),typeof l.download>"u"&&l.setAttribute("target","_blank"),l.classList.add("hidden"),l.style.position="fixed",document.body.appendChild(l);try{return l.click(),yd(l),!0}catch(c){return yd(l),c}}const Tb={class:"text-green-10"},$b=we({__name:"FcImportadorSucesso",props:{nome:{},rotulo:{},tamanho:{},arquivosAceitos:{},mensagemErroTipoDocumento:{},config:{},desabilitado:{type:Boolean},mostrarDetalhes:{type:Boolean}},emits:["sucesso","mostrarDetalhes","reiniciar"],setup(e,{emit:t}){const o=t;return(a,i)=>{const r=Nt,A=Oa,n=St;return w(),H("div",{class:"row items-center q-pa-xs",style:Ze({width:e.tamanho})},[q("div",{class:be(["row items-center q-px-sm bg-green-1",a.css.container]),style:{width:"100%"}},[E(r,{name:"mdiCheckCircle"in a?a.mdiCheckCircle:C(df),size:"sm",color:"green-10",class:"q-mr-sm"},null,8,["name"]),q("div",Tb,le(e.rotulo),1),E(A),e.mostrarDetalhes?(w(),K(n,{key:0,icon:"mdiTextBoxSearchOutline"in a?a.mdiTextBoxSearchOutline:C(Dh),flat:"",round:"",dense:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-8",title:"Ver detalhes do documento",onClick:i[0]||(i[0]=s=>o("mostrarDetalhes"))},null,8,["icon"])):ge("",!0),E(n,{icon:"mdiDelete"in a?a.mdiDelete:C(Us),flat:"",round:"",dense:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-8",title:"Excluir",onClick:i[1]||(i[1]=s=>o("reiniciar"))},null,8,["icon"])],2)],4)}}}),Vb="_container_1f8h9_1",Nb={container:Vb},qb={css:Nb},kb=Object.assign(fa($b,[["__cssModules",qb]]),{__name:"FcImportadorSucesso"});let us;globalThis.process?.release?.name;async function Kb(){return us||await zb(),us}async function zb(e,{reload:t=!1}={}){if(!(us&&!t))try{us=await xh(()=>import("./CiJuoiWC.js"),[],import.meta.url)}catch(o){throw new Error(`Serverless PDF.js bundle could not be resolved: ${o}`)}}const Id=globalThis.process?.release?.name==="node";let ds,ms;async function Gb(){if(!ds||!ms){const e=await Kb();ds=e.getDocument,ms=e.Util}}function jb(e){const t=[[]];for(const o of e)t[t.length-1].push(o),o.hasEOL&&t.push([]);return t}function Wb(e,t){const o=[],a=new Set;for(const i of e){const A=i.filter(n=>n.str.length>0).map(n=>Math.trunc(ms.transform(t.transform,n.transform)[5]));o.length>0&&A.some(n=>a.has(n))?o[o.length-1].push(...i):(o.push(i),a.clear()),A.forEach(n=>a.add(n))}return o}function Jb(e,t){const o=e.items;return Wb(jb(o),t)}function Xb(e,t){return e.map(o=>{const a=ms.transform(t.transform,o.transform),i=a[4],r=a[5];return{...o,x:i,y:r}}).sort((o,a)=>o.x-a.x)}function Yb(e,t){return Xb(e,t).map((o,a,i)=>{if(a===0)return o.str;const r=i[a-1],n=o.x-(r.x+r.width)>o.height/2||r.y!==o.y,s=o.hasEOL;return`${n?" ":""}${o.str}${s?" ":""}`}).join("").replace(/\s{2,}/g," ").trim()}async function Zb(e){const t=e.getViewport({scale:1}),o=await e.getTextContent({disableNormalization:!1,includeMarkedContent:!1});return Jb(o,t).map(a=>Yb(a,t)).join(`
`)}async function ew(e){const t=e.getViewport({scale:1}),o=document.createElement("canvas"),a=o.getContext("2d");if(!a)throw new Error("Canvas indisponível!");return o.height=t.height,o.width=t.width,await e.render({canvasContext:a,viewport:t,canvas:null}).promise,o.toDataURL()}async function tw(e){await Gb();let t;try{t=Id?await ds({data:e,useSystemFonts:!0,disableFontFace:!1}).promise:await ds(e).promise;const o=t.numPages,a=[];let i="";for(let r=1;r<=o;r++){const A=await t.getPage(r);!Id&&r===1&&(i=await ew(A)),a.push(await Zb(A))}return{texto:a.join(`
`),thumbnailDataUrl:i}}catch(o){return o.message.includes("Promise.withResolvers is not a function")?Promise.reject(new Error("A sua versão do navegador é incompatível com a leitura de PDFs. Tente copiar e colar o texto do PDF diretamente no importador.")):Promise.reject(o instanceof Error?o:new Error(String(o)))}finally{t&&t.destroy()}}class _p{lerArquivo(t,o=!1){return new Promise((a,i)=>{const r=new FileReader;r.addEventListener("load",A=>a(A.target?.result||"")),r.addEventListener("error",i),o?r.readAsText(t):r.readAsDataURL(t)})}async lerPdf(t){return await tw(t)}async ler(t){try{const o=t.type;if(o!=="text/plain"&&o!=="application/pdf"&&o!=="application/json")throw new Error("Formato de arquivo inválido");const a=o==="text/plain"||o==="application/json",i=await this.lerArquivo(t,a);return a?{mime:o,texto:i.replace(/\r\n/g,`
`)}:{...await this.lerPdf(i),mime:o,dataUrl:i}}catch(o){return Promise.reject(o instanceof Error?o:new Error(String(o)))}}}var jA=(e=>(e[e.ExcluirUltimo=0]="ExcluirUltimo",e[e.ExcluirPrimeiro=1]="ExcluirPrimeiro",e[e.ExcluirPrimeiroEUltimo=2]="ExcluirPrimeiroEUltimo",e[e.ManterCalculoDoSistema=3]="ManterCalculoDoSistema",e))(jA||{});(e=>{e.API={EXCLUIR_ULTIMO:0,EXCLUIR_PRIMEIRO:1,EXCLUIR_PRIMEIRO_E_ULTIMO:2,MANTER_CALCULO_DO_SISTEMA:3};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"MANTER_CALCULO_DO_SISTEMA"}e.obterValorApi=t;const o={0:"Excluir o último",1:"Excluir o primeiro",2:"Excluir primeiro e último",3:"Manter cálculo do sistema"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(jA||(jA={}));var WA=(e=>(e[e.UmDozeAvos=0]="UmDozeAvos",e[e.MediaSimplesDozeUltimos=1]="MediaSimplesDozeUltimos",e))(WA||{});(e=>{e.API={UM_DOZE_AVOS:0,MEDIA_SIMPLES_DOZE_ULTIMOS:1};const t={0:"Art. 73, III, da Lei 8.213/91 (1/12 da soma)",1:"Art. 100-B do Decreto 3.048/99 (média simples 12 últimos)"};function o(){return Fo(e,t)}e.obterOpcoes=o;function a(i){return t[i]}e.obterRotulo=a})(WA||(WA={}));var ce=(e=>(e[e.PensaoPrevidenciaria=21]="PensaoPrevidenciaria",e[e.AuxilioReclusao=25]="AuxilioReclusao",e[e.AuxilioPorIncapacidadeTemporaria=31]="AuxilioPorIncapacidadeTemporaria",e[e.AposentadoriaPorIncapacidadePermanente=32]="AposentadoriaPorIncapacidadePermanente",e[e.AuxilioAcidentePrevidenciario=36]="AuxilioAcidentePrevidenciario",e[e.AposentadoriaPorIdade=41]="AposentadoriaPorIdade",e[e.AposentadoriaPorTempoDeContribuicao=42]="AposentadoriaPorTempoDeContribuicao",e[e.AposentadoriaEspecial=46]="AposentadoriaEspecial",e[e.AposentadoriaPorTempoDeServicoProfessor=57]="AposentadoriaPorTempoDeServicoProfessor",e[e.SalarioMaternidade=80]="SalarioMaternidade",e[e.AmparoSocialPcd=87]="AmparoSocialPcd",e[e.AmparoSocialIdoso=88]="AmparoSocialIdoso",e[e.AuxilioPorIncapacidadeTemporariaAcidentario=91]="AuxilioPorIncapacidadeTemporariaAcidentario",e[e.AposentadoriaPorIncapacidadePermanenteAcidentaria=92]="AposentadoriaPorIncapacidadePermanenteAcidentaria",e[e.PensaoAcidentaria=93]="PensaoAcidentaria",e[e.AuxilioAcidenteAcidentario=94]="AuxilioAcidenteAcidentario",e[e.AuxilioSuplementar=95]="AuxilioSuplementar",e))(ce||{});(e=>{const t={21:"Pensão por morte previdenciária",25:"Auxílio-reclusão",31:"Auxílio por incapacidade temporária",32:"Aposentadoria por incapacidade permanente",36:"Auxílio-acidente previdenciário",94:"Auxílio-acidente acidentário",95:"Auxílio suplementar",41:"Aposentadoria por idade",42:"Aposentadoria por tempo de contribuição",46:"Aposentadoria especial",57:"Aposentadoria por tempo de serviço de professor",80:"Salário-maternidade",87:"Amparo social à pessoa com deficiência",88:"Amparo social ao idoso",91:"Auxílio por incapacidade temporária acidentário",92:"Aposentadoria por incapacidade permanente acidentária",93:"Pensão por morte acidentária"};e.AposentadoriasProgramadas=[46,41,42,57],e.BeneficiosComum=[46,41,42,57,31,32,92,36,94,25,93,21,80],e.BeneficiosPcd=[41,42,31,32,92,36,25,21,93,80],e.BeneficiosRuricola=[41,31,91,32,92,36,80,25,21,93],e.BenefíciosNaoProgramados=[32,92,36,31,91,25,21,93,80],e.ComputaveisComoSalario=[31,91,32,92,36,94,95,80],e.BeneficiariosDependentes=[21,93,25],e.NaoAdmitemDerivado=[36,80,87,88],e.ComDivisorMinimo=[41,42,46,57],e.ComFator=[41,42,57],e.ElegiveisRvt=[21,25,31,32,36,41,42,46,57,91,92,93],e.AcumulacaoEC103=[21,93,32,41,42,46,57,92],e.BpcLoas=[88,87],e.AuxilioAcidente=[36,94,95];function o(){return Fo(e,t,!0)}e.obterOpcoes=o;function a(){return Fo(e,t,!0,e.BeneficiosComum)}e.obterOpcoesComum=a;function i(){return Fo(e,t,!0,e.AposentadoriasProgramadas)}e.obterOpcoesAposentadoriaProgramada=i;function r(){return Fo(e,t,!0,e.BeneficiosPcd)}e.obterOpcoesPcd=r;function A(){return Fo(e,t,!0,e.BeneficiosRuricola)}e.obterOpcoesRuricola=A;function n(s){return t[s]}e.obterRotulo=n})(ce||(ce={}));var V=(e=>(e[e.Masculino=0]="Masculino",e[e.Feminino=1]="Feminino",e))(V||{});(e=>{e.API={M:0,F:1};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"M"}e.obterValorApi=t;const o={0:"Masculino",1:"Feminino"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(V||(V={}));var Qe=(e=>(e[e.NaoComputar=0]="NaoComputar",e[e.Comum=1]="Comum",e[e.Especial25=2]="Especial25",e[e.Especial20=3]="Especial20",e[e.Especial15=4]="Especial15",e[e.Rural=5]="Rural",e[e.Magisterio=6]="Magisterio",e))(Qe||{});(e=>{e.API={NAO_COMPUTAR:0,COMUM:1,ESPECIAL_25:2,ESPECIAL_20:3,ESPECIAL_15:4,RURAL:5,MAGISTERIO:6};function t(u){for(const[d,m]of Object.entries(e.API))if(m===u)return d;return"COMUM"}e.obterValorApi=t;const o={0:"Não Computar",1:"Comum",2:"Especial 25",3:"Especial 20",4:"Especial 15",5:"Rural",6:"Magistério"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(u){return o[u]}e.obterRotulo=i;function r(u){for(const[d,m]of Object.entries(o))if(m===u)return Number(d)}e.obterValorDoRotulo=r;function A(u,d){return{0:{[V.Masculino]:Number.POSITIVE_INFINITY,[V.Feminino]:Number.POSITIVE_INFINITY},1:{[V.Masculino]:35,[V.Feminino]:30},2:{[V.Masculino]:25,[V.Feminino]:25},3:{[V.Masculino]:20,[V.Feminino]:20},4:{[V.Masculino]:15,[V.Feminino]:15},5:{[V.Masculino]:35,[V.Feminino]:30},6:{[V.Masculino]:35,[V.Feminino]:30}}[u][d]}e.obterPesoInvertido=A;function n(u,d){return Math.floor(1/A(u,d)*1e3)}e.obterPeso=n;function s(){return n(4,V.Feminino)}e.obterPesoMaximo=s;function l(u,d,m){const g=A(u,m),p=A(d,m);return DA(p/g,2)}e.obterFatorConversao=l;function c(u){const d=l(4,u,V.Masculino),m=l(3,u,V.Masculino),g=l(2,u,V.Masculino);return{fator15:d,fator20:m,fator25:g}}e.obterFatoresConversaoEspecial=c,e.grupos={todos:[1,4,3,2,5,6],somenteEspecial:[4,3,2],somenteComum:[1,5,6],somenteMagisterio:[6],somenteRural:[5]}})(Qe||(Qe={}));var ke=(e=>(e[e.SemDeficiencia=0]="SemDeficiencia",e[e.Leve=1]="Leve",e[e.Moderado=2]="Moderado",e[e.Grave=3]="Grave",e))(ke||{});(e=>{e.API={SEM_DEFICIENCIA:0,LEVE:1,MODERADO:2,GRAVE:3};function t(c){for(const[u,d]of Object.entries(e.API))if(d===c)return u;return"SEM_DEFICIENCIA"}e.obterValorApi=t;const o={0:"Sem Deficiência",1:"Deficiência Leve",2:"Deficiência Moderada",3:"Deficiência Grave"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(c){return o[c]}e.obterRotulo=i;function r(c){for(const[u,d]of Object.entries(o))if(d===c)return Number(u)}e.obterValorDoRotulo=r;function A(c,u){return{0:{[V.Masculino]:35,[V.Feminino]:30},1:{[V.Masculino]:33,[V.Feminino]:28},2:{[V.Masculino]:29,[V.Feminino]:24},3:{[V.Masculino]:25,[V.Feminino]:20}}[c][u]}function n(c,u){return Math.floor(1/A(c,u)*1e3)}e.obterPeso=n;function s(c,u=0,d=V.Masculino){const m=A(c,d),g=A(u,d);return DA(g/m,2)}e.obterFatorConversao=s;function l(c=0,u=V.Masculino){const d=s(3,c,u),m=s(2,c,u),g=s(1,c,u),p=s(0,c,u),f=A(c,u),v=DA(f/Qe.obterPesoInvertido(Qe.Especial15,u),2),h=DA(f/Qe.obterPesoInvertido(Qe.Especial20,u),2),B=DA(f/Qe.obterPesoInvertido(Qe.Especial25,u),2);return{fatorPcd15:v,fatorPcd20:h,fatorPcd25:B,fatorPcdGrave:d,fatorPcdModerada:m,fatorPcdLeve:g,fatorPcdComum:p}}e.obterFatoresConversao=l})(ke||(ke={}));var Ki=(e=>(e[e.ImplementoIdade=0]="ImplementoIdade",e[e.DerDda=1]="DerDda",e))(Ki||{});(e=>{e.API={IMPLEMENTO_IDADE:0,DER:1};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"IMPLEMENTO_IDADE"}e.obterValorApi=t;const o={0:"Idade",1:"DER/DDA"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(Ki||(Ki={}));class T{static dataMinimaAtualizacao=new oe("01/10/1964").nativo();static cf88=new oe("05/10/1988").nativo();static inicioEfeitosArt58Adct=new oe("01/04/1989").nativo();static lei8112=new oe("11/07/1991").nativo();static lei8213=new oe("24/07/1991").nativo();static terminoBuracoNegro=new oe("05/04/1991").nativo();static terminoEfeitosArt58Adct=new oe("01/12/1991").nativo();static terminoBuracoVerde=new oe("01/06/1992").nativo();static terminoRetroacaoIrt=new oe("31/12/1993").nativo();static primeiroIrtRetroativo=new oe("01/04/1994").nativo();static inicioIrtLei8880=new oe("01/03/1994").nativo();static jul94=new oe("01/07/1994").nativo();static mp1522=new oe("15/10/1996").nativo();static mp1537_9=new oe("03/07/1997").nativo();static dpe20=new oe("16/12/1998").nativo();static lei9032=new oe("28/04/1995").nativo();static lei9876=new oe("28/11/1999").nativo();static inicioTabuasMortalidade=new oe("01/12/1999").nativo();static inicioVigenciaCC2002=new oe("01/01/2003").nativo();static dpe41=new oe("31/12/2003").nativo();static dpe47=new oe("06/07/2005").nativo();static jan2006=new oe("01/01/2006").nativo();static lei11960Competencia=new oe("01/06/2009").nativo();static inicioVigenciaFunpresp=new oe("14/10/2013").nativo();static lc142=new oe("09/11/2013").nativo();static mar2015=new oe("01/03/2015").nativo();static regraPontos=new oe("17/06/2015").nativo();static lc152=new oe("04/12/2015").nativo();static elevacaoPontos=new oe("31/12/2018").nativo();static lei13846=new oe("18/06/2019").nativo();static out2019=new oe("01/10/2019").nativo();static dpe103=new oe("13/11/2019").nativo();static nov30_2019=new oe("30/11/2019").nativo();static dec10410=new oe("01/07/2020").nativo();static dpe113Selic=new oe("09/12/2021").nativo();static divisorMinimo=new oe("04/05/2022").nativo();static transicoesEc103={2019:new oe("31/12/2019").nativo(),2020:new oe("31/12/2020").nativo(),2021:new oe("31/12/2021").nativo(),2022:new oe("31/12/2022").nativo(),2023:new oe("31/12/2023").nativo(),2024:new oe("31/12/2024").nativo(),2025:new oe("31/12/2025").nativo(),2026:new oe("31/12/2026").nativo(),2027:new oe("31/12/2027").nativo(),2028:new oe("31/12/2028").nativo(),2029:new oe("31/12/2029").nativo(),2030:new oe("31/12/2030").nativo(),2031:new oe("31/12/2031").nativo(),2032:new oe("31/12/2032").nativo()};static paraContagemTempo=[T.dpe20,T.lei9876,T.elevacaoPontos,T.dpe103,T.divisorMinimo,T.transicoesEc103[2019],T.transicoesEc103[2020],T.transicoesEc103[2021],T.transicoesEc103[2022],T.transicoesEc103[2023],T.transicoesEc103[2024],T.transicoesEc103[2025],T.transicoesEc103[2026],T.transicoesEc103[2027],T.transicoesEc103[2028],T.transicoesEc103[2029],T.transicoesEc103[2030],T.transicoesEc103[2031],T.transicoesEc103[2032]];static paraContagemTempoRpps=[T.dpe20,T.dpe41,T.lc152,T.dpe103,T.transicoesEc103[2019],T.transicoesEc103[2020],T.transicoesEc103[2021],T.transicoesEc103[2022],T.transicoesEc103[2023],T.transicoesEc103[2024],T.transicoesEc103[2025],T.transicoesEc103[2026],T.transicoesEc103[2027],T.transicoesEc103[2028],T.transicoesEc103[2029],T.transicoesEc103[2030],T.transicoesEc103[2031],T.transicoesEc103[2032]]}var xa=(e=>(e[e.NaoDefinido=0]="NaoDefinido",e[e.ContadoPeloINSS=1]="ContadoPeloINSS",e[e.ConformePedidoInicial=2]="ConformePedidoInicial",e[e.ConformeDeterminacaoJudicial=3]="ConformeDeterminacaoJudicial",e[e.ComputadoNaSentenca=4]="ComputadoNaSentenca",e[e.ContagemReciproca=5]="ContagemReciproca",e))(xa||{});(e=>{e.API={NAO_DEFINIDO:0,CONTADO_PELO_INSS:1,CONFORME_PEDIDO_INICIAL:2,CONFORME_DETERMINACAO_JUDICIAL:3,COMPUTADO_NA_SENTENCA:4,CONTAGEM_RECIPROCA:5};const t={0:"-",1:"Contagem INSS",2:"Pedido Inicial",3:"Determ. Judicial",4:"Sentença/Acórdão",5:"Contagem Recíproca"},o={0:"-",1:"INSS",2:"INI",3:"JUD",4:"SENT",5:"CTC"};function a(s){for(const[l,c]of Object.entries(e.API))if(c===s)return l;return"NAO_DEFINIDO"}e.obterValorApi=a;function i(){return Fo(e,t)}e.obterOpcoes=i;function r(s){return t[s]}e.obterRotulo=r;function A(s){return o[s]}e.obterRotuloAbreviado=A;function n(s){for(const[l,c]of Object.entries(t))if(c===s)return Number(l)}e.obterValorDoRotulo=n})(xa||(xa={}));var zt=(e=>(e[e.NaoInformado=0]="NaoInformado",e[e.BeneficioIncapacidade=1]="BeneficioIncapacidade",e[e.Empregado=2]="Empregado",e[e.EmpregadoDomestico=3]="EmpregadoDomestico",e[e.ContribuinteIndividual=4]="ContribuinteIndividual",e[e.TrabalhadorAvulso=5]="TrabalhadorAvulso",e[e.SeguradoEspecial=6]="SeguradoEspecial",e[e.SeguradoFacultativo=7]="SeguradoFacultativo",e[e.Lc123ContribuinteIndividual=8]="Lc123ContribuinteIndividual",e[e.Lc123Facultativo=9]="Lc123Facultativo",e))(zt||{});(e=>{e.API={NAO_INFORMADO:0,BENEFICIO_INCAPACIDADE:1,EMPREGADO:2,EMPREGADO_DOMESTICO:3,CONTRIBUINTE_INDIVIDUAL:4,TRABALHADOR_AVULSO:5,SEGURADO_ESPECIAL:6,SEGURADO_FACULTATIVO:7,LC_123_CONTRIBUINTE_INDIVIDUAL:8,LC_123_FACULTATIVO:9};function t(s){for(const[l,c]of Object.entries(e.API))if(c===s)return l;return"NAO_INFORMADO"}e.obterValorApi=t;const o={0:"-",1:"Benefício por Incapacidade",2:"Empregado(a)",3:"Empregado(a) Doméstico(a)",4:"Contribuinte Individual",5:"Trabalhador Avulso",6:"Segurado(a) Especial",7:"Segurado(a) Facultativo",8:"LC 123/06 - Contrib. Individual",9:"LC 123/06 - Facultativo"};e.Lc123=[8,9],e.RecolhimentoRelevante=[4,7,8,9];function a(s){return e.RecolhimentoRelevante.includes(s)}e.recolhimentoRelevante=a;function i(){return Fo(e,o)}e.obterOpcoes=i;function r(s){return o[s]}e.obterRotulo=r;function A(s){for(const[l,c]of Object.entries(o))if(c===s)return Number(l)}e.obterValorDoRotulo=A;function n(s,l){return s=s.toUpperCase(),s.includes("AUXILIO DOENCA")||s.includes("INVALIDEZ")?1:s.includes("FACULTATIV")?l?.includes("LC123")?9:7:s.includes("AVULSO")?5:s.includes("CONTRIBUINTE INDIVIDUAL")||s.includes("AUTÔNOM")||s.includes("RECOLHIMENTO")||s.includes("EMPRESARI")||s.includes("AGRUPAMENTO DE")?l?.includes("LC123")?8:4:s.includes("DOMESTIC")?3:s.includes("EMPREG")||s.includes("RURAL")?2:s.includes("SEGURADO ESPECIAL")?6:0}e.mapearDoCnis=n})(zt||(zt={}));var Ao=(e=>(e[e.CalculoInss=0]="CalculoInss",e[e.Cnis=1]="Cnis",e[e.Usuario=2]="Usuario",e[e.Nenhuma=3]="Nenhuma",e[e.PrevJud=4]="PrevJud",e[e.Multipla=5]="Multipla",e))(Ao||{});(e=>{const t={0:"Cálculo INSS",1:"CNIS",4:"PrevJud",2:"Usuário",3:"-",5:"Múltipla"};function o(){return Fo(e,t)}e.obterOpcoes=o;function a(i){return t[i]}e.obterRotulo=a})(Ao||(Ao={}));const QA=Qe.obterPesoMaximo();class pi{static maximo=QA;static prioridadeUsuario=QA+1e3;static exclusaoAutomatica=QA+2e3;static beneficioIntercalado=QA+3e3;static descarteAutomatico=QA+4e3;static obterPesoMagisterio(t){return pi.obterComum(Qe.Magisterio,t)+.1}static obterComum(t,o){return Qe.obterPeso(t,o)}}var Na=(e=>(e[e.InicioContribuicaoComDeficiencia=0]="InicioContribuicaoComDeficiencia",e[e.InicioDeficiencia=1]="InicioDeficiencia",e))(Na||{});(e=>{e.API={INICIO_CONTRIBUICAO_COM_DEFICIENCIA:0,INICIO_DEFICIENCIA:1};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"INICIO_CONTRIBUICAO_COM_DEFICIENCIA"}e.obterValorApi=t;const o={0:"art. 70-C, § 1º, Dec. 3.048/99",1:"Início da deficiência"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(Na||(Na={}));var Rr=(e=>(e[e.BeneficioIndependente=0]="BeneficioIndependente",e[e.RmiOriginario=1]="RmiOriginario",e[e.SbOriginario=2]="SbOriginario",e))(Rr||{});(e=>{e.API={BENEFICIO_INDEPENDENTE:0,RMI_ORIGINARIO:1,SB_ORIGINARIO:2};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"BENEFICIO_INDEPENDENTE"}e.obterValorApi=t;const o={0:"Benefício Independente",1:"RMI do Originário",2:"SB do Originário"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(Rr||(Rr={}));var wt=(e=>(e[e.NaDib=0]="NaDib",e[e.DireitoAdquiridoAntesEc20=1]="DireitoAdquiridoAntesEc20",e[e.DireitoAdquiridoAntesEc103=2]="DireitoAdquiridoAntesEc103",e[e.NaMudancaDasRegrasProgressivas=3]="NaMudancaDasRegrasProgressivas",e[e.NaLei9876=4]="NaLei9876",e[e.NaRegraDePontosParaFator=5]="NaRegraDePontosParaFator",e[e.NoRestabelecimentoDoDivisorMinimo=6]="NoRestabelecimentoDoDivisorMinimo",e[e.NaMudancaDasRegrasProgressivasSemDivisorMinimo=7]="NaMudancaDasRegrasProgressivasSemDivisorMinimo",e))(wt||{});const Pi={4:"Requisito Cumprido: Mudança no Cálculo do Salário-de-benefício (Lei nº 9.876/99)",1:"Requisito Cumprido: Direito Adquirido na Entrada em Vigor da EC 20/98",2:"Requisito Cumprido: Direito Adquirido na Entrada em Vigor da EC 103/2019",5:"Requisito Cumprido: Mudança na Regra dos Pontos (Lei nº 8.213/91, art. 29-C, § 2º, inciso I)",6:"Restabelecimento do Divisor Mínimo (Lei nº 14.331/2022)",7:"Requisito Cumprido: Regras Progressivas EC 103/2019 - Sem Divisor Mínimo"};var Pe=(e=>(e[e.Simples=0]="Simples",e[e.Comum=1]="Comum",e[e.Magisterio=2]="Magisterio",e[e.Rural=3]="Rural",e[e.Especial=4]="Especial",e[e.Pcd=5]="Pcd",e))(Pe||{});(e=>{const t={0:"Simples",1:"Comum",2:"Magistério",3:"Rural",4:"Especial",5:"PCD"};function o(){return Fo(e,t)}e.obterOpcoes=o;function a(A){return t[A]}e.obterRotulo=a;function i(A){for(const[n,s]of Object.entries(t))if(s===A)return Number(n)}e.obterValorDoRotulo=i;function r(A){return A===4?Qe.grupos.somenteEspecial:A===2?Qe.grupos.somenteMagisterio:A===3?Qe.grupos.somenteRural:Qe.grupos.todos}e.obterFormaContagem=r})(Pe||(Pe={}));var ra=(e=>(e[e.Comum=0]="Comum",e[e.Pcd=1]="Pcd",e[e.Ruricola=2]="Ruricola",e))(ra||{});(e=>{e.API={COMUM:0,PCD:1,RURICOLA:2};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"COMUM"}e.obterValorApi=t;const o={0:"Comum",1:"PCD",2:"Rurícola"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(ra||(ra={}));function ow(e,t){const{dataApuracao:o,der:a,derReafirmada:i}=t,r=To(o,a),A=me(i)?To(o,i):!1;return r?aw(e,a):A?iw(e,i):rw(e,a)}function aw(e,t){const o={cumpridos:[],naoCumpridos:[],possivelReafirmacao:[],fundamentos:{der:[],derReafirmada:[],possivelReafirmacao:[]}};for(const a of e){const i=a.dadosApuracao.temDireito,r=i&&a.dadosApuracao.naImplementacao?a.dadosApuracao.naImplementacao.data:void 0,A=me(r)?bo(r,t):!1,n=a.fundamento;if(!i){o.naoCumpridos.push(a);continue}A&&(o.cumpridos.push(a),o.fundamentos.der.push(n))}return o}function iw(e,t){const o={cumpridos:[],naoCumpridos:[],possivelReafirmacao:[],fundamentos:{der:[],derReafirmada:[],possivelReafirmacao:[]}};for(const a of e){const i=a.dadosApuracao.temDireito,r=i&&a.dadosApuracao.naImplementacao?a.dadosApuracao.naImplementacao.data:void 0,A=me(r)&&me(t)?bo(r,t):!1,n=a.fundamento;if(!i){o.naoCumpridos.push(a);continue}A&&(o.cumpridos.push(a),o.fundamentos.derReafirmada.push(n))}return o}function rw(e,t){const o={cumpridos:[],naoCumpridos:[],possivelReafirmacao:[],fundamentos:{der:[],derReafirmada:[],possivelReafirmacao:[]}};for(const a of e){const i=a.dadosApuracao.temDireito,r=i&&a.dadosApuracao.naImplementacao?a.dadosApuracao.naImplementacao.data:void 0,A=me(r)?bo(r,t):!1,n=a.fundamento;if(!i){o.naoCumpridos.push(a);continue}if(A){o.cumpridos.push(a),o.fundamentos.der.push(n);continue}o.possivelReafirmacao.push(a),o.fundamentos.possivelReafirmacao.push(a.fundamento)}return o}function Aw(e){return{fundamentosDer:new Set(e.der),fundamentosDerReafirmada:new Set(e.derReafirmada),fundamentosPossivelReafirmacao:new Set(e.possivelReafirmacao),fundamentosDivisorMinimo:new Set(e.divisorMinimo)}}function Jl(e,t,o){t.cumpridos.push(e),o.add(e.fundamento)}function nw(e,t,o,a,i,r){bo(t,o)?Jl(e,a,i):r.has(e.fundamento)||(a.possivelReafirmacao.push(e),r.add(e.fundamento))}function sw(e,t,o,a){t&&!a.has(e.fundamento)&&(o.divisorMinimo.push(e),a.add(e.fundamento))}function lw(e){const{beneficios:t,dataReferencia:o,dadosCalculo:a,fundamentos:i}=e,{dataApuracao:r,der:A,derReafirmada:n}=a,s={cumpridos:[],possivelReafirmacao:[],divisorMinimo:[]},l=To(r,A),c=me(n)?To(r,n):!1,{fundamentosDer:u,fundamentosDerReafirmada:d,fundamentosPossivelReafirmacao:m,fundamentosDivisorMinimo:g}=Aw(i),p=Aa(r,T.divisorMinimo)&&na(o,T.divisorMinimo);for(const f of t){const v=f.dadosApuracao.temDireito,h=v&&f.dadosApuracao.naImplementacao?f.dadosApuracao.naImplementacao.data:void 0;if(!v||!me(h))continue;const B=l&&bo(h,A)&&!u.has(f.fundamento),b=c&&me(n)&&bo(h,n)&&!d.has(f.fundamento);B?Jl(f,s,u):b?Jl(f,s,d):u.has(f.fundamento)||nw(f,h,A,s,u,m),sw(f,p,s,g)}return s}var lt=(e=>(e.Lei_8213_art_48_caput='Lei nº 8.213, art. 48, "caput"',e.Lei_8213_art_48_par_3="Lei nº 8.213, art. 48, § 3º",e.Lei_8213_art_48_par_1="Lei nº 8.213, art. 48, § 1º",e.Lei_8213_art_42="Lei nº 8.213, art. 42",e.Lei_8213_arts_42_e_19_ss="Lei nº 8.213, art. 42 c/c arts. 19 e ss.",e.Lei_8213_art_52="Lei nº 8.213, art. 52",e.Lei_8213_art_56="Lei nº 8.213, art. 56",e.Lei_8213_art_57="Lei nº 8.213, art. 57",e.Lei_8213_art_59="Lei nº 8.213, art. 59",e.Lei_8213_arts_59_e_19_ss="Lei nº 8.213, art. 59 c/c arts. 19 e ss.",e.Lei_8213_art_71="Lei nº 8.213, art. 71",e.Lei_8213_art_74="Lei nº 8.213, art. 74",e.Lei_8213_art_74_e_19_ss="Lei nº 8.213, art. 74 c/c arts. 19 e ss.",e.Lei_8213_art_80="Lei nº 8.213, art. 80",e.Lei_8213_art_86="Lei nº 8.213, art. 86",e.EC_20_art_9="EC 20, art. 9º",e.EC_20_art_1_CF_art_201_par_7_I="CF, art. 201, § 7º, I - redação EC 20",e.LC_142_art_3_I_a_III="LC 142/2013, art. 3º, incisos I, II e III",e.LC_142_art3_IV="LC 142/2013, art. 3º, inciso IV",e.EC_103_art_15="EC 103, art. 15",e.EC_103_art_16="EC 103, art. 16",e.EC_103_art_17="EC 103, art. 17",e.EC_103_art_18="EC 103, art. 18",e.EC_103_art_19="EC 103, art. 19",e.EC_103_art_19_par_1_I="EC 103, art. 19, § 1º, I",e.EC_103_art_19_par_1_II="EC 103, art. 19, § 1º, II",e.EC_103_art_20="EC 103, art. 20",e.EC_103_art_21="EC 103, art. 21",e.Usuario="Dados fornecidos pelo usuário",e))(lt||{});(e=>{const t={'Lei nº 8.213, art. 48, "caput"':'Lei 8.213, art. 48, "caput"',"Lei nº 8.213, art. 48, § 3º":"Lei 8.213, art. 48, § 3º","Lei nº 8.213, art. 48, § 1º":"Lei 8.213, art. 48, § 1º","Lei nº 8.213, art. 42":"Lei 8.213, art. 42","Lei nº 8.213, art. 42 c/c arts. 19 e ss.":"Lei nº 8.213, art. 42 c/c arts. 19 e ss.","Lei nº 8.213, art. 52":"Lei 8.213, art. 52","Lei nº 8.213, art. 56":"Lei 8.213, art. 56","Lei nº 8.213, art. 57":"Lei 8.213, art. 57","Lei nº 8.213, art. 59":"Lei 8.213, art. 59","Lei nº 8.213, art. 59 c/c arts. 19 e ss.":"Lei nº 8.213, art. 59 c/c arts. 19 e ss.","Lei nº 8.213, art. 71":"Lei 8.213, art. 71","Lei nº 8.213, art. 74":"Lei 8.213, art. 74","Lei nº 8.213, art. 74 c/c arts. 19 e ss.":"Lei nº 8.213, art. 74 c/c arts. 19 e ss.","Lei nº 8.213, art. 80":"Lei 8.213, art. 80","Lei nº 8.213, art. 86":"Lei 8.213, art. 86","CF, art. 201, § 7º, I - redação EC 20":"EC 20, art. 1º (CF art. 201, § 7º, I)","EC 20, art. 9º":"EC 20, art. 9º","LC 142/2013, art. 3º, inciso IV":"LC 142/2013, art. 3º, inciso IV","LC 142/2013, art. 3º, incisos I, II e III":"LC 142/2013, art. 3º, incisos I, II e III","EC 103, art. 15":"EC 103, art. 15","EC 103, art. 16":"EC 103, art. 16","EC 103, art. 17":"EC 103, art. 17","EC 103, art. 18":"EC 103, art. 18","EC 103, art. 19":"EC 103, art. 19","EC 103, art. 19, § 1º, I":"EC 103, art. 19, § 1º, I","EC 103, art. 19, § 1º, II":"EC 103, art. 19, § 1º, II","EC 103, art. 20":"EC 103, art. 20","EC 103, art. 21":"EC 103, art. 21","Dados fornecidos pelo usuário":"Dados fornecidos pelo usuário"};e.RegrasProgressivasEc103=["EC 103, art. 15","EC 103, art. 16","EC 103, art. 18"],e.PCD=["LC 142/2013, art. 3º, inciso IV","LC 142/2013, art. 3º, incisos I, II e III"],e.RuricolaPuro=["Lei nº 8.213, art. 48, § 1º"],e.DescarteAplicavel=["LC 142/2013, art. 3º, inciso IV","LC 142/2013, art. 3º, incisos I, II e III","Lei nº 8.213, art. 48, § 3º","Lei nº 8.213, art. 48, § 1º","EC 103, art. 15","EC 103, art. 16","EC 103, art. 17","EC 103, art. 18","EC 103, art. 19","EC 103, art. 19, § 1º, I","EC 103, art. 19, § 1º, II","EC 103, art. 20","EC 103, art. 21"];function o(){return Object.values(e).filter(r=>Re(r)).map(r=>({rotulo:t[r],valor:r}))}e.obterOpcoes=o;function a(r){return t[r]}e.obterRotulo=a;function i(r){return!(typeof r!="string"||!Object.values(e).includes(r))}e.existente=i})(lt||(lt={}));class Ja{constructor(t){this.dadosCalculo=t}get historico(){return this.dadosCalculo.dadosSegurado.historico}get dadosSegurado(){return this.dadosCalculo.dadosSegurado}get sexo(){return this.dadosSegurado.sexo}get der(){return this.dadosCalculo.der}static analisePostergada=!1}function Op({requisito:e,carenciaInicial:t,carenciaFinal:o,inicioContagem:a,dataInicial:i}){if(o<e)return;if(t>=e)return ma(a);const r=e-t,A=new oe(a).adicionar(r-1,so.Meses).competencia();return Fa(A,i)}function Xl({dataImplementacao:e,requisito:t,dataInicial:o,dataFinal:a,carenciaInicial:i,carenciaFinal:r,inicioContagem:A,periodosPostergados:n}){if(!n.length)return{dataImplementacao:e,carenciaFinal:r,postergadosRestantes:[]};const s=[];for(const l of n){const{computavelDesde:c,deltaCarencia:u}=l;if(ar(c,o,a)){i+=u,r+=u;let d=Op({requisito:t,carenciaInicial:i,carenciaFinal:r,inicioContagem:A,dataInicial:o});if(!d)continue;d=Fa(d,c),e=e?ii(e,d):d;break}else s.push(l)}return{dataImplementacao:e,carenciaFinal:r,postergadosRestantes:s}}function cw({dataFinalAnalise:e,requisito:t,periodoAtual:o,periodoSeguinte:a,periodosPostergados:i,carenciaInicial:r}){const A=Xo(o.periodo.dataFinal,1),n=a?ua(a.inicioContagem,-1):e;return Xl({dataImplementacao:void 0,requisito:t,dataInicial:A,dataFinal:n,carenciaInicial:r,carenciaFinal:r,inicioContagem:A,periodosPostergados:i})}function uw({requisito:e,deltaCarencia:t,periodoAtual:o,periodosPostergados:a,carenciaInicial:i}){let r;const A=o.inicioContagem,n=o.periodo.dataInicial,s=o.periodo.dataFinal,l=o.periodo.contarCarencia,c=i+t;return l?(r=Op({requisito:e,carenciaInicial:i,carenciaFinal:c,inicioContagem:A,dataInicial:n}),Xl({dataImplementacao:r,requisito:e,dataInicial:n,dataFinal:s,carenciaInicial:i,carenciaFinal:c,inicioContagem:A,periodosPostergados:a})):Xl({dataImplementacao:r,requisito:e,dataInicial:n,dataFinal:s,carenciaInicial:i,carenciaFinal:i,inicioContagem:A,periodosPostergados:a})}function dw(e,t,o){let a=0,i,r=[];for(let A=0;A<o.length;A++){const n=o[A],s=o[A+1],{valor:l}=n,{computavelDesde:c,dataFinal:u}=n.periodo;if(me(c)&&Aa(c,u)){bo(c,t)&&(r.push({deltaCarencia:l,computavelDesde:c}),r.sort((p,f)=>p.computavelDesde.valueOf()-f.computavelDesde.valueOf()));continue}const d=uw({requisito:e,deltaCarencia:l,periodoAtual:n,periodosPostergados:r,carenciaInicial:a});i=d.dataImplementacao,r=d.postergadosRestantes;let m=d.carenciaFinal;if(me(i))return i;const g=cw({dataFinalAnalise:t,requisito:e,periodoAtual:n,periodoSeguinte:s,periodosPostergados:r,carenciaInicial:m});if(i=g.dataImplementacao,r=g.postergadosRestantes,m=g.carenciaFinal,me(i))return i;a=m}return i}function Ud(e,t,o,a){const i=e.obterCarenciaApurada(t);return a?{parciais:i.parciaisCarenciaRural,total:i.totalCarenciaRural}:o?{parciais:i.parciaisCarenciaComLc123,total:i.totalCarenciaComLc123}:{parciais:i.parciaisCarencia,total:i.totalCarencia}}function Sd(e,t){const o={1991:60,1992:60,1993:66,1994:72,1995:78,1996:90,1997:96,1998:102,1999:108,2e3:114,2001:120,2002:126,2003:132,2004:138,2005:144,2006:150,2007:156,2008:162,2009:168,2010:174,2011:180};if(ce.AposentadoriasProgramadas.includes(e)){const a=Object.keys(o).map(Number),i=a.pop(),r=a.shift(),A=Math.max(Math.min(t.getFullYear(),i),r);return o[A]}return 180}class pr extends Ja{constructor(t,o){super(t),this.dadosCalculo=t,this.requisitoIdade=o}static rotulo="carência";static analisePostergada=!1;cacheDatasImplementacao=new Map;formatar(t){return`${st.inteiro(t,"-")} meses`}implementadoEm(t,o,a=!1,i=!1){const r=`${t}|${a}|${i}`,A=this.cacheDatasImplementacao.get(r);if(A)return A;const{parciais:n}=Ud(this.historico,o,i,a),s=dw(t,o,n);return me(s)&&this.cacheDatasImplementacao.set(r,s),s}calcular(t,o=()=>0,a=!1,i=!0,r=!1){const{total:A}=Ud(this.historico,t,r,a),n=o(),s=A,l=s>=n,c=l&&i?this.implementadoEm(n,t,a,r):void 0,u=i?l&&!me(c):!1,d=a?"tempo rural":"",m=this.formatar(n),g=this.formatar(s),p=d?` (${d})`:"",f=l?`cumpriu o requisito ${pr.rotulo}, com ${g}, para o mínimo de ${m}${p}`:`não cumpriu o requisito ${pr.rotulo} (somou ${g}, quando o mínimo é ${m})${p}`;return{dataApuracao:t,nome:pr.name,rotulo:pr.rotulo,resultado:{requisito:n,apurado:s,cumprido:l,implementadoEm:c,nota:d,inconsistencia:u,porExtenso:f,parametros:{computarLc123:r,carencia:{apenasRural:a}}}}}definir(t){return{metodoAnalise:a=>{const{periodosContribuicao:i}=this.historico,{marcoCarencia:r,especie:A}=this.dadosCalculo,n=!0;if(t==="Benefício Não Programado"){if(!ce.BenefíciosNaoProgramados.includes(A))throw new Error("Parâmetro carência inválido para a espécie de benefício");const g=!1,p=!0,f=()=>0;return this.calcular(a,f,g,n,p)}const{requisitoIdade:s,apenasRural:l,computarLc123:c}=t,u=i.filiacao,d=u&&u.valueOf()<=T.lei8213.valueOf();let m;return s&&r===Ki.ImplementoIdade&&A===ce.AposentadoriaPorIdade?m=()=>{const{metodoAnalise:g}=this.requisitoIdade.definir({minimo:s}),p=g(a).resultado.requisito,f=this.requisitoIdade.aniversario(p/360),v=f.valueOf()<=a.valueOf()?f:a;return d?Sd(A,v):180}:m=()=>d?Sd(A,a):180,this.calcular(a,m,l,n,c)},analisePostergada:pr.analisePostergada}}recalcular(t){if(!t?.dadosApuracao?.naApuracao?.valoresApurados?.carencia?.resultado?.parametros?.carencia)throw new Error("Requisito Carência e/ou seus parâmetros não encontrados no paradigma");const o=t.dadosApuracao.naApuracao.valoresApurados.carencia.dataApuracao,a=t.dadosApuracao.naApuracao.valoresApurados.carencia.resultado.parametros.carencia.apenasRural,i=t.dadosApuracao.naApuracao.valoresApurados.carencia.resultado.requisito,r=t.dadosApuracao.naApuracao.valoresApurados.carencia.resultado.parametros?.computarLc123??!1;return this.calcular(o,()=>i,a,!1,r)}}class gr extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="deficiência";static analisePostergada=!0;formatar(t){return st.opcao(!!t)}implementadoEm(t,o,a){const i=a.naApuracao.data,r=a.naImplementacao?.data??i;return this.historico.periodosPcd.primeiraDataComDeficienciaEntre(r,i)}calcular(t,o){if(!o)throw new Error("Dados de apuração são necessários para calcular o requisito de deficiência.");const a=this.implementadoEm(1,t,o),i=Number(me(a)),r=1,A=!!i,n=A&&!me(a),s="na DER ou na implementação dos demais requisitos";let l="";if(me(a)){const c=To(a,o.naApuracao.data),u=me(o.naImplementacao?.data)&&To(a,o.naImplementacao?.data);let d="";c?d="na DER":u?d="na data de implementação dos demais requisitos":d=`em ${a.toLocaleDateString("pt-BR")}`,l=`cumpriu o requisito ${gr.rotulo}, pois tinha a condição de PCD ${d}`}else l=`não cumpriu o requisito ${gr.rotulo} (não está na condição de PCD na DER)`;return{dataApuracao:t,nome:gr.name,rotulo:gr.rotulo,resultado:{requisito:r,apurado:i,cumprido:A,implementadoEm:a,inconsistencia:n,nota:s,porExtenso:l}}}definir(){return{metodoAnalise:(o,a)=>this.calcular(o,a),analisePostergada:gr.analisePostergada}}recalcular(t){if(!t.dadosApuracao.naApuracao.valoresApurados.deficiencia)throw new Error("Requisito Deficiência não encontrado no paradigma");return{...t.dadosApuracao.naApuracao.valoresApurados.deficiencia}}}function mw(e,t=V.Masculino){const o={2019:{[V.Masculino]:61,[V.Feminino]:56},2020:{[V.Masculino]:61.5,[V.Feminino]:56.5},2021:{[V.Masculino]:62,[V.Feminino]:57},2022:{[V.Masculino]:62.5,[V.Feminino]:57.5},2023:{[V.Masculino]:63,[V.Feminino]:58},2024:{[V.Masculino]:63.5,[V.Feminino]:58.5},2025:{[V.Masculino]:64,[V.Feminino]:59},2026:{[V.Masculino]:64.5,[V.Feminino]:59.5},2027:{[V.Masculino]:65,[V.Feminino]:60},2028:{[V.Masculino]:65,[V.Feminino]:60.5},2029:{[V.Masculino]:65,[V.Feminino]:61},2030:{[V.Masculino]:65,[V.Feminino]:61.5},2031:{[V.Masculino]:65,[V.Feminino]:62},2032:{[V.Masculino]:65,[V.Feminino]:62},2033:{[V.Masculino]:65,[V.Feminino]:62}},a=Object.keys(o).map(Number),i=a.pop(),r=a.shift(),A=Math.max(Math.min(e.getFullYear(),i),r);return o[A][t]}function fw(e,t=V.Masculino){const o={2019:{[V.Masculino]:56,[V.Feminino]:51},2020:{[V.Masculino]:56.5,[V.Feminino]:51.5},2021:{[V.Masculino]:57,[V.Feminino]:52},2022:{[V.Masculino]:57.5,[V.Feminino]:52.5},2023:{[V.Masculino]:58,[V.Feminino]:53},2024:{[V.Masculino]:58.5,[V.Feminino]:53.5},2025:{[V.Masculino]:59,[V.Feminino]:54},2026:{[V.Masculino]:59.5,[V.Feminino]:54.5},2027:{[V.Masculino]:60,[V.Feminino]:55},2028:{[V.Masculino]:60,[V.Feminino]:55.5},2029:{[V.Masculino]:60,[V.Feminino]:56},2030:{[V.Masculino]:60,[V.Feminino]:56.5},2031:{[V.Masculino]:60,[V.Feminino]:57},2032:{[V.Masculino]:60,[V.Feminino]:57},2033:{[V.Masculino]:60,[V.Feminino]:57}},a=Object.keys(o).map(Number),i=a.pop(),r=a.shift(),A=Math.max(Math.min(e.getFullYear(),i),r);return o[A][t]}function pw(e,t=V.Masculino){const o={2019:{[V.Masculino]:65,[V.Feminino]:60},2020:{[V.Masculino]:65,[V.Feminino]:60.5},2021:{[V.Masculino]:65,[V.Feminino]:61},2022:{[V.Masculino]:65,[V.Feminino]:61.5},2023:{[V.Masculino]:65,[V.Feminino]:62}},a=Object.keys(o).map(Number),i=a.pop(),r=a.shift(),A=Math.max(Math.min(e.getFullYear(),i),r);return o[A][t]}function gw(e){return e===Qe.Especial15?55:e===Qe.Especial20?58:60}class vr extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="idade";static analisePostergada=!1;emDias(t){return this.dadosSegurado.idadeEmDias(t)}emDias360(t){return this.dadosSegurado.idadeEmDias360(t)}aniversario(t){return this.dadosSegurado.aniversario(t)}formatar(t){return st.tempoContribuicao(t,"-")}implementadoEm(t,o){const a=this.aniversario(t);if(!me(o)||o.valueOf()>=a.valueOf())return a}calcular(t,o=a=>0){const a=o(t),i=this.emDias360(t),r=i>=a,A="",n=this.der.valueOf()<=t.valueOf()?this.der:t,s=this.der.valueOf()<=t.valueOf()?t:this.der;let l;r&&(l=tr(n,s).reduce((p,f)=>{const v=o(f),h=this.dadosSegurado.aniversario(v/360);return da(h,f)?(p[f.toISOString().slice(0,10)]=h,p):(h.valueOf()<=f.valueOf()&&(p[f.toISOString().slice(0,10)]=f),p)},{})),pA(l)&&(l=void 0);const c=r&&l===void 0,u=this.formatar(a),d=this.formatar(i),m="",g=r?`cumpriu o requisito ${vr.rotulo}, com ${d}, para o mínimo de ${u}${m}`:`não cumpriu o requisito ${vr.rotulo} (somou ${d}, quando o mínimo é ${u})${m}`;return{dataApuracao:t,nome:vr.name,rotulo:vr.rotulo,resultado:{requisito:a,apurado:i,cumprido:r,implementadoEm:l,nota:A,inconsistencia:c,porExtenso:g}}}definir({minimo:t}){return{metodoAnalise:a=>{const{sexo:i}=this.dadosSegurado,r=this.dadosCalculo.historico.obterPreponderantes(a).especial,A=t;if(A==="Art. 19 (Especial)")return this.calcular(a,()=>gw(r)*360);if(A==="Art. 16 (Tabela Progressiva)")return this.calcular(a,s=>mw(s,i)*360);if(A==="Art. 16 Professor (Tabela Progressiva)")return this.calcular(a,s=>fw(s,i)*360);if(A==="Art. 18 (Tabela Progressiva)")return this.calcular(a,s=>pw(s,i)*360);const n=s=>{let l=0;return ie(A)?l=A:l=i===V.Masculino?A.masculino:A.feminino,l*360};return this.calcular(a,n)},analisePostergada:vr.analisePostergada}}recalcular(t){if(!t.dadosApuracao.naApuracao.valoresApurados.idade)throw new Error("Requisito Idade não encontrado no paradigma");return{...t.dadosApuracao.naApuracao.valoresApurados.idade}}}function Dd(e,t){const o=Xo(e,1+t+2);return Mi(o,14)}class ui extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="imediatidade";static analisePostergada=!0;diferencaMaximaMeses=36;diferencaCalculada={};formatar(t){return st.opcao(!!t)}implementadoEm(t,o,a){this.diferencaCalculada={};const i=a.naApuracao.data,r=a.naImplementacao?.data??i;let A=this.historico.ultimaDataTrabalhoRuralAte(r);if(A){const n=Dd(A,this.diferencaMaximaMeses);if(ar(r,A,n))return A;this.diferencaCalculada["na implementação dos demais requisitos"]=vi(A,r,so.Dias)}if(A=this.historico.ultimaDataTrabalhoRuralAte(i),A){const n=Dd(A,this.diferencaMaximaMeses);if(ar(i,A,n))return A;this.diferencaCalculada["na DER"]=vi(A,i,so.Dias)}}calcular(t,o){if(!o)throw new Error("Dados de apuração são necessários para calcular o requisito de deficiência.");const a=this.implementadoEm(1,t,o),i=Number(me(a)),r=1,A=!!i,n=A&&!me(a),s="período de trabalho rural imediatamente anterior";let l="";if(me(a)){const u=To(a,o.naApuracao.data)?"na DER":"na data de implementação dos demais requisitos";l=`cumpriu o requisito da ${ui.rotulo}, pois exercia atividade rural ou estava em período de graça ${u}`}else{if(Object.keys(this.diferencaCalculada).length===0)return l=`não cumpriu o requisito da ${ui.rotulo} (checar possível inconsistência nos cálculos)`,{dataApuracao:t,nome:ui.name,rotulo:ui.rotulo,resultado:{requisito:r,apurado:i,cumprido:A,implementadoEm:a,inconsistencia:n,nota:s,porExtenso:l}};const c=Object.entries(this.diferencaCalculada??{}).map(([u,d])=>{const{anos:m,meses:g,dias:p}=st.anosMesesDias(d);return`${u} sua atividade rural havia cessado há ${m} anos, ${g} meses e ${p} dias`}).join(" e ");l=`não cumpriu o requisito da ${ui.rotulo} (${c})`}return{dataApuracao:t,nome:ui.name,rotulo:ui.rotulo,resultado:{requisito:r,apurado:i,cumprido:A,implementadoEm:a,inconsistencia:n,nota:s,porExtenso:l}}}definir(){return{metodoAnalise:(o,a)=>this.calcular(o,a),analisePostergada:ui.analisePostergada}}recalcular(t){if(!t.dadosApuracao.naApuracao.valoresApurados.imediatidade)throw new Error("Requisito Imediatidade não encontrado no paradigma");return{...t.dadosApuracao.naApuracao.valoresApurados.imediatidade}}}function Rp({requisito:e,tempoInicial:t,dataInicial:o,inicioContagem:a,terminoContagem:i,deltaDias:r,deltaTempo:A}){const n=t+A;if(n<e)return;if(t>=e)return ma(Fa(a,o));if(n===e)return ma(i);const s=e-t,l=r===A?s-1:Math.ceil(s*r/A)-1,c=As(a,l);return Fa(c,o)}function Yl({dataImplementacao:e,requisito:t,dataInicial:o,dataFinal:a,tempoInicial:i,tempoFinal:r,inicioContagem:A,terminoContagem:n,deltaDias:s,periodosPostergados:l}){if(!l.length)return{dataImplementacao:e,tempoFinal:r,postergadosRestantes:[]};const c=[],u=[];for(const d of l){const{computavelDesde:m,deltaTempo:g}=d;if(ar(m,o,a)){i=Ut(i)+g,r=Ut(r)+g;let p=Rp({requisito:t,dataInicial:o,tempoInicial:Ut(i),inicioContagem:A,terminoContagem:n,deltaDias:s,deltaTempo:r-i});if(!p)continue;p=Fa(p,m);const f=e?ii(e,p):p;u.push(f)}else c.push(d)}return u.length&&(e=u.reduce((d,m)=>ii(d,m),u[0])),{dataImplementacao:e,tempoFinal:r,postergadosRestantes:c}}function vw({dataFinalAnalise:e,requisito:t,periodoAtual:o,periodoSeguinte:a,periodosPostergados:i,tempoInicial:r}){const A=o.terminoContagem,n=a?Ci(a.inicioContagem):e;return Yl({dataImplementacao:void 0,requisito:t,deltaDias:0,dataInicial:A,dataFinal:n,inicioContagem:A,terminoContagem:n,tempoInicial:r,tempoFinal:r,periodosPostergados:i})}function hw({tipoContagem:e,requisito:t,deltaDias:o,deltaTempo:a,preponderanteTotal:i,periodoAtual:r,periodosPostergados:A,tempoInicial:n}){let s;const l=r.preponderante,c=r.inicioContagem,u=r.terminoContagem,d=r.periodo.dataInicial,m=r.periodo.dataFinal,g=n+a;if(r.formaContagem===Qe.NaoComputar)return Yl({dataImplementacao:s,requisito:t,deltaDias:o,dataInicial:d,dataFinal:m,inicioContagem:c,terminoContagem:u,tempoInicial:n,tempoFinal:g,periodosPostergados:A});const p=e===Pe.Pcd?l.grauDeficiencia:l.especial;return(!i||p===i)&&(s=Rp({requisito:t,tempoInicial:n,dataInicial:d,inicioContagem:c,terminoContagem:u,deltaDias:o,deltaTempo:a})),Yl({dataImplementacao:s,requisito:t,deltaDias:o,dataInicial:d,dataFinal:m,inicioContagem:c,terminoContagem:u,tempoInicial:n,tempoFinal:g,periodosPostergados:A})}function nA({requisito:e,ate:t,parciais:o,tipoContagem:a,preponderanteTotal:i,metodoSelecionarColuna:r}){let A=0,n,s=[];for(let l=0;l<o.length;l++){const c=o[l],u=o[l+1],{dataFinal:d,computavelDesde:m}=c.periodo,g=c.simples,p=r(c);if(me(m)&&Aa(m,d)){bo(m,t)&&(s.push({deltaDias:g,deltaTempo:p,computavelDesde:m}),s.sort((B,b)=>B.computavelDesde.valueOf()-b.computavelDesde.valueOf()));continue}const f=hw({deltaDias:g,deltaTempo:p,periodoAtual:c,periodosPostergados:s,requisito:e,preponderanteTotal:i,tempoInicial:A,tipoContagem:a});n=f.dataImplementacao,s=f.postergadosRestantes;let v=f.tempoFinal;if(me(n))return n;const h=vw({dataFinalAnalise:t,periodoAtual:c,periodoSeguinte:u,periodosPostergados:s,requisito:e,tempoInicial:Ut(v)});if(n=h.dataImplementacao,s=h.postergadosRestantes,v=h.tempoFinal,me(n))return n;A=Ut(v)}return n}function xd(e,t,o){const a=e.obterTempoApurado(t);return o?{parciais:a.parciaisTempoComLc123,totais:a.totalTempoComLc123}:{parciais:a.parciaisTempo,totais:a.totalTempo}}class hr extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="tempo comum";static analisePostergada=!1;cacheDatasImplementacao=new Map;selecionarColuna(t,o){return o===Pe.Simples?t.simples:t.convertidoPara.comum}minimoEmDiasParaPontos(){return this.dadosSegurado.sexo===V.Masculino?35*360:30*360}formatar(t){return st.tempoContribuicao(t,"-")}implementadoEm(t,o,a=Pe.Comum,i=!1){const r=`${t}|${a}|${i}`,A=this.cacheDatasImplementacao.get(r);if(A)return A;const{parciais:n}=xd(this.historico,o,i),l=nA({requisito:t,ate:o,parciais:n,metodoSelecionarColuna:c=>this.selecionarColuna(c,a),tipoContagem:a});return me(l)&&this.cacheDatasImplementacao.set(r,l),l}calcular(t,o,a,i="",r=!0,A=!1){const{totais:n}=xd(this.historico,t,A),s=this.selecionarColuna(n,a),l=s,c=s>=o,u=c&&r?this.implementadoEm(o,t,a,A):void 0,d=r?c&&!me(u):!1,m=this.formatar(o),g=this.formatar(s),p=i?` (${i})`:"",f=c?`cumpriu o requisito ${hr.rotulo}, com ${g}, para o mínimo de ${m}${p}`:`não cumpriu o requisito ${hr.rotulo} (somou ${g}, quando o mínimo é ${m})${p}`;return{dataApuracao:t,nome:hr.name,rotulo:hr.rotulo,resultado:{requisito:o,apurado:s,cumprido:c,implementadoEm:u,paraPontos:l,nota:i,inconsistencia:d,porExtenso:f,parametros:{computarLc123:A,tipoContagem:a}}}}definir(t,o=Pe.Comum,a,i){return{metodoAnalise:A=>{const n=i?`até ${i.toLocaleDateString("pt-BR")}`:"";A=me(i)?i:A;let s=0;return ie(t)?s=t:s=this.sexo===V.Masculino?t.masculino:t.feminino,s*=360,this.calcular(A,s,o,n,!0,a)},analisePostergada:hr.analisePostergada}}recalcular(t){if(!t?.dadosApuracao?.naApuracao?.valoresApurados?.tempo?.resultado?.parametros?.tipoContagem)throw new Error("Requisito Tempo Comum e/ou seus parâmetros não encontrados no paradigma");const o=t.dadosApuracao.naApuracao.valoresApurados.tempo.dataApuracao,{parametros:a,requisito:i,nota:r}=t.dadosApuracao.naApuracao.valoresApurados.tempo.resultado,{tipoContagem:A,computarLc123:n}=a;if(!A||A!==Pe.Comum)throw new Error("Parâmetro tipoContagem inválido para o requisito TempoComum");return this.calcular(o,i,A,r,!1,n)}}function Pd(e){return e===Qe.Especial15?15:e===Qe.Especial20?20:25}class di extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="tempo especial";static analisePostergada=!1;cacheDatasImplementacao=new Map;selecionarColuna(t,o){return o===Qe.Especial15?t.convertidoPara.especial15:o===Qe.Especial20?t.convertidoPara.especial20:t.convertidoPara.especial25}selecionarColunaParaPontos(t,o){return o===Qe.Especial15?t.preponderante15:o===Qe.Especial20?t.preponderante20:t.preponderante25}formatar(t){return st.tempoContribuicao(t,"-")}minimoEmDiasParaPontos(t){return t===Qe.Especial15?15*360:t===Qe.Especial20?20*360:25*360}implementadoEm(t,o){const a=this.historico.obterTempoApurado(o),i=a.preponderante.especial,r=a.parciaisTempo,A=c=>this.selecionarColuna(c,i),n=`${t}|${i}`,s=this.cacheDatasImplementacao.get(n);if(s)return s;const l=nA({requisito:t,ate:o,parciais:r,metodoSelecionarColuna:A,tipoContagem:Pe.Especial,preponderanteTotal:i});return me(l)&&this.cacheDatasImplementacao.set(n,l),l}calcular(t,o=!0){const a=this.historico.obterTempoApurado(t),i=a.preponderante.especial;if(i===void 0){const p=Pd(Qe.Especial25)*360,f=this.formatar(p),v=`não cumpriu o requisito ${di.rotulo} (somou 0, quando o mínimo é ${f})`;return{dataApuracao:t,nome:di.name,rotulo:di.rotulo,resultado:{requisito:p,apurado:0,cumprido:!1,implementadoEm:void 0,paraPontos:0,inconsistencia:!1,porExtenso:v}}}const r=Pd(i)*360,A=a.totalTempo,n=this.selecionarColuna(A,i),s=this.selecionarColunaParaPontos(A.paraPontos,i),l=n>=r;let c;if(l&&o){const p=h=>this.selecionarColuna(h,i),f=a.parciaisTempo;c=nA({requisito:r,ate:t,parciais:f,metodoSelecionarColuna:p,tipoContagem:Pe.Especial,preponderanteTotal:i})}const u=o?l&&!me(c):!1,d=this.formatar(r),m=this.formatar(n),g=l?`cumpriu o requisito ${di.rotulo}, com ${m}, para o mínimo de ${d}`:`não cumpriu o requisito ${di.rotulo} (somou ${m}, quando o mínimo é ${d})`;return{dataApuracao:t,nome:di.name,rotulo:di.rotulo,resultado:{requisito:r,apurado:n,cumprido:l,implementadoEm:c,paraPontos:s,inconsistencia:u,porExtenso:g,parametros:{tipoContagem:Pe.Especial}}}}definir(){return{metodoAnalise:t=>this.calcular(t),analisePostergada:di.analisePostergada}}recalcular(t){if(!t?.dadosApuracao?.naApuracao?.valoresApurados?.tempo?.resultado?.parametros?.tipoContagem)throw new Error("Requisito Tempo Especial e/ou seus parâmetros não encontrados no paradigma");const o=t.dadosApuracao.naApuracao.valoresApurados.tempo.dataApuracao,a=t.dadosApuracao.naApuracao.valoresApurados.tempo.resultado.parametros.tipoContagem;if(!a||a!==Pe.Especial)throw new Error("Parâmetro tipoContagem inválido para o requisito Tempo Especial");return this.calcular(o,!1)}}class Br extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="tempo magistério";static analisePostergada=!1;cacheDatasImplementacao=new Map;selecionarColuna(t){return t.magisterio}selecionarColunaParaPontos(t){return t.comum}minimoEmDiasParaPontos(){return this.dadosSegurado.sexo===V.Masculino?30*360:20*360}formatar(t){return st.tempoContribuicao(t,"-")}implementadoEm(t,o){const a=`${t}`,i=this.cacheDatasImplementacao.get(a);if(i)return i;o=o||ir();const r=this.historico.obterTempoApurado(o).parciaisTempo,n=nA({requisito:t,ate:o,parciais:r,metodoSelecionarColuna:s=>this.selecionarColuna(s),tipoContagem:Pe.Magisterio});return me(n)&&this.cacheDatasImplementacao.set(a,n),n}calcular(t,o,a=!0){const r=this.historico.obterTempoApurado(t).totalTempo,A=this.selecionarColuna(r),n=this.selecionarColunaParaPontos(r.paraPontos),s=A>=o,l=s&&a?this.implementadoEm(o,t):void 0,c=a?s&&!me(l):!1,u=this.formatar(o),d=this.formatar(A),m=s?`cumpriu o requisito ${Br.rotulo}, com ${d}, para o mínimo de ${u}`:`não cumpriu o requisito ${Br.rotulo} (somou ${d}, quando o mínimo é ${u})`;return{dataApuracao:t,nome:Br.name,rotulo:Br.rotulo,resultado:{requisito:o,apurado:A,cumprido:s,implementadoEm:l,paraPontos:n,inconsistencia:c,porExtenso:m,parametros:{tipoContagem:Pe.Magisterio}}}}definir(t){return{metodoAnalise:a=>{let i=0;return ie(t)?i=t:i=this.sexo===V.Masculino?t.masculino:t.feminino,i*=360,this.calcular(a,i)},analisePostergada:Br.analisePostergada}}recalcular(t){if(!t?.dadosApuracao?.naApuracao?.valoresApurados?.tempo?.resultado?.parametros?.tipoContagem)throw new Error("Requisito Tempo Magistério e/ou seus parâmetros não encontrados no paradigma");const o=t.dadosApuracao.naApuracao.valoresApurados.tempo.dataApuracao,{requisito:a,parametros:i}=t.dadosApuracao.naApuracao.valoresApurados.tempo.resultado,r=i.tipoContagem;if(!r||r!==Pe.Magisterio)throw new Error("Parâmetro tipoContagem inválido para o requisito Tempo Magistério");return this.calcular(o,a,!1)}}function _d(e=ke.SemDeficiencia,t=V.Masculino){return e===ke.Grave?t===V.Masculino?25:20:e===ke.Moderado?t===V.Masculino?29:24:e===ke.Leve?t===V.Masculino?33:28:15}class ha extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="tempo de contribuição";static analisePostergada=!1;cacheDatasImplementacao=new Map;selecionarColuna(t,o){const{especie:a,requisitoB41Pcd:i}=this.dadosCalculo;return a===ce.AposentadoriaPorIdade?i===Na.InicioDeficiencia?t.convertidoPara.comumPcd41:t.convertidoPara.comumPcd41ComDeficiencia:o===ke.Grave?t.convertidoPara.grave:o===ke.Moderado?t.convertidoPara.moderada:o===ke.Leve?t.convertidoPara.leve:t.trabalhadoComoPcd}formatar(t){return st.tempoContribuicao(t,"-")}implementadoEm(t,o){const r=this.historico.obterTempoApurado(o).preponderante.grauDeficiencia??ke.SemDeficiencia,A=`${t}|${r}`,n=this.cacheDatasImplementacao.get(A);if(n)return n;const s=u=>this.selecionarColuna(u,r),l=this.historico.obterTempoApurado(o).parciaisTempo,c=nA({requisito:t,ate:o,parciais:l,metodoSelecionarColuna:s,tipoContagem:Pe.Pcd,preponderanteTotal:r});return me(c)&&this.cacheDatasImplementacao.set(A,c),c}calcularSemDeficiencia(t){const o=_d(ke.Leve,this.sexo)*360,a=this.formatar(o),i=`não cumpriu o requisito ${ha.rotulo} (somou 0, quando o mínimo é ${a})`;return{dataApuracao:t,nome:ha.name,rotulo:ha.rotulo,resultado:{requisito:o,apurado:0,cumprido:!1,implementadoEm:void 0,paraPontos:0,inconsistencia:!1,porExtenso:i,parametros:{tipoContagem:Pe.Pcd}}}}calcularAposentadoriaPorIdade(t,o=!0){const{requisitoB41Pcd:a}=this.dadosCalculo,r=this.historico.obterTempoApurado(t).totalTempo,A=a===Na.InicioDeficiencia?r.convertidoPara.comumPcd41:r.convertidoPara.comumPcd41ComDeficiencia,n=15*360,s=A>=n,l=o&&s?this.implementadoEm(n,t):void 0,c=o?s&&!me(l):!1,u=a===Na.InicioDeficiencia?"":"PCD",d=this.formatar(n),m=this.formatar(A),g=u?` (${u})`:"",p=s?`cumpriu o requisito ${ha.rotulo}, com ${m}, para o mínimo de ${d}`:`não cumpriu o requisito ${ha.rotulo} (somou ${m}, quando o mínimo é ${d})${g}`;return{dataApuracao:t,nome:ha.name,rotulo:a===Na.InicioDeficiencia?ha.rotulo:"Tempo de contribuição como PCD",resultado:{requisito:n,apurado:A,cumprido:s,implementadoEm:l,paraPontos:0,inconsistencia:c,porExtenso:p,parametros:{tipoContagem:Pe.Pcd}}}}calcularAposentadoriaPorTempo(t,o=!0){const r=this.historico.obterTempoApurado(t).preponderante.grauDeficiencia??ke.SemDeficiencia;if(r===ke.SemDeficiencia)return this.calcularSemDeficiencia(t);const A=_d(r,this.sexo)*360,n=this.historico.obterTempoApurado(t).totalTempo,s=this.selecionarColuna(n,r),l=s,c=s>=A,u=o&&c?this.implementadoEm(A,t):void 0,d=o?c&&!me(u):!1;let m="";r===ke.Grave?m="Inc. I - grave":r===ke.Moderado?m="Inc. II - moderada":r===ke.Leve&&(m="Inc. III - leve");const g=this.formatar(A),p=this.formatar(s),f=m?` (${m})`:"",v=c?`cumpriu o requisito ${ha.rotulo}, com ${p}, para o mínimo de ${g}${f}`:`não cumpriu o requisito ${ha.rotulo} (somou ${p}, quando o mínimo é ${g})${f}`;return{dataApuracao:t,nome:ha.name,rotulo:ha.rotulo,resultado:{requisito:A,apurado:s,cumprido:c,implementadoEm:u,paraPontos:l,inconsistencia:d,nota:m,porExtenso:v,parametros:{tipoContagem:Pe.Pcd}}}}calcular(t,o=!0){const{especie:a}=this.dadosCalculo;return a===ce.AposentadoriaPorIdade?this.calcularAposentadoriaPorIdade(t,o):this.calcularAposentadoriaPorTempo(t,o)}definir(){const{especie:t}=this.dadosCalculo,{pcd:o}=this.dadosSegurado;if(!o||t!==ce.AposentadoriaPorIdade&&t!==ce.AposentadoriaPorTempoDeContribuicao)throw new TypeError("Requisito válido apenas para B41 e B42 PCD");return{metodoAnalise:i=>this.calcular(i),analisePostergada:ha.analisePostergada}}recalcular(t){if(!t?.dadosApuracao?.naApuracao?.valoresApurados?.tempo?.resultado?.parametros?.tipoContagem)throw new Error("Requisito Tempo PCD e/ou seus parâmetros não encontrados no paradigma");const o=t.dadosApuracao.naApuracao.valoresApurados.tempo.dataApuracao,a=t.dadosApuracao.naApuracao.valoresApurados.tempo.resultado.parametros.tipoContagem;if(!a||a!==Pe.Pcd)throw new Error("Parâmetro tipoContagem inválido para o requisito Tempo PCD");return this.calcular(o,!1)}}class Mp extends Ja{constructor(t){super(t),this.dadosCalculo=t,this._comum=new hr(t),this._especial=new di(t),this._magisterio=new Br(t),this._pcd=new ha(t)}_comum;_especial;_magisterio;_pcd;formatar(t){return st.tempoContribuicao(t,"-")}implementadoEm(t,o,a){return o=o||ir(),a===Pe.Especial?this._especial.implementadoEm(t,o):a===Pe.Pcd?this._pcd.implementadoEm(t,o):a===Pe.Magisterio?this._magisterio.implementadoEm(t,o):this._comum.implementadoEm(t,o)}minimoEmDiasParaPontos(t,o){return t===Pe.Especial?this._especial.minimoEmDiasParaPontos(o):t===Pe.Comum?this._comum.minimoEmDiasParaPontos():this._magisterio.minimoEmDiasParaPontos()}selecionarColunaParaPontos(t,o,a){return o===Pe.Especial?this._especial.selecionarColunaParaPontos(t,a):o===Pe.Magisterio?this._magisterio.selecionarColunaParaPontos(t):t.comum}selecionarColuna(t,o,a){return o===Pe.Especial?this._especial.selecionarColuna(t,a):o===Pe.Magisterio?this._magisterio.selecionarColuna(t):o===Pe.Pcd?this._pcd.selecionarColuna(t,a):this._comum.selecionarColuna(t,o)}calcular(t,o,a=0,i=""){return o===Pe.Especial?this._especial.calcular(t):o===Pe.Pcd?this._pcd.calcular(t):o===Pe.Magisterio?this._magisterio.calcular(t,a):this._comum.calcular(t,a,o,i)}definir({minimo:t,tipo:o,apurarAte:a,computarLc123:i=!1}){if(o===Pe.Especial)return this._especial.definir();if(o===Pe.Pcd)return this._pcd.definir();if(o===Pe.Magisterio){if(!ie(t)&&(!iA(t)||t.masculino===void 0&&t.feminino===void 0))throw new TypeError("Critério inválido para definição de aposentadoria de professor");return this._magisterio.definir(t)}if(!ie(t)&&(!iA(t)||t.masculino===void 0&&t.feminino===void 0))throw new TypeError("Critério inválido para definição de aposentadoria comum");return this._comum.definir(t,o,i,a)}recalcular(t){if(!t?.dadosApuracao?.naApuracao?.valoresApurados?.tempo?.resultado?.parametros)throw new Error("Requisito Tempo e/ou seus parâmetros não encontrados no paradigma");const o=t.dadosApuracao.naApuracao.valoresApurados.tempo.resultado.parametros.tipoContagem;if(!o)throw new Error("Parâmetro tipoContagem inválido para o requisito Tempo");return o===Pe.Especial?this._especial.recalcular(t):o===Pe.Pcd?this._pcd.recalcular(t):o===Pe.Magisterio?this._magisterio.recalcular(t):this._comum.recalcular(t)}}class Cr extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="tempo com pedágio";static analisePostergada=!1;cacheDatasImplementacao=new Map;selecionarColuna(t){const{especie:o}=this.dadosCalculo;return o===ce.AposentadoriaPorTempoDeServicoProfessor?t.magisterio:t.convertidoPara.comum}formatar(t){return st.tempoContribuicao(t,"-")}implementadoEm(t,o,a){const i=`${t}|${a}`,r=this.cacheDatasImplementacao.get(i);if(r)return r;const A=this.historico.obterTempoApurado(o).parciaisTempo,s=nA({requisito:t,ate:o,parciais:A,metodoSelecionarColuna:l=>this.selecionarColuna(l),tipoContagem:Pe.Comum});return me(s)&&this.cacheDatasImplementacao.set(i,s),s}calcular(t,o,a,i,r=!0){const{especie:A}=this.dadosCalculo,n=A===ce.AposentadoriaPorTempoDeServicoProfessor,s=this.historico.obterTempoApurado(t),l=this.historico.obterTempoApurado(o),c=s.totalTempo,u=l.totalTempo,d=n?c.magisterio:c.convertidoPara.comum,m=n?u.magisterio:u.convertidoPara.comum,g=Math.max(Ut((a*360-m)*i,0),0),p=a*360+g,f=d>=p,v=f&&r?this.implementadoEm(p,t,n):void 0,h=r?f&&!me(v):!1,B=this.formatar(p),b=this.formatar(d),Q=f?`cumpriu o requisito ${Cr.rotulo}, com ${b}, para o mínimo de ${B}`:`não cumpriu o requisito ${Cr.rotulo} (somou ${b}, quando o mínimo é ${B})`;return{dataApuracao:t,nome:Cr.name,rotulo:n?"Tempo magistério com pedágio":Cr.rotulo,resultado:{requisito:p,apurado:d,cumprido:f,implementadoEm:v,inconsistencia:h,porExtenso:Q,parametros:{pedagio:{dpe:o,patamar:a,percentual:i}}}}}definir(t){return{metodoAnalise:a=>{const{dpe:i,percentual:r}=t,A=this.sexo===V.Masculino?t.patamar.masculino:t.patamar.feminino;return this.calcular(a,i,A,r)},analisePostergada:Cr.analisePostergada}}recalcular(t){if(!t?.dadosApuracao?.naApuracao?.valoresApurados?.pedagio?.resultado?.parametros?.pedagio)throw new Error("Requisito Pedágio e/ou seus parâmetros não encontrados no paradigma");const o=t.dadosApuracao.naApuracao.valoresApurados.pedagio.dataApuracao,a=t.dadosApuracao.naApuracao.valoresApurados.pedagio.resultado.parametros.pedagio.dpe,i=t.dadosApuracao.naApuracao.valoresApurados.pedagio.resultado.parametros.pedagio.percentual,r=t.dadosApuracao.naApuracao.valoresApurados.pedagio.resultado.parametros.pedagio.patamar;return this.calcular(o,a,r,i,!1)}}function Lp(){return{comum:0,preponderante15:0,preponderante20:0,preponderante25:0}}function Hp(e,t){const o=Lp();return o.comum=Ut(e.comum,0)+t.comum,o.preponderante15=Ut(e.preponderante15)+t.preponderante15,o.preponderante20=Ut(e.preponderante20)+t.preponderante20,o.preponderante25=Ut(e.preponderante25)+t.preponderante25,o}function bu({inicioContagem:e,terminoContagem:t,dataInicial:o,pontuacaoInicial:a,pontuacaoFinal:i,requisito:r,computarPeriodo:A,conversaoNoPeriodo:n}){if(i<r)return;if(a>=r)return ma(e);if(i===r)return ma(t);const s=r-a;let l=0;A&&To(e,ua(e))&&(l=30-e.getDate());let c;if(n){const m=i-a,g=Zc(e,t)+l,p=Math.ceil(Ut(s*g/m,1));return c=As(e,p),Fa(c,T.dpe103,o)}const u=Math.ceil(Ut((s+l)/(A?2:1),1)),d=As(e,u);return Fa(d,T.dpe103,o)}function Tp({dataImplementacao:e,tipoContagem:t,preponderanteParcial:o,inicioContagem:a,terminoContagem:i,dataInicial:r,tempoInicial:A,pontuacaoInicial:n,pontuacaoFinal:s,requisito:l,computarPeriodo:c,conversaoNoPeriodo:u,periodosPostergados:d,metodoCalcularPontos:m}){if(!d.length)return{dataImplementacao:e,tempoAcumulado:A,pontuacaoInicial:n,pontuacaoFinal:s,postergadosRestantes:[]};let g={...A};const p=[],f=[],v=s-n;for(const h of d){const{computavelDesde:B,tempoParaPontos:b}=h;if(ar(B,a,i)){g=Hp(g,b),s=m(i,g,t,o),n=s-v;let Q=bu({inicioContagem:a,dataInicial:r,terminoContagem:i,pontuacaoInicial:n,pontuacaoFinal:s,requisito:l,computarPeriodo:c,conversaoNoPeriodo:u});if(!Q)continue;Q=Fa(Q,B);const y=e?ii(e,Q):Q;f.push(y)}else p.push(h)}return f.length&&(e=f.reduce((h,B)=>ii(h,B),f[0])),{dataImplementacao:e,tempoAcumulado:g,pontuacaoInicial:n,pontuacaoFinal:s,postergadosRestantes:p}}function Bw({dataFinalAnalise:e,tipoContagem:t,requisito:o,preponderanteTotal:a,periodoAtual:i,periodoSeguinte:r,periodosPostergados:A,tempoInicial:n,pontuacaoInicial:s,metodoCalcularPontos:l}){const c=i.preponderante.especial,u=i.terminoContagem,d=r?Ci(r.inicioContagem):e;let m=0,g;const p=t===Pe.Especial?c===a:!0;return m=l(d,n,t,a),p&&(g=bu({inicioContagem:u,dataInicial:u,terminoContagem:d,pontuacaoInicial:s,pontuacaoFinal:m,requisito:o,computarPeriodo:!1,conversaoNoPeriodo:!1})),Tp({dataImplementacao:g,tipoContagem:t,preponderanteParcial:c,inicioContagem:u,dataInicial:u,terminoContagem:d,tempoInicial:n,pontuacaoInicial:s,pontuacaoFinal:m,requisito:o,computarPeriodo:!1,conversaoNoPeriodo:!1,periodosPostergados:A,metodoCalcularPontos:l})}function Cw({tipoContagem:e,requisito:t,preponderanteTotal:o,periodoAtual:a,periodosPostergados:i,tempoInicial:r,pontuacaoInicial:A,metodoCalcularPontos:n}){const s=a.preponderante.especial,l=a.inicioContagem,c=a.terminoContagem,u=a.periodo.dataInicial;let d=0;const m=a.periodo.formaContagem,g=e===Pe.Especial&&m!==s,p=e===Pe.Especial?s===o:!0;let f;return d=n(c,r,e,s),p&&(f=bu({inicioContagem:Ci(l),terminoContagem:c,dataInicial:u,pontuacaoInicial:A,pontuacaoFinal:d,requisito:t,computarPeriodo:a.simples>0,conversaoNoPeriodo:g})),Tp({dataImplementacao:f,tipoContagem:e,preponderanteParcial:s,inicioContagem:Ci(l),terminoContagem:c,tempoInicial:r,dataInicial:u,pontuacaoInicial:A,pontuacaoFinal:d,requisito:t,computarPeriodo:!0,conversaoNoPeriodo:g,periodosPostergados:i,metodoCalcularPontos:n})}function bw({dataApuracao:e,tipoContagem:t,mapasTempo:o,metodoObterRequisitoEmDias:a,metodoCalcularPontos:i,metodoObterTempoMinimoEmDiasParaPontos:r,metodoSelecionarColuna:A}){for(const n of Array.from(o.values()).toSorted((s,l)=>s.dataApuracao.valueOf()-l.dataApuracao.valueOf())){if(!ar(n.dataApuracao,T.dpe103,e))continue;const s=n.totalTempo,l=r(t,n.preponderante.especial);if(A(s)<l)continue;const u=s.paraPontos,d=n.preponderante.especial,m=i(n.dataApuracao,u,t,d),g=a(n.dataApuracao);if(m>=g)return{dataFinalAnalise:n.dataApuracao,requisito:g,preponderanteTotal:d,parciais:n.parciaisTempo}}}function ww(e){if(na(e.dataApuracao,T.dpe103))return;const t=bw(e);if(!t)return;const{tipoContagem:o,metodoCalcularPontos:a}=e,{dataFinalAnalise:i,requisito:r,preponderanteTotal:A,parciais:n}=t;let s=Lp(),l=0,c,u=[];for(let d=0;d<n.length;d++){const m=n[d],g=n[d+1],p=m.inicioContagem,f=m.terminoContagem,v=m.periodo.computavelDesde;let h=l;d===0&&(l=a(Ci(p),s,o),h=l),me(v)&&Aa(v,f)?bo(v,i)&&(u.push({tempoParaPontos:m.paraPontos,computavelDesde:v}),u.sort((Q,y)=>Q.computavelDesde.valueOf()-y.computavelDesde.valueOf())):s=Hp(s,m.paraPontos);const B=Cw({tipoContagem:o,requisito:r,preponderanteTotal:A,periodoAtual:m,periodosPostergados:u,tempoInicial:s,pontuacaoInicial:h,metodoCalcularPontos:a});if(c=B.dataImplementacao,u=B.postergadosRestantes,s=B.tempoAcumulado,l=B.pontuacaoFinal,h=l,me(c))return c;const b=Bw({dataFinalAnalise:i,tipoContagem:o,requisito:r,preponderanteTotal:A,periodoAtual:m,periodoSeguinte:g,periodosPostergados:u,tempoInicial:s,pontuacaoInicial:h,metodoCalcularPontos:a});if(s=b.tempoAcumulado,l=b.pontuacaoFinal,u=b.postergadosRestantes,c=b.dataImplementacao,me(c))return c}return c}function Fw(e,t=V.Masculino){const o={2019:{[V.Masculino]:96,[V.Feminino]:86},2020:{[V.Masculino]:97,[V.Feminino]:87},2021:{[V.Masculino]:98,[V.Feminino]:88},2022:{[V.Masculino]:99,[V.Feminino]:89},2023:{[V.Masculino]:100,[V.Feminino]:90},2024:{[V.Masculino]:101,[V.Feminino]:91},2025:{[V.Masculino]:102,[V.Feminino]:92},2026:{[V.Masculino]:103,[V.Feminino]:93},2027:{[V.Masculino]:104,[V.Feminino]:94},2028:{[V.Masculino]:105,[V.Feminino]:95},2029:{[V.Masculino]:105,[V.Feminino]:96},2030:{[V.Masculino]:105,[V.Feminino]:97},2031:{[V.Masculino]:105,[V.Feminino]:98},2032:{[V.Masculino]:105,[V.Feminino]:99},2033:{[V.Masculino]:105,[V.Feminino]:100}},a=Object.keys(o).map(Number),i=a.pop(),r=a.shift(),A=Math.max(Math.min(e.getFullYear(),i),r);return o[A][t]}function Qw(e,t=V.Masculino){const o={2019:{[V.Masculino]:91,[V.Feminino]:81},2020:{[V.Masculino]:92,[V.Feminino]:82},2021:{[V.Masculino]:93,[V.Feminino]:83},2022:{[V.Masculino]:94,[V.Feminino]:84},2023:{[V.Masculino]:95,[V.Feminino]:85},2024:{[V.Masculino]:96,[V.Feminino]:86},2025:{[V.Masculino]:97,[V.Feminino]:87},2026:{[V.Masculino]:98,[V.Feminino]:88},2027:{[V.Masculino]:99,[V.Feminino]:89},2028:{[V.Masculino]:100,[V.Feminino]:90},2029:{[V.Masculino]:100,[V.Feminino]:91},2030:{[V.Masculino]:100,[V.Feminino]:92},2031:{[V.Masculino]:100,[V.Feminino]:92},2032:{[V.Masculino]:100,[V.Feminino]:92},2033:{[V.Masculino]:100,[V.Feminino]:92}},a=Object.keys(o).map(Number),i=a.pop(),r=a.shift(),A=Math.max(Math.min(e.getFullYear(),i),r);return o[A][t]}function Ew(e){return e===Qe.Especial15?66:e===Qe.Especial20?76:86}class br extends Ja{constructor(t,o,a){super(t),this.dadosCalculo=t,this.requisitoIdade=o,this.requisitoTempo=a}static rotulo="pontos";static analisePostergada=!1;calcularEmDias(t,o,a,i){const r=this.requisitoIdade.emDias360(t),A=this.requisitoTempo.selecionarColunaParaPontos(o,a,i);return r+A}obterRequisitoEmDias(t){return t===Pe.Magisterio?o=>Qw(o,this.sexo)*360:t===Pe.Especial?o=>{const a=this.historico.obterTempoApurado(o).preponderante;return Ew(a.especial)*360}:o=>Fw(o,this.sexo)*360}formatar(t){return st.tempoContribuicao(t,"-")}implementadoEm(t,o,a=Pe.Comum){const i=this.historico.mapaTempo,r=(s,l)=>this.requisitoTempo.minimoEmDiasParaPontos(s,l),A=(...s)=>this.calcularEmDias(...s),n=s=>this.requisitoTempo.selecionarColuna(s,a);return ww({dataApuracao:o,tipoContagem:a,mapasTempo:i,metodoObterRequisitoEmDias:this.obterRequisitoEmDias(a),metodoCalcularPontos:A,metodoObterTempoMinimoEmDiasParaPontos:r,metodoSelecionarColuna:n})}calcular(t,o,a=!0){const i=this.historico.obterTempoApurado(t),r=i.totalTempo,A=i.preponderante.especial,n=this.obterRequisitoEmDias(o)(t),s=this.calcularEmDias(t,r.paraPontos,o,A),l=Ut(s/360,0)>=Ut(n/360,0),c="",u=l&&a?this.implementadoEm(n,t,o):void 0,d=a?me(u)&&!l:!1,m=this.formatar(n),g=this.formatar(s),p="",f=l?`cumpriu o requisito ${br.rotulo}, com ${Ut(s/360,0)} pontos (${g}), para o mínimo de ${m}${p}`:`não cumpriu o requisito ${br.rotulo} (somou ${Ut(s/360,0)} pontos - ${g}, quando o mínimo é ${m})${p}`;return{dataApuracao:t,nome:br.name,rotulo:br.rotulo,resultado:{requisito:n,apurado:s,cumprido:l,implementadoEm:u,nota:c,inconsistencia:d,porExtenso:f,parametros:{tipoContagem:o}}}}definir({minimo:t}){return{metodoAnalise:a=>{const i=t;return i==="Art. 15 Professor (Tabela Progressiva)"?this.calcular(a,Pe.Magisterio):i==="Art. 21 Especial (66/76/86)"?this.calcular(a,Pe.Especial):this.calcular(a,Pe.Comum)},analisePostergada:br.analisePostergada}}recalcular(t){if(!t?.dadosApuracao?.naApuracao?.valoresApurados?.pontos?.resultado?.parametros?.tipoContagem)throw new Error("Requisito Pontos e/ou seu parâmetro tipoContagem não encontrado no paradigma");const o=t.dadosApuracao.naApuracao.valoresApurados.pontos.dataApuracao,a=t.dadosApuracao.naApuracao.valoresApurados.pontos.resultado.parametros.tipoContagem;return this.calcular(o,a,!1)}}function yw(e,t){let o=0;for(const a of t){const{dias360:i,inicioContagem:r}=a,A=i;if(o+=A,o>=e){const n=e-(o-A)-1;return As(r,n)}}}class wr extends Ja{constructor(t){super(t),this.dadosCalculo=t}static rotulo="tempo deficiência";static analisePostergada=!1;emDias(t){return this.historico.obterTempoApurado(t).parciaisPcd.reduce((a,i)=>a+i.dias,0)}emDias360(t){return this.historico.obterTempoApurado(t).parciaisPcd.reduce((a,i)=>a+i.dias360,0)}formatar(t){return st.tempoContribuicao(t,"-")}implementadoEm(t,o){const a=this.historico.obterTempoApurado(o).parciaisPcd;return yw(t,a)}calcular(t,o){const a=this.emDias360(t),i="",r=a>=o,A=r?this.implementadoEm(o,t):void 0,n=r&&!me(A),s=this.formatar(o),l=this.formatar(a),c="",u=r?`cumpriu o requisito ${wr.rotulo}, com ${l}, para o mínimo de ${s}${c}`:`não cumpriu o requisito ${wr.rotulo} (somou ${l}, quando o mínimo é ${s})${c}`;return{dataApuracao:t,nome:wr.name,rotulo:wr.rotulo,resultado:{requisito:o,apurado:a,cumprido:r,implementadoEm:A,nota:i,inconsistencia:n,porExtenso:u}}}definir({minimo:t}){return{metodoAnalise:o=>this.calcular(o,t*360),analisePostergada:wr.analisePostergada}}recalcular(t){if(!t.dadosApuracao.naApuracao.valoresApurados.tempoDeficiencia)throw new Error("Requisito Tempo Deficiência não encontrado no paradigma");return{...t.dadosApuracao.naApuracao.valoresApurados.tempoDeficiencia}}}class Iw{constructor(t){this.dadosCalculo=t}progressivo(t,o,a){const{tempo:i}=t;if(!i||!i.resultado||!i.resultado.cumprido||!ie(i.resultado.paraPontos))return{valor:0,nota:""};const r=Math.floor(i.resultado.paraPontos/360-o);return{valor:Math.max(60+2*r,60)/100,nota:"antes das exclusões do art. 26, § 6º, da Emenda 103",parametro:a}}aptc(t,o){const{tempo:a}=t;if(!a||!a.resultado||!a.resultado.cumprido||!ie(a.resultado.paraPontos))return{valor:0,nota:""};const i=a.resultado.requisito,r=Math.floor(a.resultado.paraPontos/360-i/360);return{valor:Math.max(Math.min(100,70+6*r),70)/100,nota:"",parametro:o}}apida(t,o){const{carencia:a}=t;if(!a||!a.resultado||!a.resultado.cumprido||!ie(a.resultado.apurado))return{valor:0,nota:""};const i=Math.floor(a.resultado.apurado/12);return{valor:Math.max(Math.min(100,70+1*i),70)/100,nota:"",parametro:o}}ec20(t,o){const{pedagio:a,tempo:i}=t;if(i&&i.resultado)return i.resultado.cumprido?{valor:1,nota:"",parametro:o}:{valor:0,nota:""};if(!a||!a.resultado||!a.resultado.cumprido||!ie(a.resultado.apurado))return{valor:0,nota:""};const r=a.resultado.requisito/360,A=a.resultado.apurado/360,n=Math.floor(A-r);return{valor:Math.max(Math.min(100,70+5*n),70)/100,nota:"",parametro:o}}ec103(t,o){const{sexo:a}=this.dadosCalculo.dadosSegurado,i=a===V.Masculino?20:15;return this.progressivo(t,i,o)}beneficioNaoProgramado(t,o){const{especie:a,der:i}=this.dadosCalculo,{carencia:r}=t;if(a===ce.SalarioMaternidade)return i.valueOf()<T.lei9876.valueOf()?{valor:0,nota:"",parametro:o}:{valor:1,nota:"",parametro:o};if(a===ce.AuxilioPorIncapacidadeTemporaria||a===ce.AuxilioPorIncapacidadeTemporariaAcidentario){if(i.valueOf()<T.lei9032.valueOf()){if(!r||!r.resultado||!r.resultado.cumprido||!ie(r.resultado.apurado))return{valor:0,nota:""};const A=Math.floor(r.resultado.apurado/12);return{valor:Math.max(Math.min(80,80+1*A),92)/100,nota:"",parametro:o}}return{valor:.91,nota:"",parametro:o}}if(a===ce.AposentadoriaPorIncapacidadePermanenteAcidentaria||a===ce.PensaoAcidentaria)return{valor:1,nota:"",parametro:o};if(a===ce.AposentadoriaPorIncapacidadePermanente||a===ce.PensaoPrevidenciaria||a===ce.AuxilioReclusao){if(a===ce.AuxilioReclusao&&i.valueOf()>=T.dpe103.valueOf())return{valor:0,nota:"",parametro:o};if(i.valueOf()<T.lei9032.valueOf()){if(!r||!r.resultado||!r.resultado.cumprido||!ie(r.resultado.apurado))return{valor:0,nota:"",parametro:o};const A=Math.floor(r.resultado.apurado/12);return{valor:Math.max(Math.min(80,80+1*A),100)/100,nota:"",parametro:o}}return i.valueOf()<T.dpe103.valueOf()?{valor:1,nota:"",parametro:o}:this.ec103(t,o)}return a===ce.AuxilioSuplementar?{valor:.2,nota:"",parametro:o}:ce.AuxilioAcidente.includes(a)?i.valueOf()>=T.lei9032.valueOf()?{valor:.5,nota:"",parametro:o}:{valor:0,nota:"calcular manualmente",parametro:o}:{valor:0,nota:"espécie inválida",parametro:o}}definir(t){return o=>t==="Beneficio Não Programado"?this.beneficioNaoProgramado(o,t):t==="APTC (Lei 8.213)"?this.aptc(o,t):t==="APIDA (Lei 8.213)"?this.apida(o,t):t==="EC 20 (Art. 9º)"?this.ec20(o,t):t==="EC 103 (Progressivo)"?this.ec103(o,t):t==="100%"?{valor:1,nota:"",parametro:t}:{valor:t,nota:"",parametro:t}}recalcular(t){if(!t.dadosApuracao.temDireito)return;if(!t.dadosApuracao.naApuracao.coeficiente||!t.dadosApuracao.naApuracao.coeficiente.parametro)throw new Error("Parâmetro do coeficiente não definido para apuração por paradigma");const o=t.dadosApuracao.naApuracao.coeficiente.parametro;return this.definir(o)(t.dadosApuracao.naApuracao.valoresApurados)}}function Uw(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()}function Sw(e,t){if(e.valueOf()<t.valueOf())throw new Error("A data de apuração da idade não pode ser anterior ao nascimento");return Uw(e,t)?(e.getFullYear()-t.getFullYear())*360:Zc(t,e,mf.USNasd)}function $p(e,t){return Sw(e,t)/360}function Dw({nascimento:e,tipo:t,especie:o,dataApuracao:a,tempoEmDias:i}){if(!(a.valueOf()<T.regraPontos.valueOf())&&t!==ra.Pcd)return o===ce.AposentadoriaPorTempoDeServicoProfessor&&a.valueOf()<T.dpe103.valueOf()&&(i+=5*360),i/360+$p(a,e)}function xw(e){return e.valueOf()>=T.inicioTabuasMortalidade.valueOf()}function Pw({sexo:e,tipo:t,especie:o,dataApuracao:a,tempoEmAnos:i,fator:r,pontos:A}){return ce.ComFator.includes(o)?r>1&&a.valueOf()<=T.dpe103.valueOf()?!0:t===ra.Pcd||o===ce.AposentadoriaPorIdade?!1:a.valueOf()<T.regraPontos.valueOf()||!ie(A)?!0:e===V.Masculino?a.valueOf()>T.elevacaoPontos.valueOf()?i<35||A<96:i<35||A<95:a.valueOf()>T.elevacaoPontos.valueOf()?i<30||A<86:i<30||A<85:!1}function Vp({sexo:e,nascimento:t,tipo:o,especie:a,dataApuracao:i,tempoEmDias:r,aplicarSempre:A,calcularSemAplicar:n,servicoTabuaMortalidade:s}){if(!xw(i))return;const l=$p(i,t),c=s.obterExpectativaDeSobrevida(i,l);let u=r/360;e===V.Feminino&&(u+=5),a===ce.AposentadoriaPorTempoDeServicoProfessor&&(u+=5);const d=.31,m=u*d/c*(1+(l+u*d)/100),g=A?void 0:Dw({nascimento:t,tipo:o,especie:a,dataApuracao:i,tempoEmDias:r}),p=!n&&(A||Pw({sexo:e,tipo:o,especie:a,dataApuracao:i,tempoEmAnos:u,fator:m,pontos:g}));return{valor:Ut(m,4),idade:l,pontos:g,expectativaSobrevida:c,aplicar:p,aplicarSempre:A}}class _w{constructor(t){this.dadosCalculo=t}servicos={tabuaMortalidade:ff};get especie(){return this.dadosCalculo.especie}get dadosSegurado(){return this.dadosCalculo.dadosSegurado}calcular(t,o,a){return Vp({servicoTabuaMortalidade:this.servicos.tabuaMortalidade,nascimento:this.dadosSegurado.nascimento,sexo:this.dadosSegurado.sexo,tipo:this.dadosSegurado.tipo,especie:this.especie,dataApuracao:t,tempoEmDias:o,aplicarSempre:a})}definir({aplicarSempre:t=!1}){return o=>{const{pedagio:a,tempo:i}=o;let r=[a,i].filter(s=>s!==void 0)[0];if(!r){const{metodoAnalise:s}=new Mp(this.dadosCalculo).definir({minimo:0,tipo:Pe.Comum});if(r=s(o.carencia?.dataApuracao??this.dadosCalculo.dataApuracao),!r)return}const{resultado:A,dataApuracao:n}=r;return this.calcular(n,A.apurado,t)}}recalcular(t){if(!t.dadosApuracao.naApuracao.fatorPrevidenciario||!t.dadosApuracao.temDireito)return;const o=t.dadosApuracao.naApuracao.fatorPrevidenciario.aplicarSempre??!1;return this.definir({aplicarSempre:o})(t.dadosApuracao.naApuracao.valoresApurados)}}const Ow=({dadosCalculo:e,requisitos:t,coeficiente:o})=>{const{opcoesAposEc103:a,especie:i}=e,{tempo:r,carencia:A,idade:n,pontos:s}=t;return i!==ce.AposentadoriaEspecial?[]:[{especie:ce.AposentadoriaEspecial,descricao:"Aposentadoria Especial",fundamento:lt.Lei_8213_art_57,inicioVigencia:T.cf88,terminoVigencia:T.dpe103,regraCoeficiente:1,requisitos:{tempo:r.definir({tipo:Pe.Especial}),carencia:A.definir({requisitoIdade:void 0})}},{especie:ce.AposentadoriaEspecial,descricao:"Aposentadoria Especial",fundamento:lt.EC_103_art_19_par_1_I,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:r.definir({tipo:Pe.Especial}),idade:n.definir({minimo:"Art. 19 (Especial)"}),carencia:a.carencia?A.definir({requisitoIdade:55}):void 0}},{especie:ce.AposentadoriaEspecial,descricao:"Aposentadoria Especial",fundamento:lt.EC_103_art_21,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:r.definir({tipo:Pe.Especial}),pontos:s.definir({minimo:"Art. 21 Especial (66/76/86)"}),carencia:a.carencia?A.definir({requisitoIdade:void 0}):void 0}}]},Rw=({dadosCalculo:e,requisitos:t,coeficiente:o,fator:a})=>{const{idade:i,tempo:r,carencia:A}=t,{especie:n,opcoesAposEc103:s}=e;return n!==ce.AposentadoriaPorIdade?[]:[{especie:ce.AposentadoriaPorIdade,descricao:"Aposentadoria por Idade",fundamento:lt.Lei_8213_art_48_caput,inicioVigencia:T.cf88,terminoVigencia:T.dpe103,regraCoeficiente:o.definir("APIDA (Lei 8.213)"),regraFatorPrevidenciario:a.definir({aplicarSempre:!1}),requisitos:{idade:i.definir({minimo:{masculino:65,feminino:60}}),carencia:A.definir({requisitoIdade:{masculino:65,feminino:60},computarLc123:!0})}},{especie:ce.AposentadoriaPorIdade,descricao:"Aposentadoria por Idade",fundamento:lt.EC_103_art_18,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:r.definir({minimo:15,tipo:Pe.Comum,computarLc123:!0}),idade:i.definir({minimo:"Art. 18 (Tabela Progressiva)"}),carencia:s.carencia?A.definir({requisitoIdade:"Art. 18 (Tabela Progressiva)",computarLc123:!0}):void 0}},{especie:ce.AposentadoriaPorIdade,descricao:"Aposentadoria por Idade",fundamento:lt.EC_103_art_19,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:r.definir({minimo:{masculino:20,feminino:15},tipo:Pe.Comum,computarLc123:!0}),idade:i.definir({minimo:{masculino:65,feminino:62}}),carencia:s.carencia?A.definir({requisitoIdade:{masculino:65,feminino:62},computarLc123:!0}):void 0}}]},Mw=({dadosCalculo:e,requisitos:t,dataApuracao:o,coeficiente:a,fator:i})=>{const{idade:r,tempo:A,carencia:n,tempoDeficiencia:s,deficiencia:l}=t,{especie:c,dadosSegurado:u,requisitoB41Pcd:d}=e,{tipo:m}=u;return!(m===ra.Pcd)||c!==ce.AposentadoriaPorIdade||o.valueOf()<T.lc142.valueOf()?[]:[{especie:ce.AposentadoriaPorIdade,descricao:"Aposentadoria por Idade (Pessoa Com Deficiência)",fundamento:lt.LC_142_art3_IV,inicioVigencia:T.lc142,regraCoeficiente:a.definir("APIDA (Lei 8.213)"),regraFatorPrevidenciario:i.definir({aplicarSempre:!1}),requisitos:{idade:r.definir({minimo:{masculino:60,feminino:55}}),tempo:A.definir({tipo:Pe.Pcd,computarLc123:!0}),carencia:n.definir({requisitoIdade:{masculino:60,feminino:55},computarLc123:!0}),deficiencia:l.definir(),tempoDeficiencia:d===Na.InicioDeficiencia?s.definir({minimo:15}):void 0}}]},Lw=({dadosCalculo:e,requisitos:t,coeficiente:o,fator:a})=>{const{idade:i,tempo:r,carencia:A,imediatidade:n}=t,{especie:s,dadosSegurado:l,opcoesAposEc103:c}=e,{tipo:u}=l;return!(u===ra.Ruricola)||s!==ce.AposentadoriaPorIdade?[]:[{especie:ce.AposentadoriaPorIdade,descricao:"Aposentadoria por Idade Rural",fundamento:lt.Lei_8213_art_48_par_1,inicioVigencia:T.cf88,regraCoeficiente:o.definir("APIDA (Lei 8.213)"),regraFatorPrevidenciario:a.definir({aplicarSempre:!1}),requisitos:{idade:i.definir({minimo:{masculino:60,feminino:55}}),carencia:A.definir({requisitoIdade:{masculino:60,feminino:55},apenasRural:!0,computarLc123:!0}),imediatidade:n.definir()}},{especie:ce.AposentadoriaPorIdade,descricao:"Aposentadoria por Idade Híbrida",fundamento:lt.Lei_8213_art_48_par_3,inicioVigencia:T.cf88,terminoVigencia:T.dpe103,regraCoeficiente:o.definir("APIDA (Lei 8.213)"),regraFatorPrevidenciario:a.definir({aplicarSempre:!1}),requisitos:{idade:i.definir({minimo:{masculino:65,feminino:60}}),carencia:A.definir({requisitoIdade:{masculino:65,feminino:60},computarLc123:!0})}},{especie:ce.AposentadoriaPorIdade,descricao:"Aposentadoria por Idade",fundamento:lt.EC_103_art_18,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:r.definir({minimo:15,tipo:Pe.Comum,computarLc123:!0}),idade:i.definir({minimo:"Art. 18 (Tabela Progressiva)"}),carencia:c.carencia?A.definir({requisitoIdade:"Art. 18 (Tabela Progressiva)",computarLc123:!0}):void 0}},{especie:ce.AposentadoriaPorIdade,descricao:"Aposentadoria por Idade",fundamento:lt.EC_103_art_19,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:r.definir({minimo:{masculino:20,feminino:15},tipo:Pe.Comum,computarLc123:!0}),idade:i.definir({minimo:{masculino:65,feminino:62}}),carencia:c.carencia?A.definir({requisitoIdade:{masculino:65,feminino:62},computarLc123:!0}):void 0}}]},Hw=({dadosCalculo:e,requisitos:t,coeficiente:o,fator:a})=>{const{opcoesAposEc103:i,especie:r}=e,{tempo:A,carencia:n,idade:s,pontos:l,pedagio:c}=t;return r!==ce.AposentadoriaPorTempoDeContribuicao?[]:[{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo de Contribuição",fundamento:lt.Lei_8213_art_52,inicioVigencia:T.cf88,terminoVigencia:T.dpe20,regraCoeficiente:o.definir("APTC (Lei 8.213)"),requisitos:{tempo:A.definir({minimo:{masculino:30,feminino:25},tipo:Pe.Comum}),carencia:n.definir({requisitoIdade:void 0})}},{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo de Contribuição Integral",fundamento:lt.EC_20_art_1_CF_art_201_par_7_I,inicioVigencia:T.dpe20,terminoVigencia:T.dpe103,regraCoeficiente:1,regraFatorPrevidenciario:a.definir({aplicarSempre:!1}),requisitos:{tempo:A.definir({minimo:{masculino:35,feminino:30},tipo:Pe.Comum}),carencia:n.definir({requisitoIdade:void 0})}},{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo de Contribuição Proporcional",fundamento:lt.EC_20_art_9,inicioVigencia:T.dpe20,terminoVigencia:T.dpe103,regraCoeficiente:o.definir("EC 20 (Art. 9º)"),regraFatorPrevidenciario:a.definir({aplicarSempre:!1}),requisitos:{idade:s.definir({minimo:{masculino:53,feminino:48}}),pedagio:c.definir({patamar:{masculino:30,feminino:25},dpe:T.dpe20,percentual:.4}),carencia:n.definir({requisitoIdade:{masculino:53,feminino:48}})}},{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo de Contribuição",fundamento:lt.EC_103_art_15,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:A.definir({minimo:{masculino:35,feminino:30},tipo:Pe.Comum}),pontos:l.definir({minimo:"Art. 15 Comum (Tabela Progressiva)"}),carencia:i.carencia?n.definir({requisitoIdade:void 0}):void 0}},{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo de Contribuição",fundamento:lt.EC_103_art_16,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:A.definir({minimo:{masculino:35,feminino:30},tipo:Pe.Comum}),idade:s.definir({minimo:"Art. 16 (Tabela Progressiva)"}),carencia:i.carencia?n.definir({requisitoIdade:"Art. 16 (Tabela Progressiva)"}):void 0}},{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo de Contribuição",fundamento:lt.EC_103_art_17,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("100%"),regraFatorPrevidenciario:a.definir({aplicarSempre:!0}),requisitos:{tempo:A.definir({minimo:{masculino:33,feminino:28},tipo:Pe.Comum,apurarAte:T.dpe103}),pedagio:c.definir({patamar:{masculino:35,feminino:30},dpe:T.dpe103,percentual:.5}),carencia:i.carencia?n.definir({requisitoIdade:void 0}):void 0}},{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo de Contribuição",fundamento:lt.EC_103_art_19,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:A.definir({minimo:{masculino:20,feminino:15},tipo:Pe.Comum,computarLc123:!0}),idade:s.definir({minimo:{masculino:65,feminino:62}}),carencia:i.carencia?n.definir({requisitoIdade:{masculino:65,feminino:62},computarLc123:!0}):void 0}},{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo de Contribuição",fundamento:lt.EC_103_art_20,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("100%"),requisitos:{idade:s.definir({minimo:{masculino:60,feminino:57}}),pedagio:c.definir({patamar:{masculino:35,feminino:30},dpe:T.dpe103,percentual:1}),carencia:i.carencia?n.definir({requisitoIdade:{masculino:60,feminino:57}}):void 0}}]},Tw=({dadosCalculo:e,requisitos:t,fator:o,coeficiente:a})=>{const{carencia:i,tempo:r,deficiencia:A}=t,{especie:n,der:s,dadosSegurado:l}=e,{tipo:c}=l;return!(c===ra.Pcd)||n!==ce.AposentadoriaPorTempoDeContribuicao||s.valueOf()<T.lc142.valueOf()?[]:[{especie:ce.AposentadoriaPorTempoDeContribuicao,descricao:"Aposentadoria por Tempo (Pessoa com Deficiência)",fundamento:lt.LC_142_art_3_I_a_III,inicioVigencia:T.lc142,regraCoeficiente:a.definir("100%"),regraFatorPrevidenciario:o.definir({aplicarSempre:!1}),requisitos:{tempo:r.definir({tipo:Pe.Pcd}),carencia:i.definir({requisitoIdade:void 0}),deficiencia:A.definir()}}]},$w=({dadosCalculo:e,requisitos:t,coeficiente:o,fator:a})=>{const{opcoesAposEc103:i,especie:r}=e,{tempo:A,carencia:n,idade:s,pontos:l,pedagio:c}=t;return r!==ce.AposentadoriaPorTempoDeServicoProfessor?[]:[{especie:ce.AposentadoriaPorTempoDeServicoProfessor,descricao:"Aposentadoria por Tempo (Professor)",fundamento:lt.Lei_8213_art_56,inicioVigencia:T.cf88,terminoVigencia:T.dpe103,regraCoeficiente:1,regraFatorPrevidenciario:a.definir({aplicarSempre:!1}),requisitos:{tempo:A.definir({minimo:{masculino:30,feminino:25},tipo:Pe.Magisterio}),carencia:n.definir({requisitoIdade:void 0})}},{especie:ce.AposentadoriaPorTempoDeServicoProfessor,descricao:"Aposentadoria por Tempo (Professor)",fundamento:lt.EC_103_art_15,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:A.definir({minimo:{masculino:30,feminino:25},tipo:Pe.Magisterio}),pontos:l.definir({minimo:"Art. 15 Professor (Tabela Progressiva)"}),carencia:i.carencia?n.definir({requisitoIdade:void 0}):void 0}},{especie:ce.AposentadoriaPorTempoDeServicoProfessor,descricao:"Aposentadoria por Tempo (Professor)",fundamento:lt.EC_103_art_16,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:A.definir({minimo:{masculino:30,feminino:25},tipo:Pe.Magisterio}),idade:s.definir({minimo:"Art. 16 Professor (Tabela Progressiva)"}),carencia:i.carencia?n.definir({requisitoIdade:"Art. 16 Professor (Tabela Progressiva)"}):void 0}},{especie:ce.AposentadoriaPorTempoDeServicoProfessor,descricao:"Aposentadoria por Tempo (Professor)",fundamento:lt.EC_103_art_19_par_1_II,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("EC 103 (Progressivo)"),requisitos:{tempo:A.definir({minimo:25,tipo:Pe.Magisterio}),idade:s.definir({minimo:{masculino:60,feminino:57}}),carencia:i.carencia?n.definir({requisitoIdade:{masculino:60,feminino:57}}):void 0}},{especie:ce.AposentadoriaPorTempoDeServicoProfessor,descricao:"Aposentadoria por Tempo (Professor)",fundamento:lt.EC_103_art_20,inicioVigencia:T.dpe103,regraCoeficiente:o.definir("100%"),requisitos:{idade:s.definir({minimo:{masculino:55,feminino:52}}),pedagio:c.definir({patamar:{masculino:30,feminino:25},dpe:T.dpe103,percentual:1}),carencia:i.carencia?n.definir({requisitoIdade:{masculino:55,feminino:52}}):void 0}}]},Vw=({dadosCalculo:e,coeficiente:t,requisitos:o})=>{const{especie:a}=e,{carencia:i,tempo:r}=o;return ce.BenefíciosNaoProgramados.includes(a)?[{especie:ce.AuxilioPorIncapacidadeTemporaria,descricao:"Auxílio por Incapacidade Temporária",fundamento:lt.Lei_8213_art_59,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{carencia:i.definir("Benefício Não Programado")}},{especie:ce.AuxilioPorIncapacidadeTemporariaAcidentario,descricao:"Auxílio por Incapacidade Temporária Acidentário",fundamento:lt.Lei_8213_arts_59_e_19_ss,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{carencia:i.definir("Benefício Não Programado")}},{especie:ce.AposentadoriaPorIncapacidadePermanente,descricao:"Aposentadoria por Incapacidade Permanente",fundamento:lt.Lei_8213_art_42,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{tempo:r.definir({tipo:Pe.Comum,minimo:0}),carencia:i.definir("Benefício Não Programado")}},{especie:ce.AposentadoriaPorIncapacidadePermanenteAcidentaria,descricao:"Aposentadoria por Incapacidade Permanente Acidentária",fundamento:lt.Lei_8213_arts_42_e_19_ss,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{carencia:i.definir("Benefício Não Programado")}},{especie:ce.PensaoPrevidenciaria,descricao:"Aposentadoria por Incapacidade Permanente",fundamento:lt.Lei_8213_art_74,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{tempo:r.definir({tipo:Pe.Comum,minimo:0}),carencia:i.definir("Benefício Não Programado")}},{especie:ce.PensaoAcidentaria,descricao:"Aposentadoria por Incapacidade Permanente Acidentária",fundamento:lt.Lei_8213_art_74_e_19_ss,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{carencia:i.definir("Benefício Não Programado")}},{especie:ce.AuxilioReclusao,descricao:"Auxílio-Reclusão",fundamento:lt.Lei_8213_art_80,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{carencia:i.definir("Benefício Não Programado")}},{especie:ce.AuxilioAcidentePrevidenciario,descricao:"Auxílio-Acidente Previdenciário",fundamento:lt.Lei_8213_art_86,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{carencia:i.definir("Benefício Não Programado")}},{especie:ce.SalarioMaternidade,descricao:"Salário-Maternidade",fundamento:lt.Lei_8213_art_71,inicioVigencia:T.cf88,terminoVigencia:void 0,regraCoeficiente:t.definir("Beneficio Não Programado"),requisitos:{carencia:i.definir("Benefício Não Programado")}}]:[]};class Od{constructor(t){this.dadosCalculo=t;const o=new vr(t),a=new Mp(t),i=new pr(t,o),r=new Cr(t),A=new br(t,o,a),n=new wr(t),s=new gr(t),l=new ui(t);this.requisitos={idade:o,tempo:a,carencia:i,pedagio:r,pontos:A,tempoDeficiencia:n,deficiencia:s,imediatidade:l},this.coeficiente=new Iw(t),this.fator=new _w(t)}requisitos;coeficiente;fator;get dadosSegurado(){return this.dadosCalculo.dadosSegurado}get pcd(){return this.dadosSegurado.tipo===ra.Pcd}get ruricola(){return this.dadosSegurado.tipo===ra.Ruricola}beneficioNaoProgramado(){return ce.BenefíciosNaoProgramados.includes(this.dadosCalculo.especie)}get parametros(){return{dadosCalculo:this.dadosCalculo,requisitos:this.requisitos,coeficiente:this.coeficiente,fator:this.fator}}verificarCumprimentoApos(t,o){const i=new oe(t).competencia().toISOString().slice(0,10);if(o[i]){const r=o[i];return HA(r)}for(const r of Object.keys(o)){const A=o[r];if(me(A)&&A.valueOf()>=t.valueOf())return HA(A)}return HA(t)}apurarDataImplementacaoBeneficio(t,o){const i=Object.entries(t).filter(([,A])=>A!==void 0).filter(([,A])=>me(A.resultado.implementadoEm)).map(([,A])=>A.resultado.implementadoEm);let r=Fa(...i);if(t.idade){const A=t.idade.resultado.implementadoEm;if(A&&!me(A)){const n=this.verificarCumprimentoApos(r,A);n.valueOf()>=r.valueOf()&&(r=n)}}return Fa(r,o)}obter(t){return this.beneficioNaoProgramado()?Vw({...this.parametros}).filter(o=>o.especie===this.dadosCalculo.especie):this.pcd?[...Mw({dataApuracao:t,...this.parametros}),...Tw({...this.parametros})]:this.ruricola?[...Lw({...this.parametros})]:[...Rw({...this.parametros}),...Hw({...this.parametros}),...Ow({...this.parametros}),...$w({...this.parametros})]}apurarRequisitosPostergados(t,o){const{requisitos:a}=t;if(!o.temDireito||!o.naApuracao||!o.naImplementacao?.data)return o;const i=Object.entries(a).filter(([l,c])=>c?.analisePostergada);if(!i.length)return o;const r=o.naApuracao.data,A=i.reduce((l,[c,u])=>{if(!u||!Po(u.metodoAnalise))return l;const{metodoAnalise:d}=u,m=d(r,o);return m&&(l[c]=m),l},{}),n=Object.values(A).every(l=>l.resultado.cumprido),s={...o.naApuracao.valoresApurados,...A};return o.naApuracao.valoresApurados=s,n||(o.temDireito=!1),o}apurarRequisitos(t,o){const{requisitos:a}=t,i={};for(const[A,n]of Object.entries(a)){if(!n||!Po(n.metodoAnalise))continue;const{metodoAnalise:s,analisePostergada:l}=n;if(l)continue;const c=s(o);c&&(i[A]=c)}return{temDireito:Object.values(i).every(A=>A.resultado.cumprido),valoresApurados:i}}calcularDadosImplementacao(t,o,a){const{regraCoeficiente:i,regraFatorPrevidenciario:r}=t,A=this.apurarDataImplementacaoBeneficio(o.naApuracao.valoresApurados,a);this.dadosCalculo.historico.calcularMapa(A);const{temDireito:n,valoresApurados:s}=this.apurarRequisitos(t,A);let l;ie(i)?l={valor:i,nota:""}:Po(i)&&(l=i(s));const c=l;let u;return Po(r)&&(u=r(s)),{temDireito:n,dadosImplementacao:{data:A,valoresApurados:s,coeficiente:c,fatorPrevidenciario:u}}}apurarInconsistencias(t,o,a){if(!a)return"";const i=Object.values(a.valoresApurados).map(r=>r.resultado.inconsistencia?r.rotulo.toLowerCase():void 0).filter(r=>Re(r));if(i.length>0)return`Inconsistência no(s) requisito(s) ${i.join(", ")}.`;if(o){if(me(a.data)&&a.data.valueOf()>t.valueOf())return"Inconsistência na data de implementação."}else return me(a.data)?`A implementação foi estimada em ${a.data.toLocaleDateString("pt-BR")}, mas a DER não pode ser reafirmada para essa data.`:"Inconsistência ao recalcular requisitos na implementação.";return""}percorrerRequisitos(t,o){const{especie:a,descricao:i,fundamento:r,inicioVigencia:A,terminoVigencia:n,regraCoeficiente:s,regraFatorPrevidenciario:l}=t;o=n?ii(n,o):o;const{temDireito:c,valoresApurados:u}=this.apurarRequisitos(t,o);if(!c)return{especie:a,descricao:i,fundamento:r,inicioVigencia:A,terminoVigencia:n,dadosApuracao:{temDireito:c,naApuracao:{data:o,valoresApurados:u}}};let d;ie(s)?d={valor:s,nota:""}:Po(s)&&(d=s(u));let m;Po(l)&&(m=l(u));const g=Object.values(u).map(b=>b.resultado.inconsistencia?b.rotulo.toLowerCase():void 0).filter(b=>Re(b));if(g.length>0){const b=`Inconsistência no(s) requisito(s) ${g.join(", ")}.`;return{especie:a,descricao:i,fundamento:r,inicioVigencia:A,terminoVigencia:n,dadosApuracao:{temDireito:c,naApuracao:{data:o,valoresApurados:u}},alerta:b}}const p=this.apurarDataImplementacaoBeneficio(u,A),f=this.apurarRequisitosPostergados(t,{temDireito:c,naApuracao:{data:o,valoresApurados:u,coeficiente:d,fatorPrevidenciario:m},naImplementacao:{data:p,valoresApurados:{}}});if(!f.temDireito)return{especie:a,descricao:i,fundamento:r,inicioVigencia:A,terminoVigencia:n,dadosApuracao:f};const{temDireito:v,dadosImplementacao:h}=this.calcularDadosImplementacao(t,f,A);f.naImplementacao=h;const B=this.apurarInconsistencias(o,v,h);return{especie:a,descricao:i,fundamento:r,inicioVigencia:A,terminoVigencia:n,dadosApuracao:f,alerta:B}}percorrerRegras(t,o,a,i){return t.filter(A=>{const n=Ea(o,A.inicioVigencia),s=!a||Ea(A.inicioVigencia,a),l=!i||i.includes(A.fundamento);return n&&s&&l}).map(A=>this.percorrerRequisitos(A,o))}filtrarResultados(t){if(!t.length)return[];const o=[],a=t.map(r=>r.fundamento).filter((r,A,n)=>n.indexOf(r)===A),i=[];for(const r of a){const A=t.filter(s=>s.fundamento===r),n=A.filter(s=>s.dadosApuracao.temDireito);if(n.length){if(r===lt.EC_20_art_9&&i.includes(lt.EC_20_art_1_CF_art_201_par_7_I))continue;o.push(n.shift()),i.push(r)}else o.push(...A)}return o}analisar(t){return this.filtrarResultados(this.percorrerRegras(this.obter(t),t))}analisarComFiltros(t,o,a){return this.filtrarResultados(this.percorrerRegras(this.obter(t),t,o,a))}analisarPosterioresEc103(t){return this.analisarComFiltros(t,T.dpe103)}analisarRegrasProgressivasEc103(t){return this.analisarComFiltros(t,void 0,lt.RegrasProgressivasEc103)}analisarPorFundamentos(t,o){return this.analisarComFiltros(t,void 0,o)}reanalisarBeneficio(t){const o=Object.keys(t.dadosApuracao.naApuracao.valoresApurados),a={...t};a.dadosApuracao.naImplementacao=void 0;const i={};let r=!0;for(const n of o){const s=this.requisitos[n];if(!s||!Po(s.recalcular))throw new Error(`Requisito ${n} inválido para reanálise de benefício`);i[n]=s.recalcular(a),i[n].resultado.cumprido||(r=!1)}const A={...a,dadosApuracao:{...a.dadosApuracao,temDireito:r,naApuracao:{...a.dadosApuracao.naApuracao,valoresApurados:i}}};return A.dadosApuracao.naApuracao.coeficiente=this.coeficiente.recalcular(A),A.dadosApuracao.naApuracao.fatorPrevidenciario=this.fator.recalcular(A),A}}class Nw{constructor(t){this.dadosCalculo=t,this.regrasConcessao=new Od(t)}regrasConcessao;get dadosSegurado(){return this.dadosCalculo.dadosSegurado}get historico(){return this.dadosSegurado.historico}get dataApuracao(){return this.dadosCalculo.dataApuracao}get especie(){return this.dadosCalculo.especie}get sexo(){return this.dadosSegurado.sexo}get nascimento(){return this.dadosSegurado.nascimento}calcularNasAlteracoes(){const t={nasAlteracoes:[],fundamentosDivisorMinimo:[]};if(this.dataApuracao.valueOf()>=T.lei9876.valueOf()&&t.nasAlteracoes.push({rotulo:Pi[wt.NaLei9876],resultado:this.regrasConcessao.analisar(T.lei9876).filter(o=>o.dadosApuracao.temDireito&&o.inicioVigencia.valueOf()>=T.dpe20.valueOf()&&o.terminoVigencia&&o.terminoVigencia.valueOf()<=T.dpe103.valueOf())}),this.dataApuracao.valueOf()>=T.elevacaoPontos.valueOf()&&!this.dadosSegurado.pcd&&!this.dadosSegurado.ruricola&&(this.especie===ce.AposentadoriaPorTempoDeContribuicao||this.especie===ce.AposentadoriaPorTempoDeServicoProfessor)&&t.nasAlteracoes.push({rotulo:Pi[wt.NaRegraDePontosParaFator],resultado:this.regrasConcessao.analisar(T.elevacaoPontos).filter(o=>o.dadosApuracao.temDireito&&o.dadosApuracao.naApuracao.fatorPrevidenciario?.aplicar===!1)}),this.dataApuracao.valueOf()>=T.dpe103.valueOf()&&(this.dadosSegurado.pcd||this.dadosSegurado.ruricola)){const o=this.dadosSegurado.pcd?[...lt.PCD]:[],a=this.dadosSegurado.ruricola?[...lt.RuricolaPuro]:[];t.nasAlteracoes.push({rotulo:Pi[wt.DireitoAdquiridoAntesEc103],resultado:this.regrasConcessao.analisarPorFundamentos(T.dpe103,[...o,...a]).filter(i=>i.dadosApuracao.temDireito)})}return this.dataApuracao.valueOf()>T.divisorMinimo.valueOf()&&t.nasAlteracoes.push({rotulo:Pi[wt.NoRestabelecimentoDoDivisorMinimo],resultado:this.regrasConcessao.analisarPosterioresEc103(T.divisorMinimo).filter(o=>o.dadosApuracao.temDireito&&(o.inicioVigencia.valueOf()>=T.dpe103.valueOf()||o.inicioVigencia.valueOf()===T.lc142.valueOf()&&this.dadosSegurado.pcd)?(t.fundamentosDivisorMinimo.push(o.fundamento),!0):!1)}),t}calcularRegrasProgressivas(t){if(!Ea(this.dataApuracao,T.dpe103))return{regrasProgressivas:[],possivelReafirmacao:[],beneficiosDivisorMinimo:[]};const o=[],a=[],i=Object.entries(T.transicoesEc103).filter(([r])=>Number(r)<this.dataApuracao.getFullYear());for(const[r,A]of i){const n={rotulo:`Análise Regras Progressivas EC 103/19 em 31/12/${r}`,cumpridos:[],possivelReafirmacao:[]},s=this.regrasConcessao.analisarRegrasProgressivasEc103(A),{cumpridos:l,possivelReafirmacao:c,divisorMinimo:u}=lw({beneficios:s,dataReferencia:A,dadosCalculo:this.dadosCalculo,fundamentos:t});n.cumpridos.push(...l),n.possivelReafirmacao.push(...c),a.push(...u),n.cumpridos.length&&o.push(n)}return{regrasProgressivas:o,beneficiosDivisorMinimo:a}}executar(){const t={cumpridos:[],naoCumpridos:[],possivelReafirmacao:[],regrasProgressivas:[],nasAlteracoes:[]},o={der:[],derReafirmada:[],possivelReafirmacao:[],divisorMinimo:[],progressivas:{der:[],derReafirmada:[],divisorMinimo:[]}},a=this.regrasConcessao.analisar(this.dataApuracao),i=ow(a,this.dadosCalculo);t.cumpridos=i.cumpridos,t.naoCumpridos=i.naoCumpridos,t.possivelReafirmacao=i.possivelReafirmacao,o.der=i.fundamentos.der,o.derReafirmada=i.fundamentos.derReafirmada,o.possivelReafirmacao=i.fundamentos.possivelReafirmacao;const{nasAlteracoes:r,fundamentosDivisorMinimo:A}=this.calcularNasAlteracoes();t.nasAlteracoes=r,o.divisorMinimo=A;const{regrasProgressivas:n,beneficiosDivisorMinimo:s}=this.calcularRegrasProgressivas(o);if(t.regrasProgressivas=n,Aa(this.dataApuracao,T.divisorMinimo)&&s.length)for(const l of s)o.divisorMinimo.includes(l.fundamento)||(t.nasAlteracoes.push({rotulo:Pi[wt.NaMudancaDasRegrasProgressivasSemDivisorMinimo],resultado:[l]}),o.divisorMinimo.push(l.fundamento));return t}apurarRuricola(){const t=this.historico.analisarRural(this.dataApuracao,this.sexo,this.nascimento,this.especie),o=this.executar();return{...t,beneficios:o}}apurarPcd(){const t=this.historico.analisarPcd(this.dataApuracao,this.sexo,this.nascimento,this.especie),o=this.executar();return{...t,beneficios:o}}apurarEspecial(){const t=this.historico.analisarEspecial(this.dataApuracao,this.sexo,this.nascimento),o=this.executar();return{...t,beneficios:o}}apurarComum(){const t=this.historico.analisarComum(this.dataApuracao,this.sexo,this.nascimento,this.especie),o=this.executar();return{...t,beneficios:o}}apurar(){const{dataApuracao:t,der:o,derReafirmada:a}=this.dadosCalculo,i=t.valueOf()===o.valueOf(),r=me(a)?t.valueOf()===a.valueOf():!1;let A=!0;i?A=o>=T.dpe103:r&&(A=me(a)&&a>=T.dpe103);const n=this.historico.periodosContribuicao.temVinculoEm(T.dpe103),s=this.dadosCalculo.opcoesAposEc103.excluirCompetenciasAbaixoDoMinimo,l=this.dadosCalculo.opcoesAposEc103.excluirCompetenciasAbaixoDoMinimo&&!this.dadosCalculo.temSalarios,c=s&&l&&n&&A;return this.dadosSegurado.pcd?{...this.apurarPcd(),alertaSobreAusenciaDeAnaliseDosSalarios:c}:this.dadosSegurado.ruricola?{...this.apurarRuricola(),alertaSobreAusenciaDeAnaliseDosSalarios:c}:this.especie===ce.AposentadoriaEspecial?{...this.apurarEspecial(),alertaSobreAusenciaDeAnaliseDosSalarios:c}:{...this.apurarComum(),alertaSobreAusenciaDeAnaliseDosSalarios:c}}apurarGrupos(t=!1){const{dadosSegurado:o,especie:a}=this.dadosCalculo,{tipo:i}=o;if(!ce.AposentadoriasProgramadas.includes(a))return[{tipo:i,especie:a,resultado:this.apurar()}];const r=[];this.dadosSegurado.tipo=ra.Comum;for(const A of ce.AposentadoriasProgramadas)!t&&A===ce.AposentadoriaEspecial&&!this.dadosSegurado.historico.temPeriodoEspecial(this.dataApuracao)||!t&&A===ce.AposentadoriaPorTempoDeServicoProfessor&&!this.dadosSegurado.historico.temPeriodoMagisterio(this.dataApuracao)||(this.dadosCalculo.especie=A,r.push({tipo:ra.Comum,especie:A,resultado:this.apurar()}));if((t||this.dadosSegurado.historico.temPeriodoRural(this.dataApuracao))&&(this.dadosSegurado.tipo=ra.Ruricola,this.dadosCalculo.especie=ce.AposentadoriaPorIdade,r.push({tipo:ra.Ruricola,especie:ce.AposentadoriaPorIdade,resultado:this.apurar()})),t||this.dadosSegurado.historico.temPeriodoPcd(this.dataApuracao)){this.dadosSegurado.tipo=ra.Pcd;for(const A of ce.AposentadoriasProgramadas)A!==ce.AposentadoriaEspecial&&A!==ce.AposentadoriaPorTempoDeServicoProfessor&&(this.dadosCalculo.especie=A,r.push({tipo:ra.Pcd,especie:A,resultado:this.apurar()}))}return this.dadosSegurado.tipo=i,this.dadosCalculo.especie=a,r}reapurarBeneficios(t){const o=new Od(this.dadosCalculo);return t.map(a=>o.reanalisarBeneficio(a))}}var Zl=(e=>(e[e.VencidasMais12Vincendas=0]="VencidasMais12Vincendas",e[e.ApenasVencidas=1]="ApenasVencidas",e[e.VencidasMaisVincendasApuradasAte12=2]="VencidasMaisVincendasApuradasAte12",e))(Zl||{});(e=>{e.API={VENCIDAS_MAIS_12_VINCENDAS:0,APENAS_VENCIDAS:1,VENCIDAS_MAIS_VINCENDAS_APURADAS_ATE_12:2};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"VENCIDAS_MAIS_12_VINCENDAS"}e.obterValorApi=t;const o={0:"Vencidas + 12 vincendas",1:"Apenas vencidas",2:"Vencidas + vincendas apuradas até 12"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(Zl||(Zl={}));var ec=(e=>(e[e.NaoApurar=0]="NaoApurar",e[e.ValorDaCondenacao=1]="ValorDaCondenacao",e[e.ValorDaCausa=2]="ValorDaCausa",e[e.ValorArbitrado=3]="ValorArbitrado",e))(ec||{});(e=>{e.API={NAO_APURAR:0,VALOR_DA_CONDENACAO:1,VALOR_DA_CAUSA:2,VALOR_ARBITRADO:3};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"NAO_APURAR"}e.obterValorApi=t;const o={0:"Não Apurar",1:"Valor da Condenação",2:"Valor da Causa",3:"Valor Arbitrado"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(ec||(ec={}));var tc=(e=>(e[e.NaoApurar=0]="NaoApurar",e[e.ValorDaCondenacao=1]="ValorDaCondenacao",e[e.ValorDaCausa=2]="ValorDaCausa",e[e.ValorArbitrado=3]="ValorArbitrado",e))(tc||{});(e=>{e.API={NAO_APURAR:0,VALOR_DA_CONDENACAO:1,VALOR_DA_CAUSA:2,VALOR_ARBITRADO:3};function t(r){for(const[A,n]of Object.entries(e.API))if(n===r)return A;return"NAO_APURAR"}e.obterValorApi=t;const o={0:"Não Apurar",1:"Valor da Condenação",2:"Valor da Causa",3:"Valor Arbitrado"};function a(){return Fo(e,o)}e.obterOpcoes=a;function i(r){return o[r]}e.obterRotulo=i})(tc||(tc={}));var nn=(e=>(e[e.ComputoSalario=0]="ComputoSalario",e[e.ApuracaoValorDevido=1]="ApuracaoValorDevido",e[e.ApuracaoValorDescontado=2]="ApuracaoValorDescontado",e))(nn||{});class qw extends cu{constructor(t){super(t),this.props=t,this._finalidade=this.validarFinalidade(this.props.finalidade),this._especie=this.validarEspecie(this.props.especie),this._dib=this.validarDib(this.props.dib),this._nb=Re(this.props.nb)?this.props.nb:"",this._dcb=this.validarDcb(this.props.dcb),this._dadosRmi=this.validarDadosRmi(this.props.dadosRmi),this._dadosReajuste=this.validarDadosReajuste(this.especie,this.props.dadosReajuste),this._acumulacaoEc103=this.inicializarPropriedadeBooleana(this.props.acumulacaoEc103,!1),this._reconstituirDescontoAdmAcumulacao=this.inicializarPropriedadeBooleana(this.props.reconstituirDescontoAdmAcumulacao,!1),this._limitarDescontos=this.inicializarPropriedadeBooleana(this.props.limitarDescontos,!1),this._computarSomenteComSalario=this.inicializarPropriedadeBooleana(this.props.computarSomenteComSalario,!0),this._excluido=this.inicializarPropriedadeBooleana(this.props.excluido,!1),this._dependentes=ce.BeneficiariosDependentes.includes(this.especie)?{...this.props.dependentes}:{},this._observacao=Re(this.props.observacao)?this.props.observacao:"",this._dadosDerivado=this.validarDadosDerivado(this.props.dadosDerivado),this._dadosOriginario=this.validarDadosOriginario(this.props.dadosDerivado,this.props.dadosOriginario)}_finalidade;_especie;_nb;_dib;_dcb;_dadosRmi;_dadosReajuste;_acumulacaoEc103;_reconstituirDescontoAdmAcumulacao;_limitarDescontos;_computarSomenteComSalario;_dependentes;_observacao;_dadosDerivado;_dadosOriginario;_excluido;validarFinalidade(t){if(nn[t]===void 0)throw new TypeError('Parâmetro "finalidade" inválido');return t}validarEspecie(t){if(ce[t]===void 0)throw new TypeError('Parâmetro "espécie" inválido');return t}validarDib(t){const o=xt(t);if(!me(o)||o.valueOf()<new oe("01/10/1964").nativo().valueOf())throw new TypeError("DIB inválida");return o}validarDcb(t){if(!t)return;const o=xt(t);if(!me(o))throw new TypeError("DCB inválida");if(o.valueOf()<this._dib.valueOf())throw new TypeError("DCB inválida: deve ser igual ou posterior à DIB");return o}inicializarPropriedadeBooleana(t,o){return Ca(t)?t:o}validarDadosRmi(t){const o={...t};if(!ie(t.valor)||t.valor<0)throw new TypeError("RMI inválida: é obrigatório especificar um valor para o benefício independente");if(ie(t.sb)&&t.sb<0)throw new TypeError("Salário de benefício inválido");if(ie(t.irt)&&t.irt<1)throw new TypeError("Índice de reposição do teto inválido");if(ie(t.coeficiente)&&t.coeficiente<=0)throw new TypeError("Coeficiente inválido");return o}validarDadosReajuste(t,o){const a={...o};return this.validarInicioAdicional25PorCento(t,o,a),this.validarComputarAPartirDe(o,a),a.utilizarComputarAPartirDeParaAbono=this.inicializarPropriedadeBooleana(o.utilizarComputarAPartirDeParaAbono,!1),a.aplicarOs121=this.inicializarPropriedadeBooleana(o.aplicarOs121,!0),a.aplicarReajuste147EmSet91=this.inicializarPropriedadeBooleana(o.aplicarReajuste147EmSet91,!0),a.rendaSalarioMinimo=this.inicializarPropriedadeBooleana(o.rendaSalarioMinimo,!1),a.anteciparAbono=this.inicializarPropriedadeBooleana(o.anteciparAbono,!1),this.validarParametrosNumericos(o,a),this.validarReferenciaPrimeiroReajuste(o,a),this.validarCriterioApuracaoAbono(o,a),this.validarCriterioRendaSalarioMinimo(o,t),a}validarInicioAdicional25PorCento(t,o,a){const i=xt(o.inicioAdicional25PorCento);if(a.inicioAdicional25PorCento){if(!(t===ce.AposentadoriaPorIncapacidadePermanente||t===ce.AposentadoriaPorIncapacidadePermanenteAcidentaria))throw new TypeError("O adicional de 25% é válido apenas para Aposentadoria por Incapacidade");if(!me(i))throw new TypeError("Início adicional de 25% inválido");if(na(i,this.dib)||this.dcb&&Aa(i,this.dcb))throw new TypeError("Início adicional de 25% deve estar entre a DIB e a DCB");a.inicioAdicional25PorCento=i}}validarComputarAPartirDe(t,o){const a=xt(t.computarAPartirDe);if(a){if(!me(a))throw new TypeError("Termo inicial dos efeitos financeiros inválido");if(na(a,this._dib))throw new TypeError(`Data de início da contagem inválida: deve ser igual ou posterior a ${this._dib.toLocaleDateString("pt-BR")}`);if(this._dcb&&Aa(a,this._dcb))throw new TypeError(`Data de início da contagem inválida: deve ser igual ou anterior a ${this._dcb.toLocaleDateString("pt-BR")}`);o.computarAPartirDe=a}}validarParametrosNumericos(t,o){if(t.percentualPiso&&(t.percentualPiso>1||t.percentualPiso<0))throw new TypeError("Parâmetro 'percentual de redução do piso' inválido: deve ser entre 0 e 1");if(t.equivalenciaSalarial&&(!ie(t.equivalenciaSalarial)||t.equivalenciaSalarial<0))throw new TypeError("Parâmetro 'equivalência salarial' inválido");o.percentualPiso=t.percentualPiso,o.equivalenciaSalarial=t.equivalenciaSalarial}validarReferenciaPrimeiroReajuste(t,o){if(t.referenciaPrimeiroReajuste){const a=xt(t.referenciaPrimeiroReajuste);if(!xt(t.referenciaPrimeiroReajuste))throw new TypeError("Referência 1º reajuste (DIB Ant.) inválida");if(!me(a))throw new TypeError("Termo inicial dos efeitos financeiros inválido");if(Ea(a,this._dib))throw new TypeError(`Referência 1º reajuste (DIB Ant.) inválida: deve ser igual ou anterior a ${this._dib.toLocaleDateString("pt-BR")}`);if(a&&this.dadosOriginario)throw new TypeError("Não é possível definir Referência 1º reajuste (DIB Ant.) para benefício derivado");o.referenciaPrimeiroReajuste=a}}validarCriterioApuracaoAbono(t,o){if(t.criterioApuracaoAbono&&jA[t.criterioApuracaoAbono]===void 0)throw new TypeError("Critério inválido para apuração do abono");o.criterioApuracaoAbono=t.criterioApuracaoAbono}validarCriterioRendaSalarioMinimo(t,o){if((!(ce.BpcLoas.includes(o)||ce.BeneficiosRuricola.includes(o))||ce.AuxilioAcidente.includes(o))&&t.rendaSalarioMinimo===!0)throw new TypeError("Critério 'Rural renda salário mínimo' inválido para espécie selecionada")}validarDadosDerivado(t){if(t){if(!t.id)throw new TypeError("Benefício derivado inválido: é obrigatório especificar um ID");if(this.id===t.id)throw new TypeError("Benefício derivado inválido: não pode ser igual ao benefício originário");return t}}validarDadosOriginario(t,o){if(!(t||!o)){if(!o?.id)throw new TypeError("Benefício originário inválido: é obrigatório especificar um ID");if(this.id===o.id)throw new TypeError("Benefício originário inválido: não pode ser igual ao benefício derivado");return o}}get bpcLoas(){return ce.BpcLoas.includes(this.especie)}get rendaSalarioMinimo(){if(this.bpcLoas||this.especie===ce.AuxilioReclusao&&this.posteriorEc103)return!0;const t=ce.BeneficiosRuricola.includes(this.especie);return ce.AuxilioAcidente.includes(this.especie)||!t?!1:this.dadosOriginario?.dadosReajuste.rendaSalarioMinimo??this._dadosReajuste.rendaSalarioMinimo===!0}get pensao(){return this.especie===ce.PensaoAcidentaria||this.especie===ce.PensaoPrevidenciaria}get finalidade(){return this._finalidade}get especie(){return this._especie}get nb(){return this._nb}get dib(){return this._dib}get dcb(){return this._dcb}get baseReajuste(){return this._dadosRmi.baseReajuste}get valor(){return this._dadosRmi.valor}get rmi(){return this.valor}get equivalenciaSalarial(){return this._dadosReajuste.equivalenciaSalarial}get irt(){return this._dadosRmi.irt}get sb(){return this._dadosRmi.sb}get coeficiente(){return this._dadosRmi.coeficiente}get inicioAdicional25PorCento(){return me(this._dadosReajuste.inicioAdicional25PorCento)?this._dadosReajuste.inicioAdicional25PorCento:void 0}get percentualPiso(){return this._dadosReajuste.percentualPiso??1}get limitarBaseReajuste(){return this._dadosReajuste.limitarBaseReajuste}get computarAPartirDe(){return this._dadosReajuste.computarAPartirDe}get utilizarComputarAPartirDeParaAbono(){return this._dadosReajuste.utilizarComputarAPartirDeParaAbono??!1}get aplicarOs121(){return(this._dadosReajuste.aplicarOs121??!1)&&Ea(xt(this.dadosOriginario?.dib??this.dib)??this.dib,T.cf88)&&bo(xt(this.dadosOriginario?.dib??this.dib)??this.dib,T.terminoBuracoVerde)}get aplicarReajuste147EmSet91(){return(this._dadosReajuste.aplicarReajuste147EmSet91??!1)&&this.aplicarOs121&&bo(xt(this.dadosOriginario?.dib??this.dib)??this.dib,new oe("01/09/1991").nativo())}get referenciaPrimeiroReajuste(){if(!(!this._dadosReajuste.referenciaPrimeiroReajuste||this.souDerivado))return xt(this._dadosReajuste.referenciaPrimeiroReajuste)}get anteciparAbono(){return this._dadosReajuste.anteciparAbono===!0}get criterioApuracaoAbono(){return this._dadosReajuste.criterioApuracaoAbono}get dadosDerivado(){return this._dadosDerivado}get dadosOriginario(){return this._dadosOriginario}get souOriginario(){return this.dadosOriginario===void 0}get souDerivado(){return!!this.dadosOriginario}get acumulacaoEc103(){return this._acumulacaoEc103}get reconstituirDescontoAdmAcumulacao(){return this._reconstituirDescontoAdmAcumulacao&&this._finalidade===2&&ce.AcumulacaoEC103.includes(this.especie)}get limitarDescontos(){return this._limitarDescontos&&this._finalidade===2}get computarSomenteComSalario(){return this._computarSomenteComSalario}get dependentes(){return this._dependentes}get listaDependentes(){return ce.BeneficiariosDependentes.includes(this.especie)?Object.values(this.dependentes):[]}get observacao(){return this._observacao}get excluido(){return this._excluido}set excluido(t){this._excluido=t}get posteriorEc103(){return this.dib.valueOf()>=T.dpe103.valueOf()}get inicioEfeitosFinanceiros(){return this.computarAPartirDe??this.dib}}function Np(e){return na(xt(e.dadosOriginario?.dib??e.dib)??e.dib,T.cf88)}function kw(e,t){const o=e.souDerivado?e.dadosOriginario?.dadosRmi.irt:e.irt;return ie(o)&&o>1&&bo(t,T.primeiroIrtRetroativo)&&ar(t,T.terminoBuracoNegro,T.terminoRetroacaoIrt)}function Kw(e){return ar(e,Xo(T.inicioEfeitosArt58Adct),Xo(T.terminoEfeitosArt58Adct))}function qp(e){return e.dadosOriginario?xt(e.dadosOriginario.dib)??e.dib:e.dib}function zw(e,t){return e.dcb?e.dcb:ua(ir())}function Gw(e,t,o){const a=Ea(t,T.cf88),i=na(t,T.terminoBuracoNegro),r=na(e,T.terminoBuracoVerde);return a&&i&&r?!1:o.limitarBaseReajuste??!0}function oc(e){return e.baseReajuste===Rr.SbOriginario||e.finalidade===nn.ComputoSalario&&!ce.AuxilioAcidente.includes(e.especie)&&e.especie!==ce.SalarioMaternidade}function jw(e){return e.souDerivado&&e.baseReajuste!==Rr.BeneficioIndependente}function kp(e,t){const o=ie(t.percentualPiso)?t.percentualPiso:.5;return ce.AuxilioAcidente.includes(t.especie)?vt.multiplicarMoeda(e,o):e}function Kp(e){return jw(e)?oc(e)?e.dadosOriginario?.dadosRmi?.sb??0:e.dadosOriginario?.dadosRmi?.valor??0:oc(e)?e.sb??0:e.valor??0}const Ww=vt.multiplicarComPrecisao({casas:10});function Jw(e){const{inicio:t,data:o,primeiraDataBase:a,beneficio:i,valorAtual:r,aplicarArt58Adct:A,aplicarIrtEmAbril1994:n,equivalenciaSalarial:s}=e,l=Ea(t,T.inicioIrtLei8880);let{baseReajuste:c,indice:u,piso:d,teto:m}=e;const g=Xo(o),p=r,f=1,v=1,h=1,B=!1,b=kp(d,i),Q=i.souDerivado?i.dadosOriginario?.dadosRmi.irt:i.irt;let y=!1;i.rendaSalarioMinimo?(u=1,c=d):A&&Kw(o)?(u=1,c=vt.multiplicarMoeda(d,s??0)):n&&da(o,T.primeiroIrtRetroativo)?(y=ie(Q)&&Q>1,c=vt.multiplicarMoeda(c,Q??1)):a?(!n&&l&&(y=ie(Q)&&Q>1,u=Ww(u,Q??1)),c=vt.multiplicarMoeda(c,u)):c=vt.multiplicarMoeda(c,u);let I=c;return ie(b)&&c>0&&c<b?I=b:ie(m)&&c>m&&!A&&(I=m,Gw(o,t,i)&&(c=Math.min(m,c))),{competencia:g,data:o,valorAnterior:p,indice:u,aplicouIndiceReposicao:y,baseReajuste:c,valorAtualIntegral:I,coeficiente:f,valorComCoeficiente:I,rateio:v,valorComRateio:I,proporcaoRenda:h,valorComProporcao:I,adicional25PorCento:0,adicional25PorCentoIntegral:0,valorFinal:I,rendaComAdicional:I,rendaParaAcumulacao:I,computouAbono:B,piso:b,teto:m}}function Xw(e,t,o){const a=Kp(e);if(a===0)return{valor:0,valorNaoLimitado:0};const i=kp(t,e),r=e.rendaSalarioMinimo,n=oc(e)&&e.souDerivado?e.coeficiente??0:1,s=r?t:Math.max(i,Math.min(a,o))*n,l=r?t:Math.max(i,a*n);return{valor:s,valorNaoLimitado:l}}function Yw(e,t){const o=qp(e);if(Ea(o,T.cf88)||t===0)return;const a=Kp(e);return Ut(a/t,4)}function Zw(e){const{servicoIndices:t,beneficio:o,inicio:a,termino:i,aplicarIrtEmAbril1994:r}=e,A=o.aplicarOs121,n=o.aplicarReajuste147EmSet91,s=o.souDerivado&&o.dadosOriginario?.dadosReajuste.referenciaPrimeiroReajuste?xt(o.dadosOriginario?.dadosReajuste.referenciaPrimeiroReajuste):o.referenciaPrimeiroReajuste,l=s??a;let c=Array.from(t.servicoReajuste.obterIndicesReajusteBeneficio({inicio:l,termino:i},A,n).entries());if(s){const f=c.findIndex(([v])=>Aa(v,a));f>=0?c.splice(0,f):c=[]}const u=Xo(T.dpe20),d=Xo(T.dpe41,1),m=a.valueOf()<=u.valueOf()&&i.valueOf()>=u.valueOf(),g=a.valueOf()<=d.valueOf()&&i.valueOf()>=d.valueOf(),p=[];return o.rendaSalarioMinimo?tr(a,i).forEach(f=>{p.push([f,1])}):Np(o)&&tr(T.inicioEfeitosArt58Adct,T.terminoEfeitosArt58Adct).forEach(f=>{p.push([f,1])}),r&&p.push([T.primeiroIrtRetroativo,1]),m&&p.push([u,1]),g&&p.push([d,1]),Array.prototype.concat(c,p).sort((f,v)=>f[0].valueOf()-v[0].valueOf()).map(([f,v])=>{const h=c.length&&c[0]?.length?c[0][0].valueOf()===f.valueOf():!1;return{data:f,primeiraDataBase:h,indice:v}})}function e1(e){const{servicoIndices:t,servicoLimites:o,beneficio:a}=e,i=qp(a),r=zw(a),A=o.obterValorTeto(i)??0,n=o.obterValorPiso(i)??0,s=a.equivalenciaSalarial??Yw(a,n),{valor:l,valorNaoLimitado:c}=Xw(a,n,A);let u=a.limitarBaseReajuste?l:c,d=l;if(a.dcb&&da(a.dib,a.dcb))return[];const m=Np(a)&&ie(s),g=kw(a,i);return Zw({servicoIndices:t,beneficio:a,inicio:i,termino:r,aplicarIrtEmAbril1994:g}).map(({data:p,indice:f,primeiraDataBase:v})=>{const h=o.obterValorPiso(p)??u,B=o.obterValorTeto(p)??u,b=Jw({inicio:i,data:p,primeiraDataBase:v,indice:f,piso:h,teto:B,beneficio:a,valorAtual:d,baseReajuste:u,aplicarArt58Adct:m,aplicarIrtEmAbril1994:g,equivalenciaSalarial:s});return u=b.baseReajuste,d=b.valorAtualIntegral,b})}vt.multiplicarComPrecisao({casas:2});vt.somarComPrecisao({casas:2});function t1({dataInicial:e,dataFinal:t,competencia:o,computarPrimeiraCompetencia:a,computarUltimaCompetencia:i}){const r=da(e,t),A=da(o,e);return r?!a||!i?0:o1(e,t,o):A?a?30-e.getDate()+1:0:i?t.valueOf()===ua(t).valueOf()?30:Math.min(t.getDate(),30):0}function o1(e,t,o){return o.getMonth()===1?e.getDate()===1&&t.getDate()===ql(o.getFullYear())?30:t.getDate()===ql(o.getFullYear())?30-e.getDate()+1:t.getDate()-e.getDate()+1:Math.min(Math.min(t.getDate(),30)-e.getDate()+1,30)}function a1({dataInicial:e,dataFinal:t,competencia:o,computarPrimeiraCompetencia:a,ate:i}){const r=da(e,t),A=da(o,e),n=da(t,i),s=da(o,T.dpe103)?17:30;return r?a?n?da(o,T.dpe103)?Math.min(i.getDate()-13,s):Math.min(i.getDate(),s):s:0:A?a?s:0:n?Math.min(i.getDate(),s):s}function La(...e){return vt.multiplicar(...e)}function i1(){return{simples:0,magisterio:0,rural:0,comum:0,trabalhadoComoPcd:0,grave:0,moderada:0,leve:0,especial15:0,especial20:0,especial25:0,convertidoPara:{comum:0,comumPcd41:0,comumPcd41ComDeficiencia:0,especial15:0,especial20:0,especial25:0,grave:0,moderada:0,leve:0,modificador:void 0},paraPontos:{comum:0,preponderante15:0,preponderante20:0,preponderante25:0},fatores:{comum:1,comumPcd41:1,especial15:1,especial20:1,especial25:1,grave:1,moderada:1,leve:1,modificador:void 0}}}function r1(e,t,o,a,i){const r=Qe.obterFatorConversao(a,Qe.Comum,o),A=ke.obterFatorConversao(i,ke.SemDeficiencia,o);e.fatores.comum=t?Math.max(r,A):A,e.fatores.comumPcd41=t?r:1,e.convertidoPara.comum=La(e.simples,e.fatores.comum),e.convertidoPara.comumPcd41=La(e.simples,e.fatores.comumPcd41),e.convertidoPara.comumPcd41ComDeficiencia=i===ke.SemDeficiencia?0:e.convertidoPara.comumPcd41,e.paraPontos.comum=e.convertidoPara.comum,e.paraPontos.preponderante15=e.simples,e.paraPontos.preponderante20=e.simples,e.paraPontos.preponderante25=e.simples}function A1(e,t){const o=Qe.obterFatoresConversaoEspecial(Qe.Especial15),a=Qe.obterFatoresConversaoEspecial(Qe.Especial20),i=Qe.obterFatoresConversaoEspecial(Qe.Especial25);t===Qe.Especial15?(e.especial15=e.simples,e.convertidoPara.especial15=e.simples,e.fatores.especial20=a.fator15,e.fatores.especial25=i.fator15,e.convertidoPara.especial20=La(e.fatores.especial20,e.simples),e.convertidoPara.especial25=La(e.fatores.especial25,e.simples),e.paraPontos.preponderante20=e.convertidoPara.especial20,e.paraPontos.preponderante25=e.convertidoPara.especial25):t===Qe.Especial20?(e.especial20=e.simples,e.convertidoPara.especial20=e.simples,e.fatores.especial15=o.fator20,e.fatores.especial25=i.fator20,e.convertidoPara.especial15=La(e.fatores.especial15,e.simples),e.convertidoPara.especial25=La(e.fatores.especial25,e.simples),e.paraPontos.preponderante15=e.convertidoPara.especial15,e.paraPontos.preponderante25=e.convertidoPara.especial25):t===Qe.Especial25&&(e.especial25=e.simples,e.convertidoPara.especial25=e.simples,e.fatores.especial15=o.fator25,e.fatores.especial20=i.fator25,e.convertidoPara.especial15=La(e.fatores.especial15,e.simples),e.convertidoPara.especial20=La(e.fatores.especial20,e.simples),e.paraPontos.preponderante15=e.convertidoPara.especial15,e.paraPontos.preponderante20=e.convertidoPara.especial20)}function n1(e,t,o,a,i){const r=ke.obterFatoresConversao(ke.Grave,o),A=ke.obterFatoresConversao(ke.Moderado,o),n=ke.obterFatoresConversao(ke.Leve,o);a===ke.SemDeficiencia?(e.fatores.grave=r.fatorPcdComum,e.fatores.moderada=A.fatorPcdComum,e.fatores.leve=n.fatorPcdComum):a===ke.Grave?(e.grave=e.simples,e.fatores.moderada=A.fatorPcdGrave,e.fatores.leve=n.fatorPcdGrave,e.trabalhadoComoPcd=e.simples):a===ke.Moderado?(e.moderada=e.simples,e.fatores.grave=r.fatorPcdModerada,e.fatores.leve=n.fatorPcdModerada,e.trabalhadoComoPcd=e.simples):a===ke.Leve&&(e.leve=e.simples,e.fatores.grave=r.fatorPcdLeve,e.fatores.moderada=A.fatorPcdLeve,e.trabalhadoComoPcd=e.simples),t&&(i===Qe.Especial15?(e.fatores.grave=Math.max(e.fatores.grave,r.fatorPcd15),e.fatores.moderada=Math.max(e.fatores.moderada,A.fatorPcd15),e.fatores.leve=Math.max(e.fatores.leve,n.fatorPcd15)):i===Qe.Especial20?(e.fatores.grave=Math.max(e.fatores.grave,r.fatorPcd20),e.fatores.moderada=Math.max(e.fatores.moderada,A.fatorPcd20),e.fatores.leve=Math.max(e.fatores.leve,n.fatorPcd20)):i===Qe.Especial25&&(e.fatores.grave=Math.max(e.fatores.grave,r.fatorPcd25),e.fatores.moderada=Math.max(e.fatores.moderada,A.fatorPcd25),e.fatores.leve=Math.max(e.fatores.leve,n.fatorPcd25))),e.convertidoPara.grave=La(e.fatores.grave,e.simples),e.convertidoPara.moderada=La(e.fatores.moderada,e.simples),e.convertidoPara.leve=La(e.fatores.leve,e.simples)}function zp({periodo:e,sexo:t,tempoEmDias:o,computarTempoComum:a=!0}){const i=i1();i.simples=o,i.comum=a?i.simples:0,i.fatores.modificador=e.fatorConversaoModificado??void 0,i.convertidoPara.modificador=ie(i.fatores.modificador)?La(i.simples,i.fatores.modificador):void 0;const r=e.dataFinal.valueOf()<=T.dpe103.valueOf();return i.fatores.modificador=e.fatorConversaoModificado,r1(i,r,t,e.formaContagem,e.grauDeficiencia),A1(i,e.formaContagem),n1(i,r,t,e.grauDeficiencia,e.formaContagem),i.magisterio=e.formaContagem===Qe.Magisterio?i.simples:0,i.rural=Qe.grupos.somenteRural.includes(e.formaContagem)?i.simples:0,i}class wu extends cu{constructor(t){super(t),this.props=t;const o=xt(t.dataInicial);if(!me(o))throw new TypeError("Data inicial inválida");this._dataInicial=o;const a=xt(this.props.dataFinal);if(!me(a))throw new TypeError("Data final inválida");if(this._dataFinal=a,this.dataFinal.valueOf()<this.dataInicial.valueOf())throw new Error(`Data final (${this.dataFinal.toLocaleDateString("pt-BR")}) anterior à data inicial (${this.dataInicial.toLocaleDateString("pt-BR")})`);if(!Ca(this.props.excluido))throw new TypeError("Parâmetro 'excluído' inválido");this._excluido=this.props.excluido,this._observacao=Re(this.props.observacao)?this.props.observacao:""}_dataInicial;_dataFinal;_observacao;_excluido;get dataInicial(){return this._dataInicial}get dataFinal(){return this._dataFinal}get observacao(){return this._observacao}get excluido(){return this._excluido}dataFinalLimitada(t){return this.dataFinal.valueOf()>t.valueOf()?ma(t):this.dataFinal}emDias(t){return this.dataInicial.valueOf()>t.valueOf()?0:vi(this.dataInicial,this.dataFinalLimitada(t),so.Dias)+1}emDias360(t){return this.dataInicial.valueOf()>t.valueOf()?0:Zc(this.dataInicial,this.dataFinalLimitada(t),mf.USNasd)+1}concomitante(t){const o=this.dataInicial.valueOf()<=t.dataInicial.valueOf(),a=o?this:t,i=o?t:this;return a.dataInicial.valueOf()<=i.dataFinal.valueOf()&&i.dataInicial.valueOf()<=a.dataFinal.valueOf()}contidoEm(t){return this.dataInicial.valueOf()>=t.dataInicial.valueOf()&&this.dataFinal.valueOf()<=t.dataFinal.valueOf()}contem(t){if(!me(t))throw new TypeError("Data inválida");return this.dataInicial.valueOf()<=t.valueOf()&&t.valueOf()<=this.dataFinal.valueOf()}toString(){return`${this.dataInicial.toLocaleDateString("pt-BR")} - ${this.dataFinal.toLocaleDateString("pt-BR")}`}}class s1 extends wu{constructor(t){super(t),this.props=t,this._seq=ie(t.seq)?t.seq:void 0,this._naturezaVinculo=this.inicializarNaturezaVinculo(t),this._formaContagem=this.inicializarFormaContagem(t),this._pesoCustomizado=this.initializarPesoCustomizado(t),this._contarCarencia=this.inicializarContarCarencia(t),this._motivoContagem=this.inicializarMotivoContagem(t),this._prioritario=this.inicializarPrioritario(t),this._computavelDesde=this.inicializarComputavelDesde(t),this._fatorConversaoModificado=this.inicializarFatorConversaoModificado(t),this._grauDeficiencia=this.inicializarGrauDeficiencia(t),this._descricao=this.props.descricao??"",this._indicadores=Array.isArray(t.indicadores)?t.indicadores:[],this._salarios=t.salarios?{...t.salarios}:{},this._atividade=ie(t.atividade)?t.atividade:1,this._origem=t.origem??Ao.Usuario}_seq;_formaContagem;_contarCarencia;_motivoContagem;_prioritario;_computavelDesde;_grauDeficiencia;_descricao;_fatorConversaoModificado;_naturezaVinculo;_pesoCustomizado;_indicadores;_salarios;_atividade;_origem;inicializarNaturezaVinculo(t){if(t.naturezaVinculo!==void 0&&zt[t.naturezaVinculo]===void 0)throw new TypeError("Parâmetro 'natureza do vínculo' inválido");return t.naturezaVinculo??zt.NaoInformado}inicializarFormaContagem(t){if(t.formaContagem!==void 0&&Qe[t.formaContagem]===void 0)throw new TypeError("Parâmetro 'forma de contagem' inválido");return t.formaContagem??Qe.Comum}initializarPesoCustomizado(t){if(ie(t.pesoCustomizado))return t.pesoCustomizado;if(this.naturezaVinculo===zt.BeneficioIncapacidade){const o=this.formaContagem===Qe.Magisterio?pi.obterPesoMagisterio(V.Masculino):pi.obterComum(this.formaContagem,V.Masculino);return pi.beneficioIntercalado+o}}inicializarContarCarencia(t){if(!Ca(t.contarCarencia))throw new TypeError("Parâmetro 'contar carência' inválido");return t.contarCarencia}inicializarMotivoContagem(t){if(t.motivoContagem!==void 0&&xa[t.motivoContagem]===void 0)throw new TypeError("Parâmetro 'motivo da contagem' inválido");return t.motivoContagem??xa.NaoDefinido}inicializarPrioritario(t){if(!Ca(this.props.prioritario))throw new TypeError("Parâmetro 'prioritário' inválido");return t.prioritario}inicializarComputavelDesde(t){let o;if(t.computavelDesde!==void 0&&(o=xt(t.computavelDesde),!me(o)))throw new TypeError("Parâmetro 'computável desde' inválido");return o}inicializarFatorConversaoModificado(t){if(t.fatorConversaoModificado&&!ie(t.fatorConversaoModificado))throw new TypeError("Parâmetro 'fator conversão modificado' inválido");return t.fatorConversaoModificado}inicializarGrauDeficiencia(t){return t.grauDeficiencia!==void 0&&ke[t.grauDeficiencia]===void 0&&(t.grauDeficiencia=ke.SemDeficiencia),t.grauDeficiencia??ke.SemDeficiencia}fracionarSalario(t,o,a=!1){const i=1-o,r=(A,n)=>{if(!a)return n;const s=vt.multiplicarMoeda(A,i),l=vt.somarMoeda(A,-vt.somarMoeda(n,s));return n+l};if(ie(t.valorCalculoInss)){const A=t.valorCalculoInss;t.valorCalculoInss=vt.multiplicarMoeda(A,o),t.valorCalculoInss=r(A,t.valorCalculoInss)}if(ie(t.valorCnis)){const A=t.valorCnis;t.valorCnis=vt.multiplicarMoeda(A,o),t.valorCnis=r(A,t.valorCnis)}if(ie(t.valorPrevjud)){const A=t.valorPrevjud;t.valorPrevjud=vt.multiplicarMoeda(A,o),t.valorPrevjud=r(A,t.valorPrevjud)}if(ie(t.valorUsuario)){const A=t.valorUsuario;t.valorUsuario=vt.multiplicarMoeda(A,o),t.valorUsuario=r(A,t.valorUsuario)}}processarSalario(t,o=void 0,a=void 0){const i={...t},r=xt(i.competencia);if(!(na(r,Xo(this.dataInicial))||Aa(r,ua(this.dataFinal))))return o==="inicio"&&da(this.dataInicial,r)&&this.fracionarSalarioInicio(i,a),o==="termino"&&da(this.dataFinal,r)&&this.fracionarSalarioTermino(i,a),i}fracionarSalarioInicio(t,o){if(!o)throw new Error("Data inicial anterior deve ser informada para fracionar o salário no início do período");const a=ii(ua(this.dataInicial),this.dataFinal),i=vi(this.dataInicial,a,so.Dias)+1,r=vi(Fa(Xo(this.dataInicial),o),a,so.Dias)+1,A=i/r;this.fracionarSalario(t,A,!0)}fracionarSalarioTermino(t,o){if(!o)throw new Error("Data anterior deve ser informada para fracionar o salário no término do período");const a=Fa(Xo(this.dataFinal),this.dataInicial),i=vi(a,this.dataFinal,so.Dias)+1,r=vi(a,ii(ua(this.dataFinal),o),so.Dias)+1,A=i/r;this.fracionarSalario(t,A)}obterSalariosDoPeriodo(t,o,a){const i={};if(!t.salarios)return i;for(const[r,A]of Object.entries(t.salarios)){const n=this.processarSalario(A,o,a);n&&(i[r]=n)}return i}get seq(){return this._seq}get pesoCustomizado(){return this._pesoCustomizado}get descricao(){return this._descricao}get formaContagem(){return this._formaContagem}get contarCarencia(){return this._contarCarencia}get motivoContagem(){return this._motivoContagem}get prioritario(){return this._prioritario}get computavelDesde(){return this._computavelDesde}get fatorConversaoModificado(){return this._fatorConversaoModificado}get grauDeficiencia(){return this._grauDeficiencia}get naturezaVinculo(){return this._naturezaVinculo}get computoProporcional(){return this._naturezaVinculo===zt.BeneficioIncapacidade}get indicadores(){return this._indicadores}get salarios(){return this._salarios}get temSalarios(){return iA(this._salarios)&&Object.keys(this._salarios).length>0}get atividade(){return this._atividade}get origem(){return this._origem}obterSalario(t){const o=this.naturezaVinculo===zt.BeneficioIncapacidade,a=this.excluido||this.formaContagem===Qe.NaoComputar&&!this.contarCarencia,i=new aa(t),r=na(i.comoData,Xo(this.dataInicial))||Aa(i.comoData,this.dataFinal);if(!(o||a||r))return this._salarios[i.comoTexto]}get peso(){return ie(this.pesoCustomizado)?this.pesoCustomizado:this.prioritario?pi.prioridadeUsuario:this.formaContagem===Qe.Magisterio?pi.obterPesoMagisterio(V.Masculino):pi.obterComum(this.formaContagem,V.Masculino)}computavelComoTempo(t){return!(this.excluido||this.formaContagem===Qe.NaoComputar||t.valueOf()<this.dataInicial.valueOf()||me(this.computavelDesde)&&this.computavelDesde.valueOf()>t.valueOf())}computavelComoCarencia(t,o=!1){return this.excluido||!this.contarCarencia||na(t,this.dataInicial)||me(this.computavelDesde)&&Aa(this.computavelDesde,t)?!1:o?this.formaContagem===Qe.Rural:!0}tempoEmDias(t){const{ate:o,computarPrimeiraCompetencia:a=!0,computarUltimaCompetencia:i=!0}=t;if(!this.computavelComoTempo(o))return 0;const r=this.dataFinal.valueOf()>o.valueOf()?o:this.dataFinal;return tr(this.dataInicial,r).map((s,l,c)=>l>0&&l<c.length-1?30:r.valueOf()<=T.dpe103.valueOf()||this.computoProporcional===!0?t1({dataInicial:this.dataInicial,dataFinal:r,competencia:s,computarPrimeiraCompetencia:a,computarUltimaCompetencia:i}):a1({dataInicial:this.dataInicial,dataFinal:r,competencia:s,computarPrimeiraCompetencia:a,ate:o})).reduce((s,l)=>s+l,0)}inicioContagemCarencia({computarPrimeiraCompetencia:t=!0}){const o=new oe(this.dataInicial);return t?o.competencia():o.adicionar(1,so.Meses).competencia()}carencia(t){const{ate:o,computarPrimeiraCompetencia:a=!0,apenasRural:i}=t;if(!this.computavelComoCarencia(o,i))return 0;const r=Aa(this.dataFinal,o)?o:this.dataFinal,A=Number(a),n=vi(this.dataInicial,r,so.Meses);return Math.max(0,n+A)}obterParcialTempo(t){const{ate:o,sexo:a,computarPrimeiraCompetencia:i=!0,computarUltimaCompetencia:r=!0}=t,A=this.tempoEmDias({ate:o,sexo:a,computarPrimeiraCompetencia:i,computarUltimaCompetencia:r}),n=Qe.grupos.somenteComum.includes(this.formaContagem);return zp({periodo:this,tempoEmDias:A,computarTempoComum:n,sexo:a})}inicioContagemTempo({computarPrimeiraCompetencia:t=!0}){const o=ma(this.dataInicial);return t?bo(o,T.dpe103)||this.computoProporcional?o:da(o,T.dpe103)?Li(T.dpe103):Xo(o):ii(ma(this.dataFinal),Xo(o,1))}terminoContagemTempo({ate:t,computarUltimaCompetencia:o=!0}){const a=ma(this.dataFinal);return o?bo(a,T.dpe103)||this.computoProporcional?a:da(a,t)?ma(t):ua(a):Fa(ma(this.dataInicial),ua(a,-1))}tempo(t){const o=this.obterParcialTempo(t),a=this.inicioContagemTempo(t),i=this.terminoContagemTempo(t);return o.convertidoPara.comum=o.convertidoPara.modificador??o.convertidoPara.comum,o.convertidoPara.especial15=o.convertidoPara.modificador??o.convertidoPara.especial15,o.convertidoPara.especial20=o.convertidoPara.modificador??o.convertidoPara.especial20,o.convertidoPara.especial25=o.convertidoPara.modificador??o.convertidoPara.especial25,o.convertidoPara.grave=o.convertidoPara.modificador??o.convertidoPara.grave,o.convertidoPara.moderada=o.convertidoPara.modificador??o.convertidoPara.moderada,o.convertidoPara.leve=o.convertidoPara.modificador??o.convertidoPara.leve,{...o,inicioContagem:a,terminoContagem:i,formaContagem:this.formaContagem,grauDeficiencia:this.grauDeficiencia,preponderante:{especial:void 0,grauDeficiencia:void 0},periodo:this}}incluiCompetencia(t){return!this.excluido&&this._formaContagem!==Qe.NaoComputar&&Xo(this.dataInicial).valueOf()<=t.valueOf()&&t.valueOf()<=ua(this.dataFinal).valueOf()}}function $i(e,t){switch(!0){case(!t&&!e):return;case!t:return e;case!e:return t}return typeof e=="number"&&typeof t=="number"?vt.somarMoeda(e,t):ii(e,t)}function Rd(e,t){if(!e&&!t)return;const o=a=>{if(!a)return;const i=a.trim(),r=i.charAt(0).toUpperCase()+i.slice(1);return r.endsWith(".")?r.slice(0,-1):r};return e?t?`${o(e)}. ${o(t)}.`:o(e):o(t)}class l1 extends cu{constructor(t){super(t),this.props=t,this._seqCarta=ie(t.seqCarta)?t.seqCarta:void 0,this._seqCnis=ie(t.seqCnis)?t.seqCnis:void 0,this._seqPrevjud=ie(t.seqPrevjud)?t.seqPrevjud:void 0;const o=this.gerarId(t);this._competencia=o,this._computavelDesde=this.inicializarComputavelDesde(t),this._valorCalculoInss=ie(t.valorCalculoInss)?t.valorCalculoInss:void 0,this._valorCnis=ie(t.valorCnis)?t.valorCnis:void 0,this._dataRecolhimentoCnis=xt(t.dataRecolhimentoCnis),this._valorPrevjud=ie(t.valorPrevjud)?t.valorPrevjud:void 0,this._dataRecolhimentoPrevjud=xt(t.dataRecolhimentoPrevjud),this._valorUsuario=ie(t.valorUsuario)?t.valorUsuario:void 0,this._dataRecolhimentoUsuario=xt(t.dataRecolhimentoUsuario),this._valorAcrescimo=ie(t.valorAcrescimo)?t.valorAcrescimo:void 0,this._observacao=Re(t.observacao)?t.observacao:"",this._excluido=Ca(t.excluido)?t.excluido:!1,this._aposEc103=Aa(this._competencia.comoData,T.dpe103),this._indicadores=Re(t.indicadores)?t.indicadores:"",this._piso=this.servicos.limites.obterValorPiso(this._competencia.comoData)??0,this._teto=this.servicos.limites.obterValorTeto(this._competencia.comoData)??0,this._abaixoDoMinimo=this.valor<this._piso,this._acimaDoTeto=this.valor>this._teto,this._abaixoDoMinimoAposEc103=this._aposEc103&&this._abaixoDoMinimo}_seqCarta;_seqCnis;_seqPrevjud;_competencia;_valorCalculoInss;_dataRecolhimentoCnis;_valorCnis;_dataRecolhimentoPrevjud;_valorPrevjud;_dataRecolhimentoUsuario;_valorUsuario;_valorAcrescimo;_excluido;_computavelDesde;_observacao;_aposEc103;_indicadores;_piso;_teto;_abaixoDoMinimo;_acimaDoTeto;_abaixoDoMinimoAposEc103;servicos={limites:eu};inicializarComputavelDesde(t){if(t.computavelDesde===void 0)return this._competencia.comoData;const o=new oe(t.computavelDesde);if(!o.dataValida())throw new TypeError("Data de recolhimento inválida");const a=o.nativo();if(a.valueOf()<this._competencia.comoData.valueOf())throw new TypeError("Data de recolhimento anterior à competência");return a}gerarId(t){return new aa(t.competencia)}get seqCarta(){return this._seqCarta}get seqCnis(){return this._seqCnis}get seqPrevjud(){return this._seqPrevjud}get competencia(){return this._competencia.valor}get competenciaComoData(){return this._competencia.comoData}get computavelDesde(){return this._computavelDesde}get origem(){return ie(this._valorUsuario)||ie(this._valorAcrescimo)?Ao.Usuario:this.obterOrigemOficial()}obterOrigemOficial(){return this.props.manterSalariosCarta?ie(this._valorCalculoInss)&&this._valorCalculoInss>0?Ao.CalculoInss:ie(this._valorCnis)?Ao.Cnis:ie(this._valorPrevjud)?Ao.PrevJud:Ao.Nenhuma:ie(this._valorCnis)&&this._valorCnis>0?Ao.Cnis:ie(this._valorPrevjud)&&this._valorPrevjud>0?Ao.PrevJud:ie(this._valorCalculoInss)?Ao.CalculoInss:Ao.Nenhuma}get valor(){const t=this.origem;if(t===Ao.Usuario){if(!this._valorAcrescimo)return this._valorUsuario??0;const o=this.obterValorOficial(this.obterOrigemOficial());return(this._valorUsuario??o)+(this._valorAcrescimo??0)}return this.obterValorOficial(t)}obterValorOficial(t){switch(t){case Ao.CalculoInss:return this._valorCalculoInss??0;case Ao.Cnis:return this._valorCnis??0;case Ao.PrevJud:return this._valorPrevjud??0;default:return 0}}get valorCalculoInss(){return this._valorCalculoInss}get valorCnis(){return this._valorCnis}get valorPrevjud(){return this._valorPrevjud}get valorUsuario(){return this._valorUsuario}get valorAcrescimo(){return this._valorAcrescimo}get dataRecolhimentoCnis(){return this._dataRecolhimentoCnis}get dataRecolhimentoPrevjud(){return this._dataRecolhimentoPrevjud}get dataRecolhimentoUsuario(){return this._dataRecolhimentoUsuario}obterDataRecolhimentoOficial(t){switch(t){case Ao.Cnis:return this.dataRecolhimentoCnis;case Ao.PrevJud:return this.dataRecolhimentoPrevjud;default:return}}get dataRecolhimento(){if(![this._dataRecolhimentoCnis,this._dataRecolhimentoPrevjud,this._dataRecolhimentoUsuario].every(o=>o===void 0))return this.origem===Ao.Usuario?this.dataRecolhimentoUsuario?this.dataRecolhimentoUsuario:this.obterDataRecolhimentoOficial(this.obterOrigemOficial()):this.obterDataRecolhimentoOficial(this.origem)}get observacao(){return this._observacao}get excluido(){return this._excluido}get aposEc103(){return this._aposEc103}get indicadores(){return this._indicadores}get piso(){return this._piso}get teto(){return this._teto}get abaixoDoMinimo(){return this._abaixoDoMinimo}get acimaDoTeto(){return this._acimaDoTeto}get abaixoDoMinimoAposEc103(){return this._abaixoDoMinimoAposEc103}obterDadosCompletos(t){return{...this.props,id:this.competencia,...this.obterDadosParaCalculo(t)}}obterDadosParaCalculo(t){const o=t?this.abaixoDoMinimoAposEc103:!1;return{origem:this.origem,temSalario:!0,competencia:this.competenciaComoData,aposEc103:this.aposEc103,valor:this.valor,dataRecolhimento:this.dataRecolhimento,piso:this.piso,teto:this.teto,abaixoDoMinimo:this.abaixoDoMinimo,acimaDoTeto:this.acimaDoTeto,excluido:this.excluido,valido:!this.excluido&&!o,observacao:this.observacao,indicadores:this.indicadores}}toString(){return`${this.competencia} - ${this.valor.toFixed(2)} (${Ao.obterRotulo(this.origem)})`}}function c1(e,t){const o=[];for(const a of e){let i=a;t.forEach(r=>{if(r.valueOf()>=i.dataInicial.valueOf()&&r.valueOf()<i.dataFinal.valueOf()){const A=i.clonar({dataFinal:r,id:void 0});o.push(A),i=i.atualizar({dataInicial:Li(r)})}}),o.push(i)}return o}function u1(e,t){if(Array.isArray(t)&&t.length>1){const o=t[e];return t.some((a,i)=>i!==e?o.concomitante(a):!1)}return!1}function d1(e){if(e.length<=1)return m1(e);const t=e.filter(a=>!a.excluido),o=[];for(let a=0;a<t.length;a++){let i=t[a].clonar();i=g1(i,o),i&&(i=h1(i,t,a,o),i&&o.push(i))}return o.sort((a,i)=>a.dataInicial.valueOf()-i.dataInicial.valueOf())}function m1(e){return e.length===0?[]:e[0].excluido?[]:e}function f1(e,t){if(e.contidoEm(t))return;const o=Li(t.dataFinal);if(!(o.valueOf()>e.dataFinal.valueOf()))return e.atualizar({dataInicial:o})}function p1(e,t,o){if(!e.contidoEm(t)){if(e.dataInicial.valueOf()<t.dataInicial.valueOf()){const a=e.clonar({dataFinal:Ci(t.dataInicial)});o.push(a)}if(e.dataFinal.valueOf()>t.dataFinal.valueOf()){const a=Li(t.dataFinal);return a.valueOf()>e.dataFinal.valueOf()?void 0:e.atualizar({dataInicial:a})}}}function g1(e,t){for(let o=t.length-1;o>=0&&e;o--){const a=t[o];e.concomitante(a)&&(e=f1(e,a))}return e}function v1(e,t){return e.concomitante(t)&&e.peso<t.peso}function h1(e,t,o,a){let i=e;for(let r=o+1;r<t.length;r++){const A=t[r];if(i&&v1(i,A)&&(i=p1(i,A,a),!i))break}return i}class Hs{registros=new Map;cache=new Or;constructor(t){if(Array.isArray(t))for(const o of t)this.registros.set(o.id,o)}tirarConcomitancia(t){return d1(t)}quebrarNosMarcosTemporais(t,o){return c1(t,o)}obterPorId(t){if(this.registros.has(t))return this.registros.get(t)}existe(t){return!!this.obterPorId(t)}remover(t){this.registros.delete(t)&&this.cache.apagar()}removerTudo(){this.registros.clear(),this.cache.apagar()}adicionar(t){const o=this.criarNovaInstancia(t);return this.registros.set(o.id,o),this.cache.apagar(),o.id}adicionarMultiplos(t){return Object.entries(t).map(([o,a])=>{const i=rA.valido(o)?o:void 0;return this.adicionar({...a,id:i})})}atualizar(t,o){const a=this.obterPorId(t);if(!a)throw new Error(`Período com id ${t} não encontrado`);a&&(this.registros.set(t,a.atualizar(o)),this.cache.apagar())}atualizarMultiplos(t){for(const[o,a]of Object.entries(t))this.atualizar(o,a)}recortar(t,o){const a=this.obterPorId(t);if(!a)throw new Error(`Período com id ${t} não encontrado`);if(o.valueOf()>=a.dataInicial.valueOf()&&o.valueOf()<=a.dataFinal.valueOf()){const i=this.adicionar({...a.props,dataInicial:Li(o),id:void 0});return this.atualizar(t,{dataFinal:o}),this.cache.apagar(),i}}lista(){const t=this.cache.recuperar();if(t?.dados.listaSimples)return t.dados.listaSimples;const o=this.registros.size>0?Array.from(this.registros.values()).sort((a,i)=>a.dataInicial.valueOf()-i.dataInicial.valueOf()):[];return this.cache.atualizar({listaSimples:o,listaSemConcomitancia:void 0,considerarTambem:void 0,competencias:void 0}),o}listaSemConcomitancia(t=[]){const o=this.cache.recuperar();if(o?.dados.listaSemConcomitancia&&JSON.stringify(o.dados.considerarTambem)===JSON.stringify(t))return o.dados.listaSemConcomitancia;const a=t.length>0?Array.prototype.concat(this.lista(),t).sort((r,A)=>r.dataInicial.valueOf()-A.dataInicial.valueOf()):this.lista(),i=this.tirarConcomitancia(Array.prototype.concat(a,t));return t.length===0&&this.cache.atualizar({listaSimples:a,listaSemConcomitancia:i}),i}salvarDadosSemConcomitancia(){const t=this.listaSemConcomitancia();this.cache.apagar(),this.registros.clear();for(const o of t)this.registros.set(o.id,o)}listaSemConcomitanciaEQuebrada(t,o=[]){return this.quebrarNosMarcosTemporais(this.listaSemConcomitancia(o),t)}serializar(){return this.registros.size===0?{}:Array.from(this.registros.entries()).reduce((t,[o,a])=>(t[o]=a.props,t),{})}desserializar(t){this.removerTudo();for(const[o,a]of Object.entries(t))this.adicionar({...a,id:o})}tamanho(){return this.registros.size}temDados(){return this.tamanho()>0}static temConcomitancia(t,o){return u1(t,o)}}class B1 extends wu{constructor(t){super(t),this.props=t,this._grauDeficiencia=t.grauDeficiencia??ke.SemDeficiencia}_grauDeficiencia;get grauDeficiencia(){return this._grauDeficiencia}get peso(){return ke.obterPeso(this.grauDeficiencia,V.Masculino)}}class C1 extends Hs{constructor(t){super(t)}criarNovaInstancia(t){return new B1(t)}obterGrauDeficiencia(t){const o=this.listaSemConcomitancia();if(!o.length)return ke.SemDeficiencia;for(const a of o)if(t.concomitante(a))return a.grauDeficiencia;return ke.SemDeficiencia}calcularQuebras(){const t=this.listaSemConcomitancia();if(!t.length)return[];const o=[];for(let a=0;a<t.length;a++){const i=t[a];o.push(ma(i.dataFinal)),(a===0||t[a-1].dataFinal.valueOf()!==Ci(i.dataInicial).valueOf())&&o.push(Ci(i.dataInicial))}return o}salvarDadosSemConcomitancia(){super.salvarDadosSemConcomitancia()}temDeficienciaEm(t){return this.listaSemConcomitancia().some(a=>!a.excluido&&a.contem(t))}temDeficienciaAte(t){return this.listaSemConcomitancia().some(a=>!a.excluido&&a.grauDeficiencia!==ke.SemDeficiencia&&bo(a.dataInicial,t))}primeiraDataComDeficienciaEntre(t,o){const a=this.listaSemConcomitancia();if(this.temDeficienciaEm(t))return ma(t);const i=a.filter(A=>A.grauDeficiencia!==ke.SemDeficiencia&&Ea(A.dataFinal,t)&&bo(A.dataInicial,o));if(!i.length)return;const r=ma(i[0].dataInicial);return Fa(r,t)}}class b1 extends DB{constructor(t=!0,o){super(o),this.manterSalariosCarta=t}servicos={limites:eu};criarNovaInstancia(t){const o=new aa(t.competencia).comoTexto;return new l1({...t,manterSalariosCarta:this.manterSalariosCarta,...this.obterLimites(o)})}deveRemover(t){return(!ie(t.valorCalculoInss)||t.valorCalculoInss===0)&&(!ie(t.valorCnis)||t.valorCnis===0)&&(!ie(t.valorPrevjud)||t.valorPrevjud===0)&&!ie(t.valorUsuario)&&!ie(t.valorAcrescimo)&&!me(t.dataRecolhimentoCnis)&&!me(t.dataRecolhimentoPrevjud)&&!me(t.dataRecolhimentoUsuario)}obterLimites(t){const o=new aa(t).comoData,a=this.servicos.limites.obterValorPiso(o),i=this.servicos.limites.obterValorTeto(o);return{piso:a??0,teto:i??0}}incorporarSalario(t){const o=new aa(t.competencia).comoTexto,a=this.obterPorId(o);if(!a){this.adicionar(t);return}const i=HA(new aa(a.competencia).comoData),r=(Q,y)=>{if(!(Q&&y&&Q!==y))return y??Q},A=r(a.seqCarta,t.seqCarta),n=r(a.seqCnis,t.seqCnis),s=r(a.seqPrevjud,t.seqPrevjud),l=$i(a.valorCalculoInss,t.valorCalculoInss),c=$i(a.valorCnis,t.valorCnis),u=$i(a.valorPrevjud,t.valorPrevjud),d=$i(a.valorUsuario,t.valorUsuario),m=$i(a.valorAcrescimo,t.valorAcrescimo),g=$i(a.dataRecolhimentoCnis,xt(t.dataRecolhimentoCnis)),p=$i(a.dataRecolhimentoPrevjud,xt(t.dataRecolhimentoPrevjud)),f=$i(a.dataRecolhimentoUsuario,xt(t.dataRecolhimentoUsuario)),v=a.excluido||t.excluido,h=Rd(t.observacao,a.observacao),B=t.aposEc103||a.aposEc103,b=Rd(t.indicadores,a.indicadores);this.adicionar({seqCarta:A,seqCnis:n,seqPrevjud:s,competencia:i,valorCalculoInss:l,valorCnis:c,dataRecolhimentoCnis:g,valorPrevjud:u,dataRecolhimentoPrevjud:p,valorUsuario:d,dataRecolhimentoUsuario:f,valorAcrescimo:m,excluido:v,observacao:h,aposEc103:B,indicadores:b})}incorporarSalarios(t){for(const o of t)this.incorporarSalario(o)}dadosCompetenciaSemSalario(t,o=!0){const{comoTexto:a,comoData:i}=new aa(t),r=0,A=Ao.Nenhuma,n=!1,s=!0,l=!1,{piso:c,teto:u}=this.obterLimites(a),d=!1,m=Ea(i,Xo(T.dpe103));return{id:a,competencia:i,computavelDesde:i,valorCalculoInss:void 0,valorCnis:void 0,valorUsuario:void 0,valorPrevjud:void 0,observacao:"",aposEc103:m,temSalario:n,piso:c,teto:u,abaixoDoMinimo:s,acimaDoTeto:l,valor:r,dataRecolhimento:void 0,origem:A,valido:!d&&!(o?m:!1),excluido:d}}obterPorId(t){const o=new aa(t).comoTexto;return this.registros.get(o)}adicionar(t){const o=new aa(t.competencia).comoTexto;return super.adicionar({...t,manterSalariosCarta:this.manterSalariosCarta,...this.obterLimites(o)})}atualizarOuCriar(t,o){let a=this.obterPorId(t);if(a){if(a=super.atualizar(a.id,{...o,competencia:t}),!a)return;if(this.deveRemover({...a.props,...o,competencia:t})){super.remover(a.id);return}return a}else{const i={competencia:t,excluido:!1,...o,manterSalariosCarta:this.manterSalariosCarta},r=new aa(t).comoTexto,A=super.adicionar({...i,id:r,...this.obterLimites(t)});if(this.deveRemover(A.props)){super.remover(A.id);return}return A}}atualizarOuCriarMultiplos(t){return Object.entries(t).map(([o,a])=>this.atualizarOuCriar(o,a))}remover(t){super.remover(new aa(t).comoTexto)}removerMultiplos(t){for(const o of t)this.remover(o)}alterarStatusExcluido(t,o){super.atualizar(new aa(t).comoTexto,{excluido:o===!0})}removerValor(t,o){const a=this.obterPorId(t);if(a){const i=super.atualizar(a.id,{[o]:void 0});i?.valor===0&&super.remover(i.id)}}removerValores(t,o){const a=this.obterPorId(t);if(a){const i=Object.fromEntries(o.map(A=>[A,void 0])),r=super.atualizar(a.id,i);r?.valor===0&&super.remover(r.id)}}removerValorMultiplos(t,o){for(const a of t)this.removerValor(a,o)}removerValoresMultiplos(t,o){for(const a of t)this.removerValores(a,o)}removerSalariosCarta(){for(const t of this.registros.values())ie(t.valorCalculoInss)&&this.atualizarOuCriar(t.id,{valorCalculoInss:void 0,seqCarta:void 0})}removerSalariosCnis(){for(const t of this.registros.values())(ie(t.valorCnis)||ie(t.seqCnis)||me(t.dataRecolhimentoCnis))&&this.atualizarOuCriar(t.id,{valorCnis:void 0,seqCnis:void 0,dataRecolhimentoCnis:void 0})}removerSalariosPrevjud(){for(const t of this.registros.values())(ie(t.valorPrevjud)||ie(t.seqPrevjud)||me(t.dataRecolhimentoPrevjud))&&this.atualizarOuCriar(t.id,{valorPrevjud:void 0,seqPrevjud:void 0,dataRecolhimentoPrevjud:void 0})}removerSalariosUsuario(){for(const t of this.registros.values())(ie(t.valorUsuario)||ie(t.valorAcrescimo)||me(t.dataRecolhimentoUsuario))&&this.atualizarOuCriar(t.id,{valorUsuario:void 0,valorAcrescimo:void 0,dataRecolhimentoUsuario:void 0})}importarDePeriodos(t,o=[]){if(o.length)for(const a of t){if(!(a.seq&&o.includes(a.seq))||!a.salarios)continue;const r=Object.values(a.salarios);this.incorporarSalarios(r)}}importarDaCarta(t){const{dadosCalculo:o}=t,a=o.principal.pbc;for(const[i,r]of Object.entries(a)){const A={competencia:new aa(i).comoTexto,valorCalculoInss:r.consolidado??r.original,seqCarta:r.seq,manterSalariosCarta:this.manterSalariosCarta,excluido:!1};this.incorporarSalario(A)}}obterListaDadosCompletos(t,o){return t.map(a=>{const i=this.obterPorId(a);return i?i.obterDadosCompletos(o):this.dadosCompetenciaSemSalario(a,o)})}obterDadosCompletosSalario(t,o){const a=this.obterPorId(t);return a?a.obterDadosCompletos(o):this.dadosCompetenciaSemSalario(t,o)}obterDadosParaCalculo(t,o,a=T.jul94){const i=new Map,r=lu(a,t);for(const A of r){const n=this.obterDadosCompletosSalario(A,o);i.set(A,n)}return i}}function dl(e,t){const{divisor:o,competenciasIncluidas:a}=t,i=a.slice(0,o);return Object.entries(e).reduce((r,[A,n])=>{const s=a.includes(A),l=s&&!i.includes(A),c=n.excluido||!s,u={...n,excluido:c,desconsiderado:l};return r[A]=u,r},{})}function w1(e,t){return ie(t)?Ut(Math.min(e,t),2):e}function Md(e,t){const o={};return Object.entries(t).forEach(([a,i])=>{const r=e[a];r&&(o[a]={},ie(r.tempo)&&ie(i.tempo)&&(o[a].tempo=Math.abs(i.tempo-r.tempo)),ie(r.carencia)&&ie(i.carencia)&&(o[a].carencia=Math.abs(i.carencia-r.carencia)))}),o}function F1(e){return Object.entries(e).map(([t,o])=>({competencia:t,total:o.corrigido??0,computavel:(o.salarioComputavel||o.beneficioComputavel)&&!o.descartado})).filter(t=>t.computavel).sort((t,o)=>o.total-t.total).map(t=>t.competencia)}function Ts(e){const t=[];for(const[o,a]of Object.entries(e)){const i=(a.salarioComputavel||a.beneficioComputavel)&&!a.descartado,r=a.corrigido&&a.corrigido>0;i&&r&&t.push({competencia:o,valor:a.corrigido})}return t.toSorted((o,a)=>a.valor-o.valor).map(o=>o.competencia)}function Gp(e,t){return Object.entries(e).map(([o,a])=>({competencia:o,total:a.corrigido??0,computavel:a.salarioComputavel||a.beneficioComputavel})).filter(o=>o.computavel&&o.total>0).slice(-t).map(o=>o.competencia)}function Q1(e){return Gp(e,12)}function Ld(e){return Gp(e,36)}function jp(e,t,o){return t.valueOf()<T.dpe103.valueOf()||me(o)&&T.dpe103.valueOf()===o.valueOf()||t.valueOf()===T.dpe103.valueOf()&&e===wt.DireitoAdquiridoAntesEc103}function Wp(e,t){if(t){const r=Ld(e),A=r.length,n=24;return{divisor:Math.max(n,A),divisorMinimo:n,competenciasIncluidas:r,totalCompetenciasConsideradas:A}}const o=Ld(e),a=o.length;return{divisor:a,divisorMinimo:void 0,competenciasIncluidas:o,totalCompetenciasConsideradas:a}}function Jp(e,t){const o=F1(e),a=Ts(e),i=Object.keys(e).length,r=a.length;if(t){const A=Ut(vt.multiplicar(i+1,.6),0),n=Math.max(A,Ut(vt.multiplicar(r,.8),0)),s=n===A?o:a,l=s.length;return{divisor:n,divisorMinimo:A,competenciasIncluidas:s,totalCompetenciasConsideradas:l}}else{const A=Ut(vt.multiplicar(r,.8),0),n=a,s=n.length;return{divisor:A,divisorMinimo:void 0,competenciasIncluidas:n,totalCompetenciasConsideradas:s}}}function Xp(e){const t=Ts(e),o=t.length;return{divisor:o,divisorMinimo:void 0,competenciasIncluidas:t,totalCompetenciasConsideradas:o}}function Yp(e){const t=Ts(e),o=t.length,i=Math.max(108,o),r=t,A=r.length;return{divisor:i,divisorMinimo:void 0,competenciasIncluidas:r,totalCompetenciasConsideradas:A}}function E1(e,t,o){const{dadosApuracao:a}=e,{data:i}=a.naApuracao,r=Ts(t),A=r.length;if(o===WA.MediaSimplesDozeUltimos&&i>=T.dec10410){const n=A,s=r,l=s.length;return{divisor:n,divisorMinimo:void 0,competenciasIncluidas:s,totalCompetenciasConsideradas:l}}else{const n=Q1(t),s=n.length,l=12;return{divisor:Math.max(l,s),divisorMinimo:l,competenciasIncluidas:n,totalCompetenciasConsideradas:s}}}function y1(e,t,o,a,i=!1){const{especie:r,terminoVigencia:A,dadosApuracao:n}=t,{data:s}=n.naApuracao,l=ce.ComDivisorMinimo.includes(r),c=l&&!i,u=s.valueOf()<=T.lei9876.valueOf(),d=a||jp(e,s,A),m=s.valueOf()<=T.divisorMinimo.valueOf();return u?Wp(o,c):d?Jp(o,c):m||!l?Xp(o):Yp(o)}function I1(e,t,o,a=!1){const{especie:i,terminoVigencia:r,dadosApuracao:A}=t,n=A.naApuracao.data,s=ce.ComDivisorMinimo.includes(i),l=s&&!a,c=n.valueOf()<=T.lei9876.valueOf(),u=jp(e,n,r),d=n.valueOf()<=T.divisorMinimo.valueOf();return c?Wp(o,l):u?Jp(o,l):d||!s?Xp(o):Yp(o)}function U1(e){const{competenciaInicial:t,competenciaFinal:o,indices:a,dadosSalarios:i,dadosBeneficiosPagos:r,competenciasComVinculo:A,competenciasComBeneficio:n,elevarSalarioZero:s=!0,descartes:l=[]}=e,c=A===void 0;return tr(t,o).reduce((d,m)=>{const g=m.toLocaleDateString("pt-BR"),p=m.valueOf()<Xo(T.dpe103).valueOf(),f=i.get(g);if(!f)throw new Error(`Dados de salário não encontrados para a competência ${m}`);const v=A?.has(g)??!1,h=n?.has(g)??!1,B=r.get(g)??{auxilioAcidente:0,outros:0,podeElevarSalario:!0},b=c?f.valido&&f.temSalario:f.valido&&(v||h&&f.temSalario),Q=B.auxilioAcidente,y=B.outros,D=Q+(c||v||h?y:0),O=D>0,S=l.includes(g),k=!1,W=f.valor;let re=(b?W:0)+D,$=!1,z=!1;const N=f.piso,x=f.teto;if(!N||!x)throw new Error(`Não há valor piso/teto para o PBC na competência ${g.slice(3)}`);if(re>x&&(re=x,z=!0),b&&W===0&&p){const j=s&&f.origem!==Ao.Usuario;y>0?($=j&&B.podeElevarSalario,re=($?N:W)+D,re>x&&(re=Math.min(re,x),z=!0)):v&&(re=(j?N:W)+Q,$=j)}const M=a.get(g),X=M.acumulado,ae=vt.multiplicarMoeda(re,X),L=f?.observacao??"";return d[g]={...M,...f,valorBeneficios:D,original:W,total:re,corrigido:ae,salarioComputavel:b,beneficioComputavel:O,desconsiderado:k,descartado:S,limitado:z,elevado:$,observacoes:L,piso:N,teto:x},d},{})}function S1(e,t){return t===0?0:Ut(e/t,2)}function D1(e,t){const{especie:o,dadosApuracao:a}=e,{data:i}=a.naApuracao;if(o!==ce.AuxilioPorIncapacidadeTemporaria||i.valueOf()<T.mar2015.valueOf())return;const r=Object.values(t).sort((s,l)=>l.competencia.valueOf()-s.competencia.valueOf()),A=[];for(const s of r){if(A.length>=12)break;ie(s.corrigido)&&s.corrigido>0&&A.push(s)}return A.length?A.reduce((s,l)=>(s+=l.corrigido,s),0)/A.length:void 0}function x1(e){const{data:t}=e.dadosApuracao.naApuracao,o=t.getMonth()+1,A=(t.getFullYear()-1999)*12+o-11;return Math.min(60,A)}function P1(e,t,o){const a=x1(e);return o*a*t/60+t*(60-a)/60}function _1(e,t,o){return P1(e,t,o)}function O1(e){const t=Object.values(e).reduce((o,a)=>{const i=(a.salarioComputavel||a.beneficioComputavel)&&!a.desconsiderado&&!a.descartado&&!a.excluido;return o+=i?a.corrigido??0:0,o},0);return Ut(t,2)}function ml(e){const{beneficio:t,pbcProcessado:o,dadosDivisor:a}=e;let{piso:i,teto:r}=e;const{especie:A}=t,{valoresApurados:n,fatorPrevidenciario:s}=t.dadosApuracao.naApuracao,{pontos:l}=n;ce.AuxilioAcidente.includes(A)&&(i=i*(t.dadosApuracao.naApuracao.coeficiente?.valor??1));const{divisor:c,divisorMinimo:u,totalCompetenciasConsideradas:d}=a,m=O1(o),g=S1(m,c),p=D1(t,o),f=s?.aplicar?_1(t,g,s.valor):g,v=Math.min(Math.max(f,i||0),r||g),h=Math.max(Ut(f/v,4),1);return{soma:m,divisor:c,divisorMinimo:u,totalCompetenciasConsideradas:d,media:g,mediaUltimos12:p,fatorPrevidenciario:s?.valor,aplicouFator:s?.aplicar===!0,indiceReposicao:h,pontos:l?.resultado?.apurado,salarioBeneficio:v,piso:i,teto:r,pbcProcessado:o}}function Hd(e){return e.reduce((t,o)=>{const a=o.dadosApuracao.naApuracao.valoresApurados.carencia?.resultado.apurado,i=o.dadosApuracao.naApuracao.valoresApurados.tempo?.resultado.apurado,r=o.dadosApuracao.naApuracao.valoresApurados.pedagio?.resultado.apurado;return t[o.fundamento]={tempo:r??i,carencia:a},t},{})}function R1(e){return Object.entries(e).map(([t,o])=>({competencia:t,salario:o.corrigido,computavel:o.salarioComputavel||o.beneficioComputavel})).filter(t=>t.computavel&&t.salario>0).sort((t,o)=>o.salario-t.salario)}function M1(e){const{salarios:t,competenciaInicial:o,dib:a}=e,i=new Map,r=lu(o,a);for(const A of r){const n=t.get(A);n&&i.set(A,n)}return i}function L1(e){return e.valueOf()<=T.lei9876.valueOf()?new oe(e).adicionar(-48,so.Meses).competencia():T.jul94}function H1(e,t){return t===WA.MediaSimplesDozeUltimos&&e>=T.dec10410?new oe(e).adicionar(-12,so.Meses).competencia():new oe(e).adicionar(-15,so.Meses).competencia()}function T1(e){return new oe(e).adicionar(-1,so.Meses).competencia()}class R3{constructor(t,o){this.dadosCalculo=t,this.tabelaIndexadores=o,this._competenciasComVinculos=this.dadosCalculo.historico.obterCompetenciasComVinculo(),this._analiseBeneficios=new Nw(this.dadosCalculo);const{beneficios:a}=this._analiseBeneficios.apurar();this._beneficiosAnalisados=a,this.tabelaIndexadores&&this.servicos.indices.definirTabelaIndexadores(this.tabelaIndexadores)}pbcMemo=new Or;_competenciasComVinculos;_beneficiosParadigma=[];_analiseBeneficios;_beneficiosAnalisados;servicos={indices:Ph,limites:eu,tabuaMortalidade:ff};static blocosDeCalculo=[{tipo:wt.NaDib,titulo:"DIB na DER"},{tipo:wt.NaMudancaDasRegrasProgressivas,titulo:"Direito Adquirido nas Alterações das Regras Progressivas"},{tipo:wt.DireitoAdquiridoAntesEc20,titulo:"Direito Adquirido pelas Regras Anteriores à EC 20/98"},{tipo:wt.DireitoAdquiridoAntesEc103,titulo:"Direito Adquirido pelas Regras Anteriores à EC 103/2019"},{tipo:wt.NaLei9876,titulo:Pi[wt.NaLei9876]},{tipo:wt.NaRegraDePontosParaFator,titulo:Pi[wt.NaRegraDePontosParaFator]},{tipo:wt.NoRestabelecimentoDoDivisorMinimo,titulo:Pi[wt.NoRestabelecimentoDoDivisorMinimo]},{tipo:wt.NaMudancaDasRegrasProgressivasSemDivisorMinimo,titulo:"Regras Progressivas EC 103/2019 (Sem Divisor Mínimo)"}];get dadosSegurado(){return this.dadosCalculo.dadosSegurado}get dataApuracao(){return this.dadosCalculo.dataApuracao}get especie(){return this.dadosCalculo.especie}get aplicarFatorAposEc103(){return this.dadosCalculo.opcoesAposEc103.aplicarFator}get dadosCalculoRmi(){return this.dadosCalculo.dadosCalculoRmi}get calculoRmiDesvinculada(){return this.dadosCalculo.calculoRmiDesvinculada}get competenciasComVinculo(){return this._competenciasComVinculos}get calculoPcdRegraAnterior(){return this.dadosSegurado.pcd&&this.dadosCalculo.calcularRmiPcdComRegraAnterior}get criterioSalarioMaternidade(){return this.dadosCalculo.criterioSalarioMaternidade}get salarios(){return this.dadosCalculo.salariosConsolidados}get salariosPorAtividade(){return this.dadosCalculo.obterSalariosPorAtividade()}apurarPbc(t,o=Ya.Padrao,a=[]){const i=t.dadosApuracao.naApuracao.data,r=this.pbcMemo.recuperar();if(r?.dados.dib.valueOf()===i.valueOf()&&JSON.stringify(r.dados.descartes)===JSON.stringify(a))return r.dados.resultado;const A=this.especie===ce.SalarioMaternidade?H1(i,this.criterioSalarioMaternidade):L1(i),n=T1(i),s=this.dadosCalculo.aplicarIrsmFev94,l=this.calculoRmiDesvinculada?void 0:this.competenciasComVinculo.vinculos,c=this.calculoRmiDesvinculada?void 0:this.competenciasComVinculo.beneficios,u=M1({salarios:this.salarios,competenciaInicial:A,dib:i}),d=new Set;l?l.forEach(Q=>{const y=u.get(Q),I=y?.valor===0&&y?.origem===Ao.Usuario;y?.valido&&!I&&d.add(Q)}):u.entries().forEach(([Q,y])=>!y.excluido&&y.temSalario?d.add(Q):[]);const m=this.dadosSegurado.beneficios?.obterDadosParaCalculo(i,d)??new Map,g=this.servicos.indices.servicoCorrecao.obterDataMaximaCorrecao({encadeamento:o});if(Aa(i,g))throw new Error(`Índice de correção indisponível para cálculo da RMI com DER/DIB em ${i.toLocaleDateString("pt-BR")}`);const p=this.servicos.indices.servicoCorrecao.obterIndicesCorrecao({dataAtualizacao:i,encadeamento:o,competenciaInicial:A,competenciaFinal:n,aplicarIrsmFev94:s,paraSalariosContribuicao:!0}),{indices:f,notas:{indices:v,moedas:h}}=p,b=[U1({competenciaInicial:A,competenciaFinal:n,indices:f,dadosSalarios:u,dadosBeneficiosPagos:m,competenciasComVinculo:l,competenciasComBeneficio:c,descartes:a}),A,n,v,h];return this.pbcMemo.atualizar({dib:i,descartes:a,resultado:b}),b}apurarSalarioBeneficio(t,o,a){const{especie:i}=o,{data:r}=o.dadosApuracao.naApuracao,A=this.servicos.limites.obterValorPiso(r);if(!A)throw new Error(`Valor do piso indisponível para cálculo da RMI com DER/DIB em ${r.toLocaleDateString("pt-BR")}`);const n=this.servicos.limites.obterValorTeto(r);if(!n)throw new Error(`Valor do teto indisponível para cálculo da RMI com DER/DIB em ${r.toLocaleDateString("pt-BR")}`);if(i===ce.SalarioMaternidade){const c=E1(o,a,this.criterioSalarioMaternidade),u=dl(a,c);return ml({beneficio:o,piso:A,teto:n,pbcProcessado:u,dadosDivisor:c})}if(this.dadosSegurado.pcd){const c=y1(t,o,a,this.dadosCalculo.calcularRmiPcdComRegraAnterior),u=dl(a,c);return ml({beneficio:o,piso:A,teto:n,pbcProcessado:u,dadosDivisor:c})}const s=I1(t,o,a),l=dl(a,s);return ml({beneficio:o,piso:A,teto:n,pbcProcessado:l,dadosDivisor:s})}apurarRmi(t,o,a=Ya.Padrao,i=[]){const r=o.dadosApuracao.naApuracao.data,[A,n,s,l,c]=this.apurarPbc(o,a,i),u=this.apurarSalarioBeneficio(t,o,A),{salarioBeneficio:d,piso:m,teto:g,totalCompetenciasConsideradas:p,indiceReposicao:f}=u,v=o.dadosApuracao.naApuracao.coeficiente?.valor??0,h=v>0?Ut(d*v,2):0,B=v>0?Ut(Math.max(m,w1(Math.min(Math.max(h,m),g),u.mediaUltimos12)),2):0,b=ce.AuxilioAcidente.includes(this.especie)?o.dadosApuracao.naApuracao.coeficiente?.valor??1:1,Q={finalidade:nn.ApuracaoValorDevido,especie:this.especie,dib:r,dcb:this.dataApuracao,dadosRmi:{baseReajuste:Rr.BeneficioIndependente,valor:B,irt:f},dadosReajuste:{percentualPiso:b,limitarBaseReajuste:!0}},y=this.servicos.indices.servicoReajuste.obterDataMaximaReajuste();if(Aa(this.dataApuracao,y))throw new Error(`Índice de reajuste indisponível para cálculo da RMI com DER/DIB em ${r.toLocaleDateString("pt-BR")}`);const I=e1({beneficio:new qw(Q),servicoIndices:this.servicos.indices,servicoLimites:this.servicos.limites}),D=I.length>0?I.at(-1).valorAtualIntegral:B,O=Object.assign(u,{coeficiente:v,rmi:B,moeda:this.servicos.indices.servicoReajuste.obterMoedaDaEpoca(this.dataApuracao),rmiReajustada:D,dadosReajuste:I,competenciaInicial:n,competenciaFinal:s,totalCompetenciasConsideradas:p,notasIndices:l,notasMoedas:c});return Object.assign(o,{dadosRmi:O})}definirMaiorRmi(t){const o=Math.max(0,...t.map(r=>r.dadosRmi.rmiReajustada)),a=t.find(r=>r.dadosRmi.rmi===o),i=a?a.dadosRmi.moeda:{inicio:"",nome:"-",simbolo:"$"};return[o,i]}calcularBeneficiosNaoProgramados(){return this._beneficiosAnalisados.cumpridos.map(t=>this.apurarRmi(wt.NaDib,t,Ya.Padrao,[]))}calcularRmiDesvinculada(t=Ya.Padrao){if(!this.dadosCalculoRmi)return;const{coeficienteInformado:o,tempoInformado:a}=this.dadosCalculoRmi,i=this.dataApuracao.valueOf()>=T.dpe20.valueOf(),r=this.dataApuracao.valueOf()>=T.dpe103.valueOf();let A=T.cf88,n;r?A=T.dpe103:i?(A=T.dpe20,n=T.dpe103):n=T.dpe20;const s=r&&!this.aplicarFatorAposEc103,l=a.anos*360+a.meses*30+a.dias,c=Vp({servicoTabuaMortalidade:this.servicos.tabuaMortalidade,nascimento:this.dadosSegurado.nascimento,sexo:this.dadosSegurado.sexo,tipo:this.dadosSegurado.tipo,especie:this.especie,dataApuracao:this.dataApuracao,tempoEmDias:l,calcularSemAplicar:s}),u={especie:this.especie,descricao:ce.obterRotulo(this.especie),fundamento:lt.Usuario,inicioVigencia:A,terminoVigencia:n,dadosApuracao:{temDireito:!0,naApuracao:{data:this.dataApuracao,valoresApurados:{tempo:{dataApuracao:this.dataApuracao,nome:"Tempo informado pelo usuário",rotulo:"Tempo informado pelo usuário",resultado:{apurado:l,cumprido:!0,inconsistencia:!1,requisito:l,porExtenso:""}}},coeficiente:{valor:o},fatorPrevidenciario:c}}},d=this.apurarRmi(wt.NaDib,u,t,[]);if(!u.dadosApuracao.temDireito)return;const m=[d],g=d.dadosRmi.rmiReajustada,p=d.dadosRmi.moeda;return{descartesAnteriores:[],beneficios:m,diferencas:{"-":{tempo:void 0,carencia:void 0}},maiorRmi:g,moeda:p}}calcularBeneficios(t,o=[]){if(this._beneficiosParadigma.length){const n=this._analiseBeneficios.reapurarBeneficios(this._beneficiosParadigma).filter(s=>s.dadosApuracao.temDireito).map(s=>this.apurarRmi(t,s,Ya.Padrao,o));return this._beneficiosParadigma=n,n}if(this._beneficiosParadigma=[],t===wt.DireitoAdquiridoAntesEc20)return this._beneficiosAnalisados.cumpridos.filter(n=>me(n.terminoVigencia)&&n.terminoVigencia.valueOf()<=T.dpe20.valueOf()).map(n=>this.apurarRmi(t,n,Ya.Padrao,o));if(t===wt.DireitoAdquiridoAntesEc103&&!this.dadosSegurado.pcd&&!this.dadosSegurado.ruricola)return this._beneficiosAnalisados.cumpridos.filter(n=>me(n.terminoVigencia)&&n.terminoVigencia.valueOf()<=T.dpe103.valueOf()).map(n=>this.apurarRmi(t,n,Ya.Padrao,o));const a=this.dataApuracao.valueOf()>=T.dpe20.valueOf(),i=this.dataApuracao.valueOf()>=T.dpe103.valueOf();if(t===wt.NaDib){const n=this._beneficiosAnalisados.cumpridos.filter(s=>i?!(me(s.terminoVigencia)&&s.terminoVigencia.valueOf()<=T.dpe103.valueOf()):a?!(me(s.terminoVigencia)&&s.terminoVigencia.valueOf()<=T.dpe20.valueOf()):!0).map(s=>this.apurarRmi(t,s,Ya.Padrao,o));return this._beneficiosParadigma=n.filter(s=>i&&lt.DescarteAplicavel.includes(s.fundamento)),n}if(t===wt.NaMudancaDasRegrasProgressivas){const n=this._beneficiosAnalisados.regrasProgressivas;for(const s of n){const{cumpridos:l}=s;if(l.length){const c=l.map(u=>this.apurarRmi(t,u,Ya.Padrao,o));return this._beneficiosParadigma=c,c}}return[]}const r=Pi[t],A=this._beneficiosAnalisados.nasAlteracoes.filter(n=>n.rotulo===r);if(A.length&&A[0].resultado.length){const n=A[0].resultado.map(l=>this.apurarRmi(t,l,Ya.Padrao,o)),s=n.filter(l=>i&&lt.DescarteAplicavel.includes(l.fundamento)&&(t===wt.NoRestabelecimentoDoDivisorMinimo||t===wt.NaMudancaDasRegrasProgressivasSemDivisorMinimo));return this._beneficiosParadigma=s,n}return[]}beneficiosMaisVantajosos(t){const o=[];if(t.length===0)return o;const a=Math.max(...t.map(r=>r.maiorRmi));return t[0].beneficios.map(r=>r.fundamento).forEach(r=>{const A=t.findLastIndex(l=>l.beneficios.find(c=>c.fundamento===r&&c.dadosRmi.rmiReajustada===a)),s=(A>=0?t[A]:void 0)?.beneficios.find(l=>l.fundamento===r);if(s){const l=t.slice(0,A+1).map(c=>{const u=c.competenciaDescartada?new oe(c.competenciaDescartada).competencia():void 0,d=c.diferencas[r]?.tempo,m=c.diferencas[r]?.carencia,g=c.salarioDescartado,f=c.beneficios.find(v=>v.fundamento===r)?.dadosRmi.rmiReajustada;return{competencia:u,tempo:d,carencia:m,salario:g,rmi:f}});o.push({...s,descartes:l})}}),o}*calcular(t,o=Ya.Padrao){if(this.calculoRmiDesvinculada){if(t!==wt.NaDib)return;const h=this.calcularRmiDesvinculada(o);h&&(yield h);return}if(this.calculoPcdRegraAnterior&&t!==wt.NaDib)return;const a=ce.BenefíciosNaoProgramados.includes(this.especie);if(a&&t!==wt.NaDib)return;const i=[wt.DireitoAdquiridoAntesEc20],r=[wt.DireitoAdquiridoAntesEc103,wt.NaMudancaDasRegrasProgressivas,wt.NoRestabelecimentoDoDivisorMinimo,wt.NaMudancaDasRegrasProgressivasSemDivisorMinimo],A=[wt.DireitoAdquiridoAntesEc20,wt.DireitoAdquiridoAntesEc103,wt.NaLei9876,wt.NaRegraDePontosParaFator],n=this.dataApuracao.valueOf()<T.dpe20.valueOf(),s=this.dataApuracao.valueOf()<T.dpe103.valueOf();if(n&&i.includes(t)||s&&r.includes(t))return;const l=[];this._beneficiosParadigma=[];const c=a?this.calcularBeneficiosNaoProgramados():this.calcularBeneficios(t,l);let u=c.length>0;if(!u)return;const[d,m]=this.definirMaiorRmi(c),g=Hd(c),p=Md(g,g);if(yield{descartesAnteriores:l,beneficios:c,diferencas:p,maiorRmi:d,moeda:m},a||s||A.includes(t)||this.calculoPcdRegraAnterior)return;const f=R1(c[0].dadosRmi.pbcProcessado);let v=g;do{const h=f.pop();if(h){const B=h.competencia,b=h.salario,Q=this.dadosCalculo.historico.competenciasDescartadas.slice();this.dadosCalculo.historico.descartar(B);const y=this.calcularBeneficios(t,[...Q,B]),[I,D]=this.definirMaiorRmi(y);if(u=y.length>0,u){const O=Hd(y),S=Md(v,O);yield{descartesAnteriores:Q,competenciaDescartada:B,salarioDescartado:b,beneficios:y,diferencas:S,maiorRmi:I,moeda:D},v=O}}}while(u&&f.length>0)}}function $s({filtrar:e,periodos:t,opcoesFiltroPeriodos:o}){if(!o||t.length===0)return[];const a=[];for(const i of t){if(!e){a.push(i);continue}const r=o&&i.seq&&o[`${i.seq}`];if(!r)continue;const A=r&&o[`${i.seq}`].salarios;a.push({...i,salarios:A?i.salarios:{}})}return a}function ac(e){const t=e.excluirImportadosNoPeriodo??!0,o=e.excluirSeq??[],a=[];for(const i of $s({...e,filtrar:!0})){const r=i.seq;e.opcoesFiltroPeriodos&&r&&!o.includes(r)&&e.opcoesFiltroPeriodos[`${r}`].salarios&&(!t||!e.opcoesFiltroPeriodos[`${r}`].periodo)&&i.salarios&&a.push(...Object.values(i.salarios))}return a}function Zp(e){return $s({...e,filtrar:!0}).filter(t=>e.opcoesFiltroPeriodos&&t.seq&&e.opcoesFiltroPeriodos[`${t.seq}`].periodo)}function $1(e){const{seq:t,dataInicial:o,dataFinal:a,entidade:i,natureza:r,salarios:A}=e,n=zt.mapearDoCnis(r),s=n===zt.SeguradoEspecial?Qe.Rural:Qe.Comum,l={};for(const c of A){const{competencia:u,valor:d}=c;l[u.toLocaleDateString("pt-BR")]={competencia:u,valorCnis:d,seqCnis:e.seq,excluido:!1}}return{seq:t,dataInicial:o,dataFinal:a??o,descricao:i||"",formaContagem:s,grauDeficiencia:ke.SemDeficiencia,motivoContagem:xa.NaoDefinido,naturezaVinculo:n,contarCarencia:!0,observacao:`CNIS (seq. ${t})`,excluido:!1,prioritario:n===zt.BeneficioIncapacidade,salarios:l,origem:Ao.Cnis}}function V1(e,t){for(const o of e.dossiePrevidenciario.beneficios.listaBeneficios){if(!o.dataInicio||!ie(o.codigoEspecie)){t.ignorados.push({nb:st.nb(o.numero),carta:!1});continue}const a=st.nb(o.numero),i=o.codigoEspecie;let r,A=ie(o.valorRendaMensalInicial)?o.valorRendaMensalInicial:0;i===21&&ie(o.valorAposentadoriaBase)&&o.dataInicioBeneficioAnterior&&(A=o.valorAposentadoriaBase,r=o.dataInicioBeneficioAnterior,t.nbAnterior.set(a,{apBase:o.valorAposentadoriaBase,dibAnterior:o.dataInicioBeneficioAnterior}));const n={finalidade:nn.ApuracaoValorDevido,especie:o.codigoEspecie,nb:st.nb(o.numero),dib:o.dataInicio,dcb:o.dataCessacao,dadosRmi:{baseReajuste:Rr.BeneficioIndependente,valor:A,sb:ie(o.valorSalarioBeneficio)?o.valorSalarioBeneficio:void 0},dadosReajuste:{limitarBaseReajuste:!0,referenciaPrimeiroReajuste:r,anteciparAbono:!0,criterioApuracaoAbono:jA.ManterCalculoDoSistema},dependentes:{},observacao:"PREVJUD"};t.concedidos.set(a,{beneficio:n,cartaConcessao:{},pagamentos:[]})}}function fl(e){const t=Yi(e.resumoTO?.coeficiente)?Number(e.resumoTO.coeficiente)/100:0,o=Yi(e.resumoTO?.rendaMensalInicial)?de(e.resumoTO.rendaMensalInicial):0,{tempoContribuicao:a}=e.resumoTO,i=Number(/(\d+)\sANO/i.exec(a)?.[1]??"0"),r=Number(/(\d+)\sM[EÊ]S/i.exec(a)?.[1]??"0"),A=Number(/(\d+)\sDIA/i.exec(a)?.[1]??"0"),n=i*360+r*30+A,s=e.contribuicoesTO.reduce((l,c)=>(l[`01/${c.data}`]={seq:Number(c.numSequencia),competencia:new oe(`01/${c.data}`).competencia(),original:de(c.salario||0),indice:de(c.indice||0),corrigido:de(c.salCor||0),desconsiderado:c.obs.toUpperCase().includes("DESCONSIDERADO"),limitadoTeto:c.obs.toUpperCase().includes("LIMIT.")},l),{});return{grupos:void 0,coeficiente:t,rmi:o,pbc:s,competenciaInicial:new oe(e.dataInicioContribuicoes).competencia(),competenciaFinal:new oe(e.dataFimContribuicoes).competencia(),tempoContribuicao:n,divisor:de(e.resumoTO?.quantidadeSalAtiv||0),media:de(e.resumoTO?.mediaFinalContribuicao||0),salarioBeneficio:de(e.resumoTO?.salarioDeBeneficio||0),soma:de(e.resumoTO?.valorSalarioAtividade||0),aliquota:de(e.resumoTO?.aliquota||0),elevadoMinimo:!1,expectativaSobrevida:de(e.resumoTO?.expectativaVida||0),fatorPrevidenciario:de(e.resumoTO?.fator||0),idade:de(e.resumoTO?.idade||0),limitadoTeto:!1,mesesAposPublicacaoLei:de(e.resumoTO?.numeroMesesAposPublicacaoLei||0)}}function N1(e,t){const{nome:o,numeroENomeAps:a,nit:i,numeroBeneficioFormatado:r,codigoBeneficio:A,tipoBeneficioSemCodigo:n,inicioVigencia:s,dataConcessaoBeneficio:l,dataRequerimento:c,dataInicioPagamento:u,coeficiente:d,valorRendaMensalSemMoeda:m,nbAnteriorFormatado:g}=e.cabecalhoConcalTO.infoBeneficioTO,p=r??"-",f=Yi(A)?Number(A):0,v=n??"-",h=new oe(s).nativo(),B=new oe(c).nativo(),b=new oe(l).nativo(),Q=new oe(u).nativo(),y=Yi(d)?Number(d)/100:0,I=Yi(m)?de(m):0,{anosTempoContrib1:D,anosTempoContrib2:O,mesesTempoContrib1:S,mesesTempoContrib2:k,diasTempoContrib1:W,diasTempoContrib2:re}=e.cabecalhoConcalTO,$=de(D||0),z=de(S||0),N=de(W||0);let x=$*360+z*30+N;if(x===0){const Ke=de(O||0),Lt=de(k||0),Gt=de(re||0);x=Ke*360+Lt*30+Gt}const{possuiADQ:M,possuiEC103:X,rendaMensalInicialDirAdq:ae,rendaMensalInicialEC103:L}=e.detalheConcalTO,j=M&&ae!==void 0&&L!==void 0&&Number(ae)>Number(L),te=j||!X?void 0:e.regraArtigoEscolhido,Fe=e.tituloArtigoEscolhido?.includes("LC 142")||e.regraDireitoAdquirido?.includes("LC 142"),he=(e.detalheConcalTO.atividadesTO??[]).filter(Ke=>Ke.tipoAtividade==="SECUNDARIA").map(fl);let ve=e.detalheConcalTO.atividadeInicialTO?fl(e.detalheConcalTO.atividadeInicialTO):void 0;ve??=(e.detalheConcalTO.atividadesTO??[]).filter(Ke=>Ke.tipoAtividade==="PRINCIPAL").map(fl)[0];const Ce={nome:o,aps:a,nit:i},Te={nb:p,especie:f,descricao:v,dib:h,der:B,ddb:b,dip:Q,coeficiente:y,rmi:I,tempo:x,direitoAdquirido:j,regraTransicao:te,pcd:Fe,nbAnterior:g,dibAnterior:t?.dibAnterior?new Date(t.dibAnterior):void 0,apBase:t?.apBase};return{dadosSegurado:Ce,dadosBeneficio:Te,dadosCalculo:{direitoAdquirido:j?ve:void 0,principal:ve,secundarias:he}}}function q1(e,t){for(const o of e.dossiePrevidenciario.cartaConcessao.listaRespostaConcalTO){const a=o.cabecalhoConcalTO.infoBeneficioTO,i=st.nb(a.numeroBeneficio),r=t.concedidos.get(i);if(!r){t.ignorados.push({nb:i,carta:!0});continue}const A=t.nbAnterior.get(i);r.cartaConcessao.dadosCalculo=N1(o,A),ie(r.beneficio.dadosRmi.sb)||(r.beneficio.dadosRmi.sb=Va(a.salarioBeneficio)?de(a.salarioBeneficio):void 0),r.beneficio.dadosRmi.coeficiente=Va(a.coeficiente)?vt.multiplicar(de(a.coeficiente),.01):void 0;const n=a.nbAnteriorFormatado?st.nb(a.nbAnteriorFormatado):void 0;n&&!r.beneficio.dadosReajuste.referenciaPrimeiroReajuste&&(r.beneficio.dadosReajuste.referenciaPrimeiroReajuste=t.concedidos.get(st.nb(n))?.beneficio.dib);const s=(o.detalheConcalTO.dependentesTO??[]).map(u=>{const d=u.deficiente?.toLowerCase()==="sim";return{dataExtincao:u.dtexti?new oe(u.dtexti).nativo():new oe("01/01/2500").nativo(),deficiente:d}});s.filter(u=>Ea(u.dataExtincao,r.beneficio.dib)).sort((u,d)=>u.dataExtincao.getTime()-d.dataExtincao.getTime());const l=[{total:s.length,aPartirDe:r.beneficio.dib,algumInvalido:s.some(u=>u.deficiente)}];s.forEach((u,d,m)=>{To(u.dataExtincao,new oe("01/01/2500").nativo())||l.push({total:m.length-d,aPartirDe:Li(u.dataExtincao),algumInvalido:m.slice(d+1).some(g=>g.deficiente)})}),r.beneficio.dependentes=l.reduce((u,d,m)=>(u[m.toString()]=d,u),{});const c=new Map;o.detalheConcalTO.atividadesTO.forEach(u=>{u.tpCalculo!=="Lei 13135/2015"&&(u.contribuicoesTO.forEach((d,m)=>{if(!Va(d.data)||!Va(d.salario))return;const g=m+1,p=`01/${d.data}`,f=new oe(p).nativo(),v=c?.get(p)?.valorCalculoInss??0,h=vt.somarMoeda(v,de(d.salario));c.set(p,{seqCarta:g,competencia:f,valorCalculoInss:h,observacao:"Carta PREVJUD",excluido:!1})}),r.cartaConcessao.salariosConsolidados=Object.fromEntries(c.entries()))})}}function k1(e,t){if(e.dossiePrevidenciario.historicoCreditos.creditosTO)for(const o of e.dossiePrevidenciario.historicoCreditos.creditosTO){if(o.ocorrenciaTO.textoOcorrencia.includes("Não Pago")||o.estorno||!o.inCreditoPago)continue;const a={id:rA.gerar(),nb:st.nb(o.nb),competencia:new oe(`01/${o.dtCompetenciaCredito.toString().slice(4,6)}/${o.dtCompetenciaCredito.toString().slice(0,4)}`).nativo(),dataInicial:o.dtInicioPeriodo?new oe(o.dtInicioPeriodo).nativo():void 0,dataFinal:o.dtInicioPeriodo?new oe(o.dtFimPeriodo).nativo():void 0,dataPagamento:o.dtPgtoCredito?new oe(o.dtPgtoCredito).nativo():void 0,creditosRenda:[],debitosRenda:[],creditosAbono:[],debitosAbono:[],valorLiquidoRenda:0,valorLiquidoAbono:0},i=[],r=[],A=[],n=[];o.rubricasCreditoTO.forEach(f=>{c0.includes(f.codigoRubrica)?(i.push(f.valorRubrica),a.creditosRenda.push({codigo:f.codigoRubrica.toString(),descricao:f.rubricaTO.nome,valor:f.valorRubrica})):u0.includes(f.codigoRubrica)?(r.push(f.valorRubrica),a.debitosRenda.push({codigo:f.codigoRubrica.toString(),descricao:f.rubricaTO.nome,valor:f.valorRubrica})):d0.includes(f.codigoRubrica)?(A.push(f.valorRubrica),a.creditosAbono.push({codigo:f.codigoRubrica.toString(),descricao:f.rubricaTO.nome,valor:f.valorRubrica})):m0.includes(f.codigoRubrica)&&(n.push(f.valorRubrica),a.debitosAbono.push({codigo:f.codigoRubrica.toString(),descricao:f.rubricaTO.nome,valor:f.valorRubrica}))});const s=vt.somarMoeda(...i),l=vt.somarMoeda(...r),c=vt.somarMoeda(s,-l),u=vt.somarMoeda(...A),d=vt.somarMoeda(...n),m=vt.somarMoeda(u,-d);a.valorLiquidoRenda=c,a.valorLiquidoAbono=m;const g=st.nb(o.nb.toString()),p=t.concedidos.get(g);if(a.dataInicial&&p){const f=p.beneficio.dadosReajuste.computarAPartirDe;(!f||f&&na(a.dataInicial,new Date(f)))&&(p.beneficio.dadosReajuste.computarAPartirDe=a.dataInicial)}p?.pagamentos.push(a)}}function K1(e){const{nome:t,sexo:o,dataNascimento:a,dataObito:i}=e.dossiePrevidenciario.consultaFiliadoTO.filiadoTO;return{nome:t??"Não identificado",sexo:o.toLowerCase()==="masculino"?V.Masculino:V.Feminino,nascimento:a?xt(a):void 0,obito:i?xt(i):void 0}}function z1(e){const t=new Map;for(const o of e.dossiePrevidenciario.extratoPrevidenciario.listaVinculosTO){if(!o.dataInicio||o.vinculoBeneficio&&!(o.nomeVinculo.includes("31 - AUXILIO DOENCA")||o.nomeVinculo.includes("32 - APOSENTADORIA")||o.nomeVinculo.includes("91 - AUXILIO DOENCA")||o.nomeVinculo.includes("92 - APOSENTADORIA")||o.nomeVinculo.includes("80 - AUXILIO")))continue;let a=zt.NaoInformado;o.vinculoTrabalhista?a=zt.Empregado:o.vinculoBeneficio?a=zt.BeneficioIncapacidade:o.vinculoPrestadorServico?a=zt.ContribuinteIndividual:o.vinculoTrabalhadorAvulso?a=zt.TrabalhadorAvulso:o.vinculoSeguradoEspecial&&(a=zt.SeguradoEspecial);const i=o.sequencia;let r=o.dataFim;if(!r&&o.ultimaRemuneracao){const[s,l]=o.ultimaRemuneracao.split("/");r=ua(new oe(`01/${s}/${l}`).nativo()).toLocaleDateString("pt-BR")}r||(r=o.dataInicio);const A={seq:o.sequencia,dataInicial:o.dataInicio,dataFinal:r,observacao:`PrevJud - seq. ${o.sequencia}`,excluido:o.vinculoSeguroDesemprego===!0||o.vinculoReclusao===!0,descricao:o.nomeVinculo,formaContagem:a===zt.SeguradoEspecial?Qe.Rural:Qe.Comum,contarCarencia:!0,motivoContagem:xa.NaoDefinido,prioritario:!1,grauDeficiencia:ke.SemDeficiencia,naturezaVinculo:a,indicadores:Array.isArray(o.listaIndicadoresTO)?o.listaIndicadoresTO.map(s=>s.sigla):void 0,origem:Ao.PrevJud,salarios:{}};if(o.vinculoBeneficio){t.set(i,A);continue}const n=new Map;o.listaContribuicoesTO?.forEach(s=>{if(!ie(s.salarioContribuicao)||!Va(s.competencia))return;const l=new aa(s.competencia),c=l.comoData,u=l.comoTexto,d=n?.get(u)?.valorPrevjud??0,m=vt.somarMoeda(d,s.salarioContribuicao);n.set(u,{seqPrevjud:o.sequencia,competencia:c,valorPrevjud:m,excluido:!1,indicadores:s.indicadores})}),o.listaRemuneracoesTO?.forEach(s=>{if(!ie(s.valor)||!Va(s.competencia))return;const l=new aa(s.competencia),c=l.comoData,u=l.comoTexto,d=n?.get(u)?.valorPrevjud??0,m=vt.somarMoeda(d,s.valor);n.set(u,{seqPrevjud:o.sequencia,competencia:c,valorPrevjud:m,excluido:!1,indicadores:s.indicadores?s.indicadores?.toString():void 0})}),o.listaRemuneracoesOcupacoesTO?.forEach(s=>{const l=s.remuneracaoTO;if(!ie(l.valor)||!Va(l.competencia))return;const c=new aa(l.competencia),u=c.comoData,d=c.comoTexto,m=n?.get(d)?.valorPrevjud??0,g=vt.somarMoeda(m,l.valor);n.set(d,{seqPrevjud:o.sequencia,competencia:u,valorPrevjud:g,excluido:!1,indicadores:l.indicadores?l.indicadores?.toString():void 0})}),t.set(i,{...A,salarios:Object.fromEntries(n.entries())})}return t}function G1(e){const t=JSON.parse(e,ko),o={concedidos:new Map,nbAnterior:new Map,ignorados:[]},a=K1(t);V1(t,o),q1(t,o),k1(t,o);const i=z1(t);return{segurado:a,periodos:Array.from(i.values()),beneficios:Array.from(o.concedidos.values())}}function j1(e){return[["Segurado(a):",e.segurado.nome??"-"],["Benefícios:",`${e.beneficios.length}`],["Períodos:",`${e.periodos.length}`]]}function W1(e){const t=uu(e);return t&&"cabecalho"in t&&"processamentoTO"in t&&"dossiePrevidenciario"in t&&t.cabecalho.nomeCliente==="PDPJ"&&t.cabecalho.status==="FINALIZADO"&&t.cabecalho.tipoDossie==="PREVIDENCIARIO"}const J1=class eg extends Mo{static nome="Dossiê Prevjud";static testar(t){return W1(t)}obterNome(){return eg.nome}analisar(t){const o=G1(t),a=j1(o);return this.definir(o,a),o}};function X1(e){return JSON.parse(e,ko)}function Y1(e){return[["Cálculo:",e.ref||"-"],["Processo:",e.dadosProcesso.numero||"-"],["Autor(a):",e.dadosProcesso.autor||"-"],["Benefício:",`${e.dadosBeneficio.especie??"-"}`],["RMI:",wB(e.dadosBeneficio.dadosRmi.rmi)]]}function Z1(e){const t=uu(e);return t&&"ref"in t&&"dadosProcesso"in t&&"dadosBeneficio"in t&&"dadosRmi"in t.dadosBeneficio&&ie(t.dadosBeneficio.dadosRmi.rmi)&&ie(t.dadosBeneficio.especie)}const eF=class tg extends Mo{static nome="Dados do Cálculo da RMI";static testar(t){return Z1(t)}obterNome(){return tg.nome}analisar(t){const o=X1(t),a=Y1(o);return this.definir(o,a),o}};var oA=(e=>(e.Cargo="CA",e.Carreira="CR",e.ServicoPublico="SP",e.Aposentadoria="TT",e))(oA||{});(e=>{e.API={CARGO:"CA",CARREIRA:"CR",SERVICO_PUBLICO:"SP",APOSENTADORIA:"TT"};const t={CA:"para cargo atual (tempo simples)",CR:"para carreira (tempo simples)",SP:"para serviço público (tempo simples)",TT:"para tempo total (tempo convertido)"};function o(A){const n=Object.entries(e.API);for(let s=0;s<n.length;s++){const[l,c]=n[s];if(c===A)return l}throw new Error(`Valor inválido de 'Computado Para' (${A})`)}e.obterValorApi=o;function a(){return Object.values(e).filter(A=>Re(A)).map(A=>({rotulo:t[A],valor:A}))}e.obterOpcoes=a;function i(A){return t[A]}e.obterRotulo=i;function r(A){return A}e.obterRotuloAbreviado=r})(oA||(oA={}));var io=(e=>(e.DataData="Data a Data",e.Dias365="Dias 365",e))(io||{});(e=>{const t={"Data a Data":"Dia-Dia","Dias 365":"Dias 365"};function o(A){return Object.values(e).includes(A)}e.existente=o;function a(){return Object.values(e).filter(A=>Re(A)).map(A=>({rotulo:t[A],valor:A}))}e.obterOpcoes=a;function i(A){return t[A]}e.obterRotulo=i;function r(A){switch(A){case"Data a Data":return"Contagem dos dias exatos entre as datas.";case"Dias 365":return"Diferença entre datas em anos, meses e dias, considerando 1 ano = 365 dias e 1 mês = 30 dias.";default:return""}}e.obterExplicacao=r})(io||(io={}));var ic=(e=>(e.ServicoPublico="ServicoPublico",e.Carreira="Carreira",e.Cargo="Cargo",e.Magisterio="Magisterio",e.Total="Total",e))(ic||{});(e=>{const t={ServicoPublico:"Serviço Público",Carreira:"Carreira",Cargo:"Cargo",Magisterio:"Magistério",Total:"Total"};function o(){return Object.values(e).filter(r=>Re(r)).map(r=>({rotulo:t[r],valor:r}))}e.obterOpcoes=o;function a(r){return Object.values(e).includes(r)}e.existente=a;function i(r){return t[r]}e.obterRotulo=i})(ic||(ic={}));var Le=(e=>(e.DoencaPessoaDaFamilia="1",e.CursoFormacaoConcursoOutroCargo="2",e.TratamentoSaudeDuranteCargoDaUniao="3",e.AfastamentoConjugeCompanheiro="4",e.LicencaAposServicoMilitar="5",e.AtividadePoliticaAteVesperaRegistro="6",e.AtividadePoliticaRegistroAteDecimoDiaEleicao="7",e.InteressesParticulares="8",e.DesempenhoMandatoClassista="9",e.ServicoMilitar="10",e.Capacitacao="11",e.PremioAssiduidade="12",e.ServirOutroOrgaoEntidade="13",e.MandatoEletivo="14",e.EstudoOuMissaoNoExterior="15",e.ServirEmOrganismoInternacional="16",e.DoarSangue="17",e.AlistarComoEleitor="18",e.Casamento="19",e.Luto="20",e.Gestante="21",e.Adotante="22",e.Paternidade="23",e.AusenciaJuriOutrosServicosObrigatorios="24",e.AcidenteEmServico="25",e.DoencaProfissional="26",e.Ferias="27",e.ProgramaTreinamentoRegInstituido="28",e.PeriodoDeTransito="29",e.ParticipacaoConvocacaoCompeticaoDesportiva="30",e.FaltaInjustificada="31",e.SerInterrogadoPrestarDepoimentoTestemunhal="32",e.AfastamentoPreventivo="33",e.Suspensao="34",e.SuspensaoConvertidaEmMulta="35",e.Outros="99",e))(Le||{});(e=>{const t={1:"Doença em Pessoa da Família",3:"Tratamento de Saúde Durante Cargo Da União",4:"Afastamento de Cônjuge/Companheiro",6:"Atividade Política - Até Véspera do Registro",7:"Atividade Política - Entre Registro e 10º Dia da Eleição",8:"Tratar de Interesses Particulares",9:"Desempenho de Mandato Classista",10:"Serviço Militar",11:"Capacitação",12:"Prêmio por Assiduidade",13:"Servir em Outro Órgão/Entidade",14:"Exercício de Mandato Eletivo",15:"Estudo ou Missão no Exterior",16:"Servir em Organismo Internacional",17:"Doar Sangue",18:"Alistar como Eleitor",19:"Casamento",20:"Luto",21:"Gestante",22:"Adotante",23:"Paternidade",24:"Participação em Júri e Outros Serviços Obrigatórios",25:"Acidente em Serviço",26:"Doença Profissional",27:"Férias",28:"Programa de Treinamento Regimentalmente Instituído",29:"Período de Trânsito",30:"Participação/Convocação para Competição Desportiva",31:"Falta Injustificada",32:"Ser Interrogado/Prestar Depoimento Testemunhal",33:"Afastamento Preventivo",34:"Suspensão",35:"Suspensão Convertida em Multa",5:"Licença Após Serviço Militar",2:"Curso de Formação/Concurso para Outro Cargo",99:"Outros"};function o(){return Object.values(e).filter(r=>Re(r)).map(r=>({rotulo:t[r],valor:r}))}e.obterOpcoes=o;function a(r){return t[r]}e.obterRotulo=a;function i(r){return!(typeof r!="string"||!Object.values(e).includes(r))}e.existente=i})(Le||(Le={}));var zi=(e=>(e.VoluntariasRegraGeral="voluntariasRegrasGerais",e.VoluntariaPorTempo="voluntariaPorTempo",e.VoluntariaPorIdade="voluntariaPorIdade",e.VoluntariaEspecial="voluntariaEspecial",e.VoluntariaMagistério="voluntariaMagisterio",e.Compulsoria="compulsoria",e.Invalidez="invalidez",e))(zi||{});(e=>{const t={voluntariaPorTempo:"Aposentadoria Voluntária por Tempo ",voluntariaPorIdade:"Aposentadoria Voluntária por Idade",voluntariaEspecial:"Aposentadoria Voluntária Especial",voluntariaMagisterio:"Aposentadoria Voluntária de Magistério",compulsoria:"Aposentadoria Compulsória",invalidez:"Aposentadoria por Invalidez",voluntariasRegrasGerais:"Aposentadorias de Regras Gerais"};e.GrupoDisponivel=["voluntariasRegrasGerais"],e.AplicavelParaPcd=["voluntariaPorTempo","voluntariaPorIdade"];function o(){return Object.values(e).filter(n=>Re(n)).map(n=>({rotulo:t[n],valor:n}))}e.obterOpcoes=o;function a(){return e.GrupoDisponivel.map(n=>({rotulo:t[n],valor:n}))}e.obterOpcoesDisponiveis=a;function i(){return e.AplicavelParaPcd.map(n=>({rotulo:t[n],valor:n}))}e.obterOpcoesPcd=i;function r(n){return Object.values(e).includes(n)}e.existente=r;function A(n){return t[n]}e.obterRotulo=A})(zi||(zi={}));var fs=(e=>(e[e.UltimaRemuneracao=0]="UltimaRemuneracao",e[e.Media80=1]="Media80",e[e.Media100=2]="Media100",e))(fs||{});(e=>{const t={0:"Última remuneração",1:"Média das 80% maiores contribuições",2:"Média de todas as contribuições"};function o(){return Fo(e,t)}e.obterOpcoes=o;function a(i){return t[i]}e.obterRotulo=a})(fs||(fs={}));var sA=(e=>(e.CF88Art40IncisoII="CF88Art40IncisoII",e.CF88Art40IncisoIILc152="CF88Art40IncisoIILc152",e.CF88Art40IncisoIILc152Ec103="CF88Art40IncisoIILc152Ec103",e.CF88Art40Paragrafo1Ou4="CF88Art40Paragrafo1Ou4",e.CF88Art40IncisoIIIAlineaAOriginal="CF88Art40IncisoIIIAlineaAOriginal",e.CF88Art40IncisoIIIAlineaARedEc20="CF88Art40IncisoIIIAlineaARedEc20",e.CF88Art40IncisoIIIAlineaBOriginal="CF88Art40IncisoIIIAlineaBOriginal",e.CF88Art40IncisoIIIAlineaBRedEc20="CF88Art40IncisoIIIAlineaBRedEc20",e.CF88Art40IncisoIIIAlineaCOriginal="CF88Art40IncisoIIIAlineaCOriginal",e.CF88Art40IncisoIIIAlineaDOriginal="CF88Art40IncisoIIIAlineaDOriginal",e.Ec20Art8IncisosIaIIIAlineasAeB="Ec20Art8IncisosIaIIIAlineasAeB",e.Ec20Art8Paragrafo1IncisoIAlineasAeB="Ec20Art8Paragrafo1IncisoIAlineasAeB",e.Ec20Art1CfArt201paragrafo7I="Ec20Art1CfArt201paragrafo7I",e.Ec41Art2="Ec41Art2",e.Ec41Art6="Ec41Art6",e.Ec47Art3="Ec47Art3",e.Lc142Art3IncisoIaIII="Lc142Art3IncisoIaIII",e.Lc142Art3IncisoIaIIIEc103="Lc142Art3IncisoIaIIIEc103",e.Lc142Art3IncisoIV="Lc142Art3IncisoIV",e.Lc142Art3IncisoIVEc103="Lc142Art3IncisoIVEc103",e.Ec103Art4="Ec103Art4",e.Ec103Art10="Ec103Art10",e.Ec103Art19="Ec103Art19",e.Ec103Art20="Ec103Art20",e.Ec103Art21="Ec103Art21",e))(sA||{});(e=>{const t={CF88Art40IncisoII:"CF/88, art. 40, II (red. EC 88) e LC 152/2015",CF88Art40IncisoIILc152:"CF/88, art. 40, II (red. EC 88) e LC 152/2015",CF88Art40IncisoIILc152Ec103:"CF/88, art. 40, II (red. EC 88), LC 152/2015 e EC 103",CF88Art40Paragrafo1Ou4:"CF/88, art. 40, § 1º (red. original) ou § 4º, II e III",CF88Art40IncisoIIIAlineaAOriginal:'CF/88, art. 40, III, "a", red. original',CF88Art40IncisoIIIAlineaARedEc20:'CF/88, art. 40, III, "a", red. EC 20',CF88Art40IncisoIIIAlineaBOriginal:'CF/88, art. 40, III, "b", red. original',CF88Art40IncisoIIIAlineaBRedEc20:'CF/88, art. 40, III, "b", red. EC 20',CF88Art40IncisoIIIAlineaCOriginal:'CF/88, art. 40, III, "c", red. original',CF88Art40IncisoIIIAlineaDOriginal:'CF/88, art. 40, III, "d", red. original',Ec20Art1CfArt201paragrafo7I:"EC 20, art. 1º, altera CF art. 201, § 7º, I",Ec20Art8IncisosIaIIIAlineasAeB:'EC 20, art. 8º, I a III, "a" e "b"',Ec20Art8Paragrafo1IncisoIAlineasAeB:'EC 20, art. 8º, § 1º, I, "a" e "b"',Ec41Art2:"EC 41, art. 2º",Ec41Art6:"EC 41, art. 6º",Ec47Art3:"EC 47, art. 3º",Lc142Art3IncisoIV:"LC 142/2013, art. 3º, IV",Lc142Art3IncisoIVEc103:"LC 142/2013, art. 3º, IV",Lc142Art3IncisoIaIII:"LC 142/2013, art. 3º, I, II e III",Lc142Art3IncisoIaIIIEc103:"LC 142/2013, art. 3º, I, II e III",Ec103Art4:"EC 103, art. 4º",Ec103Art10:"EC 103, art. 10",Ec103Art19:"EC 103, art. 19",Ec103Art20:"EC 103, art. 20",Ec103Art21:"EC 103, art. 21"};e.regrasProgressivasEc103=["Ec103Art4","Ec103Art10"];function o(){return Object.values(e).filter(r=>Re(r)).map(r=>({rotulo:t[r],valor:r}))}e.obterOpcoes=o;function a(r){return t[r]}e.obterRotulo=a;function i(r){return!(typeof r!="string"||!Object.values(e).includes(r))}e.existente=i})(sA||(sA={}));const tF={[Le.DoencaPessoaDaFamilia]:{paraAposentadoria:void 0,servicoPublico:void 0,carreira:void 0,cargoAtual:void 0},[Le.TratamentoSaudeDuranteCargoDaUniao]:{paraAposentadoria:void 0,servicoPublico:void 0,carreira:void 0,cargoAtual:void 0},[Le.AfastamentoConjugeCompanheiro]:{paraAposentadoria:void 0,servicoPublico:!1,carreira:!1,cargoAtual:!1},[Le.AtividadePoliticaAteVesperaRegistro]:{paraAposentadoria:!1,servicoPublico:!1,carreira:!1,cargoAtual:!1},[Le.AtividadePoliticaRegistroAteDecimoDiaEleicao]:{paraAposentadoria:!0,servicoPublico:!1,carreira:!1,cargoAtual:!1},[Le.InteressesParticulares]:{paraAposentadoria:!1,servicoPublico:!1,carreira:!1,cargoAtual:!1},[Le.DesempenhoMandatoClassista]:{paraAposentadoria:void 0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.ServicoMilitar]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Capacitacao]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.PremioAssiduidade]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.ServirOutroOrgaoEntidade]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.MandatoEletivo]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.EstudoOuMissaoNoExterior]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.ServirEmOrganismoInternacional]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.DoarSangue]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.AlistarComoEleitor]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Casamento]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Luto]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Gestante]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Adotante]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Paternidade]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.AusenciaJuriOutrosServicosObrigatorios]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.AcidenteEmServico]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.DoencaProfissional]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Ferias]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.ProgramaTreinamentoRegInstituido]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.PeriodoDeTransito]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.ParticipacaoConvocacaoCompeticaoDesportiva]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.FaltaInjustificada]:{paraAposentadoria:!1,servicoPublico:!1,carreira:!1,cargoAtual:!1},[Le.SerInterrogadoPrestarDepoimentoTestemunhal]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.AfastamentoPreventivo]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Suspensao]:{paraAposentadoria:!1,servicoPublico:!1,carreira:!1,cargoAtual:!1},[Le.SuspensaoConvertidaEmMulta]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.LicencaAposServicoMilitar]:{paraAposentadoria:!1,servicoPublico:!1,carreira:!1,cargoAtual:!1},[Le.CursoFormacaoConcursoOutroCargo]:{paraAposentadoria:!0,servicoPublico:!0,carreira:!0,cargoAtual:!0},[Le.Outros]:{paraAposentadoria:void 0,servicoPublico:void 0,carreira:void 0,cargoAtual:void 0}};function og(e){return tF[e]}const ag=[Le.DoencaPessoaDaFamilia,Le.AfastamentoConjugeCompanheiro,Le.InteressesParticulares,Le.DesempenhoMandatoClassista];class oF extends wu{constructor(t){if(super(t),this.props=t,!Le.existente(t.tipo))throw new TypeError("Parâmetro 'tipo de afastamento' inválido");this._tipo=t.tipo,this._recolheuContribuicao=this.validarBooleanoOuIndefinido(t.recolheuContribuicao);const{paraAposentadoria:o,servicoPublico:a,carreira:i,cargoAtual:r}=this.inicializarComputo(t);this._paraAposentadoria=o,this._servicoPublico=a,this._carreira=i,this._cargoAtual=r}_tipo;_carreira;_cargoAtual;_servicoPublico;_paraAposentadoria;_recolheuContribuicao;validarBooleanoOuIndefinido(t){if(t!==void 0&&!Ca(t))throw new TypeError("Parâmetro 'forma de contagem' inválido");return t}analisarAplicacaoRecolhimento(t){return ag.includes(this.tipo)?this.tipo===Le.DesempenhoMandatoClassista&&na(this.dataInicial,T.mp1522)?!0:!!this.recolheuContribuicao:this.validarBooleanoOuIndefinido(t)}inicializarTipoOutros(t){const o=this.validarBooleanoOuIndefinido(t.paraAposentadoria)??!1,a=this.validarBooleanoOuIndefinido(t.servicoPublico)??!1,i=this.validarBooleanoOuIndefinido(t.carreira)??!1,r=this.validarBooleanoOuIndefinido(t.cargoAtual)??!1;return{paraAposentadoria:o,servicoPublico:a,carreira:i,cargoAtual:r}}inicializarComputo(t){if(t.tipo===Le.Outros)return this.inicializarTipoOutros(t);const{paraAposentadoria:o,...a}=og(t.tipo);return{paraAposentadoria:this.analisarAplicacaoRecolhimento(o),...a}}get tipo(){return this._tipo}get carreira(){return this._carreira}get cargoAtual(){return this._cargoAtual}get servicoPublico(){return this._servicoPublico}get paraAposentadoria(){return this._paraAposentadoria}get recolheuContribuicao(){return this._recolheuContribuicao}get peso(){return pi.beneficioIntercalado}}class qa extends s1{constructor(t){if(super(t),this.props=t,!Ca(this.props.rgps))throw new TypeError("Parâmetro 'RGPS' inválido");if(this._rgps=t.rgps,!Ca(this.props.carreira))throw new TypeError("Parâmetro 'carreira' inválido");if(this._carreira=t.carreira,!Ca(this.props.cargoAtual))throw new TypeError("Parâmetro 'cargo atual' inválido");if(this._cargoAtual=t.cargoAtual,!Ca(this.props.servicoPublico))throw new TypeError("Parâmetro 'serviço público' inválido");if(this._servicoPublico=t.servicoPublico,this.props.afastamento&&!Ca(this.props.afastamento))throw new TypeError("Parâmetro 'afastamento' inválido");if(this._afastamento=t.afastamento??!1,this.props.paraAposentadoria&&!Ca(this.props.paraAposentadoria))throw new TypeError("Parâmetro 'aposentadoria' inválido");if(this._paraAposentadoria=t.paraAposentadoria??!0,!io.existente(t.metodoCalculoDias))throw new TypeError("Parâmetro 'método cálculo de dias' inválido");if(this._metodoCalculoDias=t.metodoCalculoDias,this._metodoCalculoDias===io.Dias365&&!this._rgps)throw new TypeError("Parâmetro 'método cálculo de dias' inconsistente com a opção 'RGPS'");this._idCtc=t.idCtc}_rgps;_metodoCalculoDias;_carreira;_cargoAtual;_servicoPublico;_afastamento;_paraAposentadoria;_idCtc;get rgps(){return this._rgps}get metodoCalculoDias(){return this._metodoCalculoDias}get carreira(){return this._carreira}get cargoAtual(){return this._cargoAtual}get servicoPublico(){return this._servicoPublico}get paraAposentadoria(){return this._paraAposentadoria}get afastamento(){return this._afastamento}get idCtc(){return this._idCtc}inicioContagem(){return this.dataInicial}terminoContagem(t){return ii(this.dataFinal,t)}tempoEmDias(t){const{ate:o}=t,a=this.inicioContagem(),i=this.terminoContagem(o);return this.computavelComoTempo(o)?this.metodoCalculoDias===io.Dias365?QB(a,i)+1:vi(a,i,so.Dias)+1:0}tempo(t){const o=this.obterParcialTempo(t);return o.convertidoPara.comum=o.convertidoPara.modificador??o.convertidoPara.comum,o.convertidoPara.especial15=o.convertidoPara.modificador??o.convertidoPara.especial15,o.convertidoPara.especial20=o.convertidoPara.modificador??o.convertidoPara.especial20,o.convertidoPara.especial25=o.convertidoPara.modificador??o.convertidoPara.especial25,o.convertidoPara.grave=o.convertidoPara.modificador??o.convertidoPara.grave,o.convertidoPara.moderada=o.convertidoPara.modificador??o.convertidoPara.moderada,o.convertidoPara.leve=o.convertidoPara.modificador??o.convertidoPara.leve,{...o,formaContagem:this.formaContagem,grauDeficiencia:this.grauDeficiencia,preponderante:{especial:void 0,grauDeficiencia:void 0},periodo:this}}obterParcialTempo(t){const{ate:o,sexo:a,mapaCtc:i}=t;let r=0;if(this.rgps){const u=i?.get(this.idCtc??"Não informado");u&&To(u.dataFinal,this.dataFinal)&&(r=u.diferencaComplementar)}const A=this.inicioContagem(),n=this.terminoContagem(o),s=this.tempoEmDias({...t})+r,l=Qe.grupos.somenteComum.includes(this.formaContagem),c=zp({periodo:this,tempoEmDias:s,computarTempoComum:l,sexo:a});return{inicioContagem:A,terminoContagem:n,formaContagem:this.formaContagem,grauDeficiencia:this.grauDeficiencia,preponderante:{especial:void 0,grauDeficiencia:void 0},periodo:this,computadaComplementacaoCtc:r>0,...c,servicoPublico:this.servicoPublico?c.simples:0,carreira:this.carreira?c.simples:0,cargo:this.cargoAtual?c.simples:0,...this.afastamento===!0&&this.paraAposentadoria===!1?{comum:0,especial15:0,especial20:0,especial25:0,grave:0,moderada:0,leve:0,modificador:0,magisterio:0,trabalhadoComoPcd:0,convertidoPara:{comum:0,especial15:0,especial20:0,especial25:0,grave:0,moderada:0,leve:0,modificador:0,comumPcd41:0,comumPcd41ComDeficiencia:0},paraPontos:{comum:0,preponderante15:0,preponderante20:0,preponderante25:0}}:{}}}get peso(){if(this.afastamento)return pi.beneficioIntercalado;let t=0;return this.cargoAtual?t+=.3:this.carreira?t+=.2:this.servicoPublico&&(t+=.1),super.peso+t}get afastamentoRelevante(){return!(!this.afastamento||[this.paraAposentadoria,this.servicoPublico,this.carreira,this.cargoAtual].every(o=>o===!0))}}function ps({acumuladoInicial:e,acumuladoFinal:t,diasLimite:o,periodoProps:a}){if(t<=o)return{primeiraParte:a};if(e>=o)return{segundaParte:a};const i=xt(a.dataInicial),r=Mi(i,o-e,so.Dias),A={...a,dataFinal:Mi(r,-1,so.Dias)},n={...a,dataInicial:r};return{primeiraParte:A,segundaParte:n}}function aF(e,t,o){const{dataInicial:a,dataFinal:i,excluido:r}=e,A={dataInicial:a,dataFinal:i,descricao:Le.obterRotulo(e.tipo),contarCarencia:!1,prioritario:!1,rgps:!1,metodoCalculoDias:io.DataData,carreira:!1,cargoAtual:!1,servicoPublico:!1,afastamento:!0,paraAposentadoria:!1,excluido:r},n=ps({acumuladoInicial:t,acumuladoFinal:o,diasLimite:60,periodoProps:A});return n.segundaParte?[new qa(n.segundaParte)]:[]}function iF(e,t,o){const{dataInicial:a,dataFinal:i,excluido:r}=e;if(t>=30)return[];const n={dataInicial:a,dataFinal:i,descricao:Le.obterRotulo(e.tipo),contarCarencia:!1,prioritario:!1,rgps:!1,metodoCalculoDias:io.DataData,carreira:!0,cargoAtual:!0,servicoPublico:!0,afastamento:!0,paraAposentadoria:!0,excluido:r},s=ps({acumuladoInicial:t,acumuladoFinal:o,diasLimite:30,periodoProps:n});return s.primeiraParte?[new qa(s.primeiraParte)]:[]}function rF(e,t,o){const{dataInicial:a,dataFinal:i,excluido:r}=e;if(t>=60)return[];const n={dataInicial:a,dataFinal:i,descricao:Le.obterRotulo(e.tipo),contarCarencia:!1,prioritario:!1,rgps:!1,metodoCalculoDias:io.DataData,carreira:!1,cargoAtual:!1,servicoPublico:!1,afastamento:!0,paraAposentadoria:!0,excluido:r},s=ps({acumuladoInicial:t,acumuladoFinal:o,diasLimite:30,periodoProps:n});if(!s.segundaParte)return[];let c=0;if(s.primeiraParte){const d=xt(s.primeiraParte.dataFinal);c=new qa(s.primeiraParte).emDias(d)}const u=ps({acumuladoInicial:t+c,acumuladoFinal:o,diasLimite:60,periodoProps:s.segundaParte});return u.primeiraParte?[new qa(u.primeiraParte)]:[]}function AF(e){if(!e.length)return[];const t=[];let o=Mi(e[0].dataInicial,365,so.Dias),a=0;for(const i of e){const{dataInicial:r,dataFinal:A,tipo:n}=i;if(n!==Le.DoencaPessoaDaFamilia)throw new Error("Erro da aplicação. Contacte o suporte. Motivo: tipo de afastamento inválido para LTPF após 1990");if(bo(r,T.lei8112))throw new Error("Erro da aplicação. Contacte o suporte. Motivo: data de início do afastamento inválida para LTPF após 1990");Ea(r,o)&&(o=Mi(r,365,so.Dias),a=0);const s=i.emDias(A),l=a+s,c=iF(i,a,l),u=rF(i,a,l),d=aF(i,a,l);t.push(...c,...u,...d),a=l}return t}function nF(e){if(!e.length)return[];const t=[];for(const o of e){const{dataInicial:a,dataFinal:i,excluido:r,recolheuContribuicao:A,tipo:n}=o;if(n!==Le.DoencaPessoaDaFamilia)throw new Error("Erro da aplicação. Contacte o suporte. Motivo: tipo de afastamento inválido para LTPF (até 1990)");if(Aa(a,T.lei8112))throw new Error("Erro da aplicação. Contacte o suporte. Motivo: data de início do afastamento inválida para LTPF (até 1990)");const s={dataInicial:a,dataFinal:i,descricao:Le.obterRotulo(o.tipo),contarCarencia:!1,prioritario:!1,rgps:!1,metodoCalculoDias:io.DataData,carreira:!1,cargoAtual:!1,servicoPublico:!1,afastamento:!0,paraAposentadoria:A===!0,excluido:r};t.push(new qa(s))}return t}function Td(e,t){const o=e.filter(r=>{const{inicio:A,termino:n}=t,s=A?Ea(r.dataInicial,A):!0,l=n?bo(r.dataFinal,n):!0;return s&&l});if(!o.length)return[];const a=[];let i=0;for(const r of o){const{dataInicial:A,dataFinal:n,excluido:s,tipo:l}=r;if(l!==Le.TratamentoSaudeDuranteCargoDaUniao)throw new Error("Erro da aplicação. Contacte o suporte. Motivo: tipo de afastamento inválido para LTS");const c={dataInicial:A,dataFinal:n,descricao:Le.obterRotulo(r.tipo),contarCarencia:!1,prioritario:!1,rgps:!1,metodoCalculoDias:io.DataData,carreira:!0,cargoAtual:!0,servicoPublico:!0,afastamento:!0,paraAposentadoria:!0,excluido:s},u={...c,carreira:!1,cargoAtual:!1,servicoPublico:!1},d=new qa(c),m=d.emDias(d.dataFinal),g=i+m;if(g<=720){i=g,a.push(d);continue}if(i>720){a.push(new qa(u));continue}const p=Mi(A,720-i,so.Dias);c.dataFinal=Mi(p,-1,so.Dias),a.push(new qa(c)),u.dataInicial=p,a.push(new qa(u)),i=g}return a}class ig extends Hs{constructor(t){super(t)}criarNovaInstancia(t){return new oF(t)}remover(t){super.remover(t)}removerTudo(){super.removerTudo()}adicionar(t){return super.adicionar(t)}adicionarMultiplos(t){return super.adicionarMultiplos(t)}atualizar(t,o){super.atualizar(t,o)}atualizarMultiplos(t){for(const[o,a]of Object.entries(t))this.atualizar(o,a)}recortar(t,o){return super.recortar(t,o)}obterPeriodosParaCalculo(){const t=this.tirarConcomitancia(this.lista().filter(l=>!l.excluido)),o=[],a=[],i=[],r=[];for(const l of t){if(l.tipo===Le.DoencaPessoaDaFamilia){bo(l.dataInicial,T.lei8112)?a.push(l):i.push(l);continue}if(l.tipo===Le.TratamentoSaudeDuranteCargoDaUniao){r.push(l);continue}const{carreira:c,cargoAtual:u,servicoPublico:d,paraAposentadoria:m,dataInicial:g,dataFinal:p,excluido:f}=l,v={dataInicial:g,dataFinal:p,descricao:Le.obterRotulo(l.tipo),contarCarencia:!1,prioritario:!1,rgps:!1,metodoCalculoDias:io.DataData,carreira:c??!1,cargoAtual:u??!1,servicoPublico:d??!1,afastamento:!0,paraAposentadoria:m??!1,excluido:f};o.push(new qa(v))}const A=nF(a),n=AF(i),s=this.obterLts(r);return o.push(...A,...n,...s),o.sort((l,c)=>l.dataInicial.valueOf()-c.dataInicial.valueOf())}obterLts(t){return[...Td(t,{inicio:void 0,termino:T.mp1537_9}),...Td(t,{inicio:Li(T.mp1537_9),termino:void 0})]}}class sF extends Hs{memo=new Or;memoVinculos=new Or;_afastamento;constructor(t,o=!1){super(t),this._afastamento=o}criarNovaInstancia(t){this.memo.apagar(),this.memoVinculos.apagar();const o={...t,...this._afastamento?{afastamento:this._afastamento,naturezaVinculo:zt.BeneficioIncapacidade}:{}};return new qa(o)}remover(t){super.remover(t),this.memo.apagar(),this.memoVinculos.apagar()}removerTudo(){super.removerTudo(),this.memo.apagar(),this.memoVinculos.apagar()}adicionar(t){const o={...t,...this._afastamento?{afastamento:this._afastamento,naturezaVinculo:zt.BeneficioIncapacidade}:{}},a=super.adicionar(o);return this.memo.apagar(),this.memoVinculos.apagar(),a}adicionarMultiplos(t){for(const[a,i]of Object.entries(t))t[a]={...i,...this._afastamento?{afastamento:this._afastamento,naturezaVinculo:zt.BeneficioIncapacidade}:{}};const o=super.adicionarMultiplos(t);return this.memo.apagar(),this.memoVinculos.apagar(),o}ajustarNaturezaVinculo(t,o){!t||!o||(t.naturezaVinculo===zt.BeneficioIncapacidade?"naturezaVinculo"in o&&o.naturezaVinculo!==zt.BeneficioIncapacidade&&(o.prioritario=!1):"naturezaVinculo"in o&&o.naturezaVinculo===zt.BeneficioIncapacidade&&(o.prioritario=!0))}ajustarRgps(t,o){!t||!o||(t.rgps?"rgps"in o&&o.rgps===!1&&(o.metodoCalculoDias=io.DataData,o.cargoAtual=!1,o.carreira=!1,o.servicoPublico=!0):"rgps"in o&&o.rgps===!0&&(o.metodoCalculoDias=io.Dias365,o.cargoAtual=!1,o.carreira=!1,o.servicoPublico=!1))}ajustarCargoCarreiraServico(t){t&&("cargoAtual"in t&&t.cargoAtual&&(t.carreira=!0,t.servicoPublico=!0),"carreira"in t&&t.carreira&&(t.servicoPublico=!0))}atualizar(t,o){"naturezaVinculo"in o&&o.naturezaVinculo===zt.BeneficioIncapacidade&&(o.prioritario=!0),"rgps"in o&&o.rgps===!0&&(o.metodoCalculoDias=io.Dias365,o.cargoAtual=!1,o.carreira=!1,o.servicoPublico=!1),"formaContagem"in o&&o.formaContagem===Qe.NaoComputar&&(o.cargoAtual=!1,o.carreira=!1,o.servicoPublico=!1);const a=this.obterPorId(t);a&&(this.ajustarNaturezaVinculo(a,o),this.ajustarRgps(a,o),this.ajustarCargoCarreiraServico(o)),super.atualizar(t,o),this.memo.apagar(),this.memoVinculos.apagar()}atualizarMultiplos(t){for(const[o,a]of Object.entries(t))this.atualizar(o,a)}recortar(t,o){return this.memo.apagar(),this.memoVinculos.apagar(),super.recortar(t,o)}obterCompetenciasComVinculo(t){const o={vinculos:new Set,beneficios:new Set,todos:new Set};if(t.length===0)return o;for(const a of t){if(a.excluido||a.formaContagem===Qe.NaoComputar)continue;const i=a.naturezaVinculo===zt.BeneficioIncapacidade?"beneficios":"vinculos",r=tr(a.dataInicial,a.dataFinal);for(const A of r){const n=A.toLocaleDateString("pt-BR");o[i].add(n),o.todos.add(n)}}return o}obterVinculos(){const t=this.memoVinculos.recuperar();if(t)return t.dados;const o=this.lista().filter(i=>i.computavelComoTempo(Mi(ir(),30,so.Anos))),a=this.obterCompetenciasComVinculo(o);return this.memoVinculos.atualizar({periodos:o,competencias:a}),{periodos:o,competencias:a}}calcular(t){const{ate:o,sexo:a,periodosPcd:i,periodosDescartados:r=[],periodosExcluidos:A=[],projecaoFutura:n=!1}=t;if(n){const m=i.lista().filter(g=>!g.excluido).sort((g,p)=>p.dataFinal.valueOf()-g.dataFinal.valueOf())[0];m&&na(m.dataFinal,o)&&i.adicionar({dataInicial:Li(m.dataFinal),dataFinal:o,grauDeficiencia:m.grauDeficiencia,observacao:"** PROJEÇÃO PARA ESTIMATIVA **",excluido:!1})}const s=[...i.calcularQuebras(),T.dpe103,o].sort((m,g)=>m.valueOf()-g.valueOf()),l=this.memo.recuperar();if(l&&o.valueOf()===l.dados.ate.valueOf()&&a===l.dados.sexo&&JSON.stringify(l.dados.marcosTemporais)===JSON.stringify(s)&&JSON.stringify(l.dados.periodosExcluidos)===JSON.stringify(A)&&JSON.stringify(l.dados.periodosDescartados)===JSON.stringify(r))return l.dados.periodos;const c=[];if(n){const m=this.lista().filter(g=>!g.excluido&&g.formaContagem!==Qe.NaoComputar).sort((g,p)=>p.dataFinal.valueOf()-g.dataFinal.valueOf())[0];m&&na(m.dataFinal,o)&&c.push(new qa({...m.props,dataInicial:Li(m.dataFinal),dataFinal:o,descricao:"** PROJEÇÃO PARA ESTIMATIVA **"}))}const u=Array.prototype.concat(r,A,c),d=this.listaSemConcomitanciaEQuebrada(s,u).filter(m=>m.dataInicial.valueOf()<=o.valueOf()).map(m=>{const p={grauDeficiencia:i.obterGrauDeficiencia(m)};return m.atualizar(p)});return this.memo.atualizar({ate:o,sexo:a,marcosTemporais:s,periodosDescartados:r,periodosExcluidos:A,periodos:d}),d}temVinculoEm(t){return this.lista().some(o=>o.incluiCompetencia(t))}temPeriodoEspecialAte(t){return this.lista().some(o=>!o.excluido&&Qe.grupos.somenteEspecial.includes(o.formaContagem)&&bo(o.dataInicial,t))}temPeriodoMagisterioAte(t){return this.lista().some(o=>!o.excluido&&Qe.grupos.somenteMagisterio.includes(o.formaContagem)&&bo(o.dataInicial,t))}competenciasComVinculo(t,o=ir()){const a={},i=this.lista();for(const r of i){if(r.excluido||r.formaContagem===Qe.NaoComputar||r.dataFinal.valueOf()<t.valueOf()||r.dataInicial.valueOf()>ua(o).valueOf())continue;const A=new Date(Math.max(t.valueOf(),r.dataInicial.valueOf())),n=new Date(Math.min(o.valueOf(),r.dataFinal.valueOf())),s=tr(A,n).map(l=>[l.toLocaleDateString("pt-BR"),!0]);Object.assign(a,Object.fromEntries(s))}return a}serializar(){return super.serializar()}lista(){return super.lista()}obterPorId(t){return super.obterPorId(t)}}function lF(e){const t=JSON.parse(e,ko),o={};if(!t)return o;o.dadosServidor={nome:t.nomeEgp??"",rf:Number(t.registroFuncionalEgp??0),sexo:t.SexoEgp==="M"?V.Masculino:V.Feminino,dataNascimento:t.DataNascimentoEgp?new Date(t.DataNascimentoEgp):void 0},o.afastamentos=t.afastamentos.map(i=>{let r=`${i.motivo} - ${i.fundamentoLegal}`;if(i.complemento&&(r=r.concat(` (${i.complemento})`)),Number(i.registroFuncional)!==o.dadosServidor.rf)throw new Error("Registro funcional do afastamento diferente do registro funcional do servidor");return{dataInicial:new Date(i.dataInicial),dataFinal:new Date(i.dataFinal),excluido:!1,tipo:Le.Outros,recolheuContribuicao:!1,observacao:r,carreira:i.tempoDeCarreira,cargoAtual:i.tempoNoCargo,servicoPublico:i.tempoDeServicoPublico,paraAposentadoria:i.aposentadoria}});const a=[];return o.averbacoes=t.averbacoes.map(i=>{const r=Number(i.categoriadoorgao)===4;let A=io.DataData;r&&(A=io.Dias365);const n={dataInicial:new oe(i.iniciosemconcomitancia).nativo(),dataFinal:new oe(i.terminosemconcomitancia).nativo(),excluido:!1,descricao:`${i.descorgpublemppriv} (Averbações - seq. ${i.sequencial})`,formaContagem:Qe.Comum,contarCarencia:!0,prioritario:!1,naturezaVinculo:zt.NaoInformado,rgps:r,metodoCalculoDias:A,carreira:!!i.contaparacarreiraatual,cargoAtual:!!i.contaparacargoatual,servicoPublico:!!i.contaparaservicopublico,paraAposentadoria:!0,afastamento:!1,idCtc:i.certidaonumero},s=i.iniciotempoespecial?new oe(i.iniciotempoespecial).nativo():void 0,l=i.terminotempoespecial?new oe(i.terminotempoespecial).nativo():void 0;return s&&l&&a.push({...n,dataInicial:s,dataFinal:l,descricao:`${n.descricao} - Tempo Especial`,formaContagem:Qe.Especial25}),n}),o.averbacoes.push(...a),o}function cF(e){return[["Servidor(a):",e.dadosServidor.nome],["RF:",e.dadosServidor.rf.toString()],["Qtd. Averbações:",e.averbacoes.length.toString()],["Qtd. Afastamentos:",e.afastamentos.length.toString()]]}function uF(e){return typeof e=="object"&&"nomeEgp"in e&&"registroFuncionalEgp"in e&&"cpfEgp"in e&&"SexoEgp"in e&&"DataNascimentoEgp"in e}function dF(e){const t=uu(e);return t?uF(t):!1}const rg=class extends Mo{static nome="Dados do Sistema de RH";static testar(t){return dF(t)}obterNome(){return rg.nome}analisar(t){const o=lF(t),a=cF(o);return this.definir(o,a),o}};var Sa=(e=>(e[e.Carta=0]="Carta",e[e.Cnis=1]="Cnis",e[e.ContagemInss=2]="ContagemInss",e[e.FormularioPje=3]="FormularioPje",e[e.HiscreSat=4]="HiscreSat",e[e.IndicesCjf=5]="IndicesCjf",e[e.JsonPrevjud=6]="JsonPrevjud",e[e.PdfFabrica=7]="PdfFabrica",e[e.PJe=8]="PJe",e[e.PlanilhaGoogle=9]="PlanilhaGoogle",e[e.Plenus=10]="Plenus",e[e.PrevTc=11]="PrevTc",e[e.SibeConbas=12]="SibeConbas",e[e.SibeHiscal=13]="SibeHiscal",e[e.TcSimples=14]="TcSimples",e[e.JsonSistemaRh=15]="JsonSistemaRh",e))(Sa||{});const Jr={0:Mf,1:zf,2:[mu],3:[jf],4:[Jf],5:[tC],6:[J1],15:[rg],7:[Yf],8:[ip],9:[ep],10:[op],11:[eF],13:[sp],12:[Ap],14:[cp]};class gs{_analisador;_leitorDeArquivo;constructor(t,o){this._leitorDeArquivo=o||new _p;const a=t?.map(i=>Jr[i]).flat();this._analisador=new dp(a)}static obterTipoDocumentoPeloPlugin(t){const o=Object.keys(Jr).map(Number);for(const a of o)if(Jr[a].some(i=>i.nome===t))return a}static obterPluginsPeloTipoDocumento(t){return Jr[t]}get documentosElegiveis(){return this._analisador.nomesPlugins}get incluiCnis(){return this._analisador.incluiCnis}get incluiCarta(){return this._analisador.incluiCarta}get incluiContagemInss(){return this._analisador.incluiContagemInss}pluginIncluido(t){return this._analisador.incluso(t)}async ler(t){this._analisador.reiniciar();let o,a,i,r;if(t instanceof File){const n=await this._leitorDeArquivo.ler(t);if(!n)throw new Error("Falha ao ler o arquivo.");o=n.texto,a=n.mime,i=n.dataUrl,r=n.thumbnailDataUrl}else o=t||"",a="text/plain",i="",r="";return this._analisador.analisar(o),{tipo:gs.obterTipoDocumentoPeloPlugin(this._analisador.nome),identificado:this._analisador.identificado,nome:this._analisador.nome,quadroResumo:this._analisador.quadroResumo,dadosEstruturados:this._analisador.dadosEstruturados,texto:o,fonte:{mime:a,dataUrl:i,thumbnailDataUrl:r}}}}class mF{_mime;_tipo;_texto;_dataUrl;_thumbnailDataUrl;_leitorDeArquivo;_analisador;_plugins;constructor(t,o){this._tipo=t,this._leitorDeArquivo=o||new _p,this._plugins=Jr[this._tipo]?Jr[this._tipo]:Kl,this._analisador=new dp(this._plugins)}isFile(t){return t&&(t.constructor.name==="File"||t.constructor.name==="FileList")}get nome(){return this._analisador.nome}get tipo(){return this._tipo}get mime(){return this._mime||""}get identificado(){return this._analisador.identificado}get texto(){return this._texto||""}get dataUrl(){return this._dataUrl||""}get thumbnailDataUrl(){return this._thumbnailDataUrl||""}get dadosEstruturados(){return this._analisador.dadosEstruturados}get quadroResumo(){return this._analisador.quadroResumo}get plugins(){return this._plugins}get dadosDocumento(){return{tipo:this.tipo,nome:this.nome,identificado:this.identificado,texto:this.texto,quadroResumo:this.quadroResumo,dadosEstruturados:this.dadosEstruturados,fonte:{mime:this.mime,dataUrl:this.dataUrl,thumbnailDataUrl:this.thumbnailDataUrl}}}async ler(t){if(this.reiniciar(),this.isFile(t)){const o=await this._leitorDeArquivo.ler(t);if(!o)throw new Error("Falha ao ler o arquivo");this._mime=o?.mime,this._texto=o?.texto,this._dataUrl=o?.dataUrl,this._thumbnailDataUrl=o?.thumbnailDataUrl,this._texto=o?.texto||""}else this._texto=t||"";this._analisador.analisar(this.texto)}async lerPdf(t){this.reiniciar();const{texto:o}=await this._leitorDeArquivo.lerPdf(t);if(!o)throw new Error("Falha ao ler o arquivo PDF");this._analisador.analisar(o)}reiniciar(){this._analisador.reiniciar(),this._mime=void 0,this._texto=void 0,this._dataUrl=void 0,this._thumbnailDataUrl=void 0}}function la(){function e(S){return st.anosMesesDias(S)}function t(S){return st.anosMesesDias365(S)}function o(S){return st.anosMesesDias365Tabela(S)}function a(S,k=3,W=""){return st.sequencial(S,k,W)}function i(S,k=""){return st.data(S,k)}function r(S,k=""){return st.competencia(S,k)}function A(S,k,W="",re=!0){return st.numero(S,k,W,re)}function n(S,k="",W=!0){return st.inteiro(S,k,W)}function s(S,k="",W=!0){return st.moeda(S,k,W)}function l(S,k=""){return st.indice(S,k)}function c(S,k=""){return st.romanos(S,k)}function u(S,k=""){return st.letras(S,k)}function d(S,k){return st.truncarTexto(S,k)}function m(S,k,W="",re=!0){return st.percentual(S,k,W,re)}function g(S,k=""){return st.opcao(S,k)}function p(S,k=""){return st.tempoContribuicao(S,k)}function f(S,k=""){return st.tempoContribuicao365(S,k)}function v(S,k=""){return st.tempoContribuicao365Tabela(S,k)}function h(S,k=""){return st.tempoContribuicaoTabulado(S,k)}function B(S,k=""){return st.tempoContribuicaoTabulado365(S,k)}function b(S,k=""){return st.tempoContribuicaoTabulado365Tabela(S,k)}function Q(S=[],k=""){const[W,re]=S;return st.carenciaTabulada(W,re,k)}function y(S){return st.nb(S)}function I(S){return st.listaParaTexto(S)}function D(S){return S?Object.entries(S).map(([W,re])=>re.fundamento?`${W}: ${re.criterio} (${re.fundamento})`:`${W}: ${re.criterio}`):[]}function O(S,k,W=""){for(const re of k)if(re.valor===S)return re.rotulo;return`${W}`}return{anosMesesDias:e,anosMesesDias365:t,anosMesesDias365Tabela:o,sequencial:a,data:i,competencia:r,numero:A,inteiro:n,romanos:c,letras:u,percentual:m,opcao:g,tempoContribuicao:p,tempoContribuicao365:f,tempoContribuicao365Tabela:v,tempoContribuicaoTabulado:h,tempoContribuicaoTabulado365:B,tempoContribuicaoTabulado365Tabela:b,carenciaTabulada:Q,nb:y,listaParaTexto:I,moeda:s,indice:l,truncarTexto:d,notasCriterios:D,rotulo:O}}const fF={key:0,class:"text-body2"},pF={class:"text-grey-9 text-caption"},gF={class:"text-weight-bold text-blue-10"},vF=we({__name:"FcImportacaoSegurado",props:po({dadosSegurado:{},habilitarOpcoes:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue"),o=la(),a={nome:"Nome",nascimento:"Nascimento",nit:"Nit",cpf:"CPF",mae:"Mãe",sexo:"Sexo",obito:"Óbito"},i=F(()=>Object.entries(e.dadosSegurado).map(([n,s])=>{if(!(s==null||s===""))return me(s)?s=o.data(s):n==="sexo"&&typeof s=="number"&&(s=V.obterRotulo(s)),{label:s,value:n}}).filter(n=>n!==void 0)),r=R();function A(n){n?t.value=i.value.map(s=>s.value):t.value=[]}return fA(()=>{if(!t.value||t.value.length===0){t.value=i.value.map(n=>n.value),r.value=!0;return}t.value.length===i.value.length?r.value=!0:r.value=void 0}),Je(()=>t.value,n=>{n?n.length===i.value.length?r.value=!0:n.length===0?r.value=!1:r.value=void 0:r.value=void 0}),(n,s)=>{const l=Qi,c=Ra,u=ja,d=Xi,m=tu,g=pa,p=qt;return w(),K(p,{square:"",flat:"",bordered:""},{default:U(()=>[E(c,{class:"bg-blue-1"},{default:U(()=>[E(l,null,{default:U(()=>[...s[1]||(s[1]=[q("div",{class:"text-blue-10 text-weight bold"}," Segurado(a) ",-1)])]),_:1})]),_:1}),E(u),E(g,null,{default:U(()=>[e.habilitarOpcoes?(w(),H("div",fF," Selecione as opções de importação para os dados do segurado. ")):ge("",!0),e.habilitarOpcoes?(w(),K(d,{key:1,"model-value":C(r),label:C(r)?"Desmarcar Todos":"Selecionar Todos","onUpdate:modelValue":A},null,8,["model-value","label"])):ge("",!0),E(m,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=f=>t.value=f),type:"checkbox",options:C(i),disable:!e.habilitarOpcoes},{label:U(f=>[q("span",pF,le(a[f.value]??f.value)+": ",1),q("span",gF,le(f.label),1)]),_:1},8,["modelValue","options","disable"])]),_:1})]),_:1})}}}),Ag=Object.assign(vF,{__name:"FcImportacaoSegurado"}),hF=we({__name:"FcDica",props:{mensagem:{},qBtnProps:{},classesBotao:{default:"text-blue-8"},classesCartao:{default:"bg-blue-1 text-blue-10"}},setup(e){return(t,o)=>{const a=pa,i=qt,r=Fi,A=St;return e.mensagem?(w(),K(A,Wa({key:0,class:`${e.classesBotao} q-ml-xs cursor-pointer`,icon:e.qBtnProps?.icon??C(_h),size:"10px",flat:"",dense:"","no-caps":""},e.qBtnProps),{default:U(()=>[E(r,null,{default:U(()=>[E(i,{flat:"",style:{"max-width":"900px","white-space":"pre-wrap"}},{default:U(()=>[E(a,{class:be(e.classesCartao)},{default:U(()=>[Pt(le(e.mensagem),1)]),_:1},8,["class"])]),_:1})]),_:1})]),_:1},16,["class","icon"])):ge("",!0)}}}),Ei=Object.assign(hF,{__name:"FcDica"}),BF={key:0,class:"text-center"},CF={class:"text-center"},bF={key:0,class:"text-center"},wF={class:"text-right"},FF=16,QF=320,EF=we({__name:"FcVisualizadorSalarios",props:{salarios:{default:()=>[]},recolhimentoRelevante:{type:Boolean,default:!1}},setup(e){const t=la(),o=e.recolhimentoRelevante?3:4,a=F(()=>{const s=Math.ceil(e.salarios.length/FF);return Math.max(1,Math.min(o,s))}),i=F(()=>{const s=a.value;return{display:"grid",gridTemplateColumns:`repeat(${s}, minmax(0, 1fr))`,gap:"8px",maxWidth:`${s*QF}px`,margin:"0 auto"}}),r=F(()=>{const s=a.value;if(s<=1)return[e.salarios];const l=Math.ceil(e.salarios.length/s),c=[];for(let u=0;u<s;u++){const d=u*l,m=d+l;c.push(e.salarios.slice(d,m))}return c}),A=s=>s.valor??s.valorUsuario??s.valorCnis??s.valorPrevjud??s.valorCalculoInss??0,n=s=>s.dataRecolhimentoUsuario??s.dataRecolhimentoCnis??s.dataRecolhimentoPrevjud;return(s,l)=>{const c=pa,u=qt;return w(),K(u,{flat:"",square:""},{default:U(()=>[E(c,null,{default:U(()=>[q("div",{style:Ze(C(i))},[(w(!0),H(Se,null,Ne(C(r),(d,m)=>(w(),H("table",{key:`coluna-${m}`,class:"fc-salarios-tabela text-caption"},[q("thead",null,[q("tr",null,[l[0]||(l[0]=q("th",{class:"text-center"}," Competência ",-1)),e.recolhimentoRelevante?(w(),H("th",BF," Data de Recolhimento ")):ge("",!0),l[1]||(l[1]=q("th",{class:"text-center"}," Valor ",-1))])]),q("tbody",null,[(w(!0),H(Se,null,Ne(d,(g,p)=>(w(),H("tr",{key:`sal-${m}-${p}`},[q("td",CF,le(C(t).competencia(C(xt)(g.competencia))),1),e.recolhimentoRelevante?(w(),H("td",bF,le(C(t).data(n(g),"-")),1)):ge("",!0),q("td",wF,le(C(t).numero(A(g),2,"-")),1)]))),128))])]))),128))],4)]),_:1})]),_:1})}}}),yF=Object.assign(fa(EF,[["__scopeId","data-v-b86fe5bc"]]),{__name:"FcVisualizadorSalarios"}),IF={key:0,class:"text-body"},UF={key:0,style:{display:"flex","flex-direction":"column","align-items":"center"}},SF={key:1,class:"text-weight-bold"},DF={key:1},xF={key:2},PF=we({__name:"FcImportacaoPeriodos",props:po({periodos:{},habilitarDadosVinculo:{},dica:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue"),o=la(),a=Object.values(e.habilitarDadosVinculo).every(f=>!f),i=R(Object.entries(e.habilitarDadosVinculo).filter(([f,v])=>v).reduce((f,[v])=>(f[v]=!1,f),{})),r=Object.keys(i.value),A=R();function n(f){A.value=A.value===f?void 0:f}function s(f){const v=f.length>1?"s":"";return f?.length===0?"Não há salários para este período":`Ver ${f.length} salário${v}`}const l=R(e.periodos.reduce((f,v)=>(ie(v.seq)&&(f[`${v.seq}`]={...v,opcoesFiltro:{periodo:!0,salarios:!0}}),f),{}));function c(){const f=r.reduce((v,h)=>(v[h]={trueCount:0,falseCount:0},v),{});Object.values(l.value).forEach(({opcoesFiltro:v})=>{Object.keys(v).forEach(h=>{const B=v[h];f[h]&&(B?f[h].trueCount++:f[h].falseCount++)})}),Object.keys(f).forEach(v=>{if(!f[v])return;const{trueCount:h,falseCount:B}=f[v];h>0&&B===0?i.value[v]=!0:B>0&&h===0?i.value[v]=!1:i.value[v]=void 0})}function u(){const f=Object.values(l.value).reduce((v,h)=>((h.opcoesFiltro.periodo||h.opcoesFiltro.salarios)&&(v[h.seq??""]={periodo:h.opcoesFiltro.periodo,salarios:h.opcoesFiltro.salarios}),v),{});t.value=f}function d(f,v){i.value[f]=v,Object.keys(l.value).forEach(B=>{l.value[B]?.opcoesFiltro[f]!==void 0&&(l.value[B].opcoesFiltro[f]=v)}),u()}function m(f,v){const h=`${f}`;l.value[h]&&(l.value[h]={...l.value[h],opcoesFiltro:{...l.value[h].opcoesFiltro,...v}},u(),c())}const g=F(()=>Object.values(l.value)),p=[{name:"periodo",label:"Período",field:f=>{},required:!1,align:"center",sortable:!1,style:"width: 20px",headerStyle:"width: 20px"},{name:"salarios",label:"Salários",field:f=>{},required:!1,align:"center",sortable:!1,style:"width: 20px",headerStyle:"width: 20px"},{name:"seq",label:"Seq.",field:f=>f.seq,required:!0,align:"right",sortable:!1,style:"width: 20px",headerStyle:"width: 20px",format:f=>o.sequencial(f)},{name:"dataInicial",label:"Início",field:f=>f.dataInicial,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:f=>o.data(f)},{name:"dataFinal",label:"Término",field:f=>f.dataFinal,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:f=>o.data(f)},{name:"descricao",label:"Descrição",field:f=>f.descricao,required:!0,align:"left",sortable:!1,format:f=>SB(f,45)||"-"},{name:"naturezaVinculo",label:"Natureza",field:f=>f.naturezaVinculo,required:!0,align:"left",sortable:!1,format:f=>f?zt.obterRotulo(f):"-"},{name:"dadosSalarios",label:"Dados Salários",field:f=>"",required:!0,align:"center",sortable:!1,style:"width: auto",headerStyle:"width: auto"}];return No(()=>{t.value&&(l.value=Object.entries(l.value).reduce((f,[v,h])=>{if(f[v]=h,t.value[v]){const{periodo:B=!0,salarios:b=!0}=t.value[v];f[v].opcoesFiltro.periodo=B,f[v].opcoesFiltro.salarios=b}return f},{}),c())}),u(),c(),(f,v)=>{const h=Qi,B=Ra,b=Ei,Q=Xi,y=Ls,I=Cu,D=lr,O=St,S=Bu,k=yF,W=hu,re=qt;return e.periodos.length?(w(),K(re,{key:0,square:"",flat:"",bordered:""},{default:U(()=>[E(B,{class:"bg-blue-1"},{default:U(()=>[E(h,null,{default:U(()=>[...v[0]||(v[0]=[q("div",{class:"text-blue-10 text-weight bold"}," Períodos de Contribuição ",-1)])]),_:1})]),_:1}),C(g).length?(w(),K(W,{key:0,rows:C(g),columns:p,"row-key":"seq",flat:"",square:"",bordered:"","hide-pagination":!0,pagination:{rowsPerPage:0},"visible-columns":C(r)},{top:U(()=>[C(a)?ge("",!0):(w(),H("div",IF,[v[1]||(v[1]=Pt(" Selecione as opções de importação para os períodos listados. ",-1)),E(b,Wa(e.dica,{"q-btn-props":{label:"Saiba mais",size:"10px",color:"orange-10"},"classes-cartao":"bg-orange-1 text-orange-10"}),null,16)]))]),header:U($=>[E(I,{props:$},{default:U(()=>[(w(!0),H(Se,null,Ne($.cols,z=>(w(),K(y,{key:z.name,props:$},{default:U(()=>[C(r).includes(z.name)?(w(),H("div",UF,[Pt(le(z.label)+" ",1),E(Q,{"model-value":C(i)[z.name],color:"primary",size:"xs","indeterminate-value":void 0,"onUpdate:modelValue":N=>d(z.name,N)},null,8,["model-value","onUpdate:modelValue"])])):(w(),H("span",SF,le(z.label),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:U($=>[E(I,{props:$},{default:U(()=>[(w(!0),H(Se,null,Ne($.cols,z=>(w(),K(S,{key:z.name,props:$},{default:U(()=>[C(r).includes(z.name)?(w(),K(Q,{key:0,"model-value":$.row.opcoesFiltro[z.name],color:"primary",size:"xs","onUpdate:modelValue":N=>m($.row.seq,{[z.name]:!$.row.opcoesFiltro[z.name]})},null,8,["model-value","onUpdate:modelValue"])):z.name==="dadosSalarios"?(w(),H("span",DF,[E(D,{dense:"",dark:"",square:"",disable:Object.values($.row.salarios).length===0,color:Object.values($.row.salarios).length===0?"grey-7":"primary"},{default:U(()=>[Pt(le(Object.values($.row.salarios).length),1)]),_:2},1032,["disable","color"]),E(O,{size:"sm",round:"",flat:"",dense:"",icon:$.row.seq===C(A)?C(ou):C(Ss),title:s(Object.values($.row.salarios)),class:"q-mr-sm cursor-pointer",color:"grey-7",disable:Object.values($.row.salarios).length===0,onClick:N=>n($.row.seq)},null,8,["icon","title","disable","onClick"])])):(w(),H("span",xF,le(z.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),Vt(E(I,{props:$},{default:U(()=>[E(S,{colspan:"100%"},{default:U(()=>[E(k,{salarios:Object.values($.row.salarios),"recolhimento-relevante":C(zt).recolhimentoRelevante($.row.naturezaVinculo)},null,8,["salarios","recolhimento-relevante"])]),_:2},1024)]),_:2},1032,["props"]),[[AA,$.row.seq===C(A)]])]),_:1},8,["rows","visible-columns"])):ge("",!0)]),_:1})):ge("",!0)}}}),ng=Object.assign(PF,{__name:"FcImportacaoPeriodos"}),_F={class:"bg-grey-1 q-pa-xs text-center text-weight-bold",style:{width:"60px"}},OF={class:"bg-grey-1 q-pa-xs text-center text-weight-bold",style:{width:"400px"}},RF={class:"bg-blue-1 q-pa-xs text-right text-weight-bold",style:{width:"90px"}},MF=we({__name:"FcPrevjudRubricas",props:{pagamento:{default:()=>({})}},setup(e){const t=F(()=>[...e.pagamento.creditosRenda,...e.pagamento.creditosAbono,...e.pagamento.debitosRenda,...e.pagamento.debitosAbono]),o=la();return(a,i)=>{const r=pa,A=qt;return w(),K(A,{class:"flex flex-center",flat:"",square:""},{default:U(()=>[E(r,{class:"row wrap text-caption"},{default:U(()=>[(w(!0),H(Se,null,Ne(C(t),n=>(w(),H("div",{key:n.codigo,class:"row q-ma-xs justify-between bg-grey-3 text-weight-bold",style:{"align-items":"center"}},[q("div",_F,le(n.codigo),1),q("div",OF,le(n.descricao),1),q("div",RF,le(C(o).moeda(n.valor)),1)]))),128))]),_:1})]),_:1})}}}),LF=Object.assign(MF,{__name:"FcPrevjudRubricas"}),HF=we({__name:"FcPrevjudPagamentos",props:{pagamentos:{default:()=>[]}},setup(e){const t=la(),o=Zt(),a=R(!1),i=R();function r(c){i.value=i.value===c?void 0:c}function A(c){return c.creditosRenda.length>0||c.creditosAbono.length>0||c.debitosRenda.length>0||c.debitosAbono.length>0}function n(c){return c.creditosRenda.length+c.creditosAbono.length+c.debitosRenda.length+c.debitosAbono.length}function s(c){return n(c)===0?"Não há rubricas":"Ver rubricas"}const l=[{name:"competencia",label:"Comp.",field:c=>c.competencia,required:!0,align:"center",sortable:!1,style:"width: 20px",headerStyle:"width: 20px",format:c=>t.competencia(c)},{name:"dataInicial",label:"Início",field:c=>c.dataInicial,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:c=>t.data(c)},{name:"dataFinal",label:"Fim",field:c=>c.dataFinal,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:c=>t.data(c)},{name:"dataPagamento",label:"Pagamento",field:c=>c.dataPagamento,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:c=>t.data(c)},{name:"valorLiquidoRenda",label:"Renda",field:c=>c.valorLiquidoRenda,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:c=>t.moeda(c)},{name:"valorLiquidoAbono",label:"Abono",field:c=>c.valorLiquidoRenda,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:c=>t.moeda(c)}];return(c,u)=>{const d=St,m=Qi,g=Oa,p=Ra,f=Ls,v=Cu,h=Bu,B=lr,b=LF,Q=hu,y=pa,I=qt,D=sr,O=ri;return w(),H(Se,null,[E(d,{size:"md",round:"",flat:"",icon:"mdiCashMultiple"in c?c.mdiCashMultiple:C(Oh),color:"primary",class:"q-mx-sm",title:"Ver Pagamentos",onClick:u[0]||(u[0]=S=>a.value=!0)},null,8,["icon"]),E(D,{modelValue:C(a),"onUpdate:modelValue":u[1]||(u[1]=S=>Tt(a)?a.value=S:null)},{default:U(()=>[E(I,{square:"",style:{width:"780px","max-width":"80vw"}},{default:U(()=>[E(p,{class:be(`bg-${C(o).tema.corPrimaria}-9 text-white`)},{default:U(()=>[E(m,null,{default:U(()=>[...u[2]||(u[2]=[q("div",{class:"text-weight bold"}," PREVJUD Pagamentos ",-1)])]),_:1}),E(g),Vt(E(d,{round:"",dense:"",flat:"",icon:"mdiClose"in c?c.mdiClose:C(ya)},null,8,["icon"]),[[O]])]),_:1},8,["class"]),E(y,{class:"q-px-lg"},{default:U(()=>[e.pagamentos.length?(w(),K(Q,{key:0,rows:e.pagamentos,columns:l,"row-key":"id",flat:"",square:"",bordered:"","hide-pagination":!0,pagination:{rowsPerPage:0},class:be(c.css.cabecalhoCongelado)},{header:U(S=>[E(v,{props:S},{default:U(()=>[(w(!0),H(Se,null,Ne(S.cols,k=>(w(),K(f,{key:k.name,props:S},{default:U(()=>[Pt(le(k.label),1)]),_:2},1032,["props"]))),128)),E(f,{style:{width:"30px"}},{default:U(()=>[...u[3]||(u[3]=[Pt(" Rubricas ",-1)])]),_:1})]),_:2},1032,["props"])]),body:U(S=>[E(v,{props:S},{default:U(()=>[(w(!0),H(Se,null,Ne(S.cols,k=>(w(),K(h,{key:k.name,props:S},{default:U(()=>[Pt(le(k.value),1)]),_:2},1032,["props"]))),128)),E(h,{class:"text-right"},{default:U(()=>[E(B,{dense:"",dark:"",square:"",disable:A(S.row),color:"grey-7"},{default:U(()=>[Pt(le(n(S.row)),1)]),_:2},1032,["disable"]),Vt(E(d,{size:"sm",round:"",flat:"",dense:"",icon:S.row.id===C(i)?C(ou):C(Ss),title:s(S.row),class:"q-mr-sm cursor-pointer",color:"grey-7",onClick:k=>r(S.row.id)},null,8,["icon","title","onClick"]),[[AA,n(S.row)>0]])]),_:2},1024)]),_:2},1032,["props"]),Vt(E(v,{props:S},{default:U(()=>[E(h,{colspan:"100%"},{default:U(()=>[E(b,{pagamento:S.row},null,8,["pagamento"])]),_:2},1024)]),_:2},1032,["props"]),[[AA,S.row.id===C(i)]])]),_:1},8,["rows","class"])):ge("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),TF="_cabecalhoCongelado_1jvne_1",$F={cabecalhoCongelado:TF,"q-table__top":"_q-table__top_1jvne_4","q-table__bottom":"_q-table__bottom_1jvne_5","q-table--loading":"_q-table--loading_1jvne_16"},VF={css:$F},NF=Object.assign(fa(HF,[["__cssModules",VF]]),{__name:"FcPrevjudPagamentos"}),qF={class:"text-bold"},kF=we({__name:"FcCartaDadosBeneficio",props:{dadosCarta:{}},setup(e){const t=la(),o=e.dadosCarta?.dadosCalculo.direitoAdquirido??e.dadosCarta?.dadosCalculo?.principal;function a(){return[{rotulo:"Segurado(a)",valor:e.dadosCarta?.dadosSegurado?.nome},{rotulo:"NIT",valor:e.dadosCarta?.dadosSegurado?.nit},{rotulo:"NB",valor:e.dadosCarta?.dadosBeneficio?.nb},{rotulo:"Benefício",valor:`${e.dadosCarta?.dadosBeneficio?.especie} - ${e.dadosCarta?.dadosBeneficio?.descricao}`},{rotulo:"DIB",valor:t.data(e.dadosCarta?.dadosBeneficio?.dib)},{rotulo:"DER",valor:t.data(e.dadosCarta?.dadosBeneficio?.der)},{rotulo:"DDB",valor:t.data(e.dadosCarta?.dadosBeneficio?.ddb)},{rotulo:"Salário-de-benefício",valor:t.numero(o?.salarioBeneficio??0)},{rotulo:"Coeficiente",valor:t.percentual(o?.coeficiente||e.dadosCarta?.dadosBeneficio?.coeficiente)},{rotulo:"RMI",valor:t.numero(e.dadosCarta?.dadosBeneficio?.rmi)},...e.dadosCarta?.dadosBeneficio?.nbAnterior?[{rotulo:"NB Anterior",valor:t.nb(e.dadosCarta?.dadosBeneficio?.nbAnterior)}]:[],...e.dadosCarta?.dadosBeneficio?.dibAnterior?[{rotulo:"DIB Anterior",valor:t.data(e.dadosCarta?.dadosBeneficio?.dibAnterior)}]:[],...e.dadosCarta?.dadosBeneficio?.apBase?[{rotulo:"Ap. Base",valor:t.numero(e.dadosCarta?.dadosBeneficio?.apBase)}]:[],{rotulo:"Benefício de Pessoa Com Deficiência",valor:e.dadosCarta?.dadosBeneficio?.pcd?"Sim":"Não"},{rotulo:"Direito Adquirido Concedido",valor:e.dadosCarta?.dadosBeneficio?.direitoAdquirido?"Sim":"Não"},{rotulo:"Direito Adquirido Calculado",valor:e.dadosCarta?.dadosBeneficio?.direitoAdquirido||e.dadosCarta?.dadosCalculo?.direitoAdquirido!==void 0?"Sim":"Não"}]}return(i,r)=>{const A=Qi,n=Ra,s=ja,l=pa,c=qt;return e.dadosCarta?(w(),K(c,{key:0,square:"",flat:"",bordered:""},{default:U(()=>[E(n,{class:"bg-blue-1"},{default:U(()=>[E(A,null,{default:U(()=>[...r[0]||(r[0]=[q("div",{class:"text-blue-10 text-weight bold"}," Dados do Benefício ",-1)])]),_:1})]),_:1}),E(s),E(l,null,{default:U(()=>[(w(!0),H(Se,null,Ne(a(),(u,d)=>(w(),H("div",{key:`parametro-carta-${d}`},[q("span",null,le(u.rotulo)+": ",1),q("span",qF,le(u.valor),1)]))),128))]),_:1})]),_:1})):ge("",!0)}}}),KF=Object.assign(kF,{__name:"FcCartaDadosBeneficio"}),zF={class:"bg-grey-5"},GF=["title"],jF={class:"text-right"},WF={class:"text-center"},JF={class:"text-right"},XF={class:"text-right"},YF={class:"text-right"},ZF={class:"text-right"},eQ={key:1},tQ=we({__name:"FcCartaTabelaSalarios",props:{salarios:{default:()=>[]}},setup(e){const t=la(),o=F(()=>e.salarios[0]?.salariosAtividadesSecundarias?Object.keys(e.salarios[0].salariosAtividadesSecundarias):[]),a=F(()=>o.value.length?["Seq.","Competência","Principal",...o.value.map(n=>`Secundária ${n}`),"Soma","Índice","Total Corrigido"]:["Seq.","Competência","Valor Original","Índice","Valor Corrigido"]);function i(A){return A.desconsiderado?"bg-grey-5":A.limitadoTeto?"bg-orange-3":""}function r(A){return A.desconsiderado?"desconsiderado":A.limitadoTeto?"limitado ao teto":""}return(A,n)=>{const s=Qp;return e.salarios.length?(w(),K(s,{key:0,dense:"",bordered:"",square:"",flat:"",separator:"cell"},{default:U(()=>[q("thead",null,[q("tr",zF,[(w(!0),H(Se,null,Ne(C(a),(l,c)=>(w(),H("th",{key:`cabecalho-${c}`,class:"text-center",scope:"col"},le(l),1))),128))])]),q("tbody",null,[(w(!0),H(Se,null,Ne(e.salarios,l=>(w(),H("tr",{key:`salario-seq-${l.seq}`,class:be(i(l)),title:r(l)},[q("td",jF,le(C(t).sequencial(l.seq)),1),q("td",WF,le(C(t).competencia(l.competencia)),1),q("td",JF,le(C(t).numero(l.original)),1),C(o).length?(w(),H(Se,{key:0},[(w(!0),H(Se,null,Ne(C(o),(c,u)=>(w(),H("td",{key:`adicional-${l.seq}-${u}`,class:"text-right"},le(C(t).numero(l.salariosAtividadesSecundarias[c]??0)),1))),128)),q("td",XF,le(C(t).numero(l.consolidado||0)),1)],64)):ge("",!0),q("td",YF,le(C(t).numero(l.indice,4)),1),q("td",ZF,le(C(t).numero(l.corrigido)),1)],10,GF))),128))])]),_:1})):(w(),H("div",eQ," Dados não carregados "))}}}),oQ=Object.assign(tQ,{__name:"FcCartaTabelaSalarios"}),aQ={class:"col"},iQ={class:"text-h6 text-weight-medium q-mb-sm"},rQ={class:"text-bold"},AQ={class:"row justify-between items-center"},nQ={class:"row items-center justify-start"},sQ={class:"row items-center justify-start q-mr-sm"},lQ=we({__name:"FcCartaDadosPbc",props:{dados:{default:()=>({})},salarios:{default:()=>{}},titulo:{default:"Atividade Principal"},incluirLegenda:{type:Boolean,default:!1}},setup(e){const t=la(),o=F(()=>Object.keys(e.dados).length?[e.dados.competenciaInicial?{rotulo:"Competência inicial",valor:t.competencia(e.dados.competenciaInicial)}:void 0,e.dados.competenciaFinal?{rotulo:"Competência final",valor:t.competencia(e.dados.competenciaFinal)}:void 0,e.dados.pedagio?{rotulo:"Pedágio",valor:t.tempoContribuicao(e.dados.pedagio)}:void 0,e.dados.fatorPrevidenciario?{rotulo:"Fator Previdenciário (FP)",valor:t.numero(e.dados.fatorPrevidenciario,4)}:void 0,e.dados.tempoContribuicao?{rotulo:"Tempo de contribuição",valor:t.tempoContribuicao(e.dados.tempoContribuicao)}:void 0,e.dados.grupos?{rotulo:"Tempo de contribuição",valor:`${e.dados.grupos} grupos de 12 contribuições`}:void 0,e.dados.mesesAposPublicacaoLei?{rotulo:"Número de meses após a publicação da lei",valor:e.dados.mesesAposPublicacaoLei}:void 0,{rotulo:"Soma salários",valor:t.numero(e.dados.soma,2)??"-"},{rotulo:"Salários considerados",valor:e.dados.divisor??"-"},{rotulo:"Média",valor:t.numero(e.dados.media||0,2)??"-"},{rotulo:"Salário-de-benefício (média com FP)",valor:t.numero(e.dados.salarioBeneficio||0,2)??"-"},e.dados.portariaCorrecao?{rotulo:"Atualização",valor:`Portaria nº ${e.dados.portariaCorrecao}`}:void 0].filter(a=>a!==void 0):[]);return(a,i)=>{const r=pa,A=oQ,n=qt;return w(),K(n,{flat:"",square:""},{default:U(()=>[E(r,{class:"row q-ml-sm q-mr-sm"},{default:U(()=>[q("div",aQ,[q("div",iQ,le(e.titulo),1),(w(!0),H(Se,null,Ne(C(o),(s,l)=>(w(),H("div",{key:`dados-calculo-${l}`},[q("span",null,le(s?.rotulo)+":  ",1),q("span",rQ,le(s?.valor),1)]))),128))]),q("div",{class:be(["col",a.css.container])},[e.incluirLegenda?(w(),H("div",{key:0,class:be(a.css.legenda)},[q("div",AQ,[q("div",nQ,[q("div",{class:be(["bg-grey-5 q-mx-sm",a.css.itemLegendaQuadrado])},null,2),i[0]||(i[0]=q("div",null,"Desconsiderado",-1))]),q("div",sQ,[q("div",{class:be(["bg-orange-3 q-mx-sm",a.css.itemLegendaQuadrado])},null,2),i[1]||(i[1]=q("div",null,"Limitado ao teto",-1))])])],2)):ge("",!0)],2)]),_:1}),E(r,null,{default:U(()=>[E(A,{salarios:Object.values(e.salarios||e.dados.pbc||{})},null,8,["salarios"])]),_:1})]),_:1})}}}),cQ="_container_1snk6_1",uQ="_legenda_1snk6_5",dQ="_itemLegendaQuadrado_1snk6_14",mQ={container:cQ,legenda:uQ,itemLegendaQuadrado:dQ},fQ={css:mQ},pQ=Object.assign(fa(lQ,[["__cssModules",fQ]]),{__name:"FcCartaDadosPbc"}),gQ={key:0},vQ=we({__name:"FcCartaDadosCalculo",props:{dadosCarta:{}},setup(e){const t=R("principal"),o=F(()=>{if(!Array.isArray(e.dadosCarta?.dadosCalculo?.secundarias)||!e.dadosCarta?.dadosCalculo?.secundarias.length)return;const a=e.dadosCarta?.dadosCalculo?.secundarias.map((i,r)=>({label:`Secundária ${r+1}`,value:`secundaria-${r+1}`}));return a.unshift({label:"Principal",value:"principal"}),a});return(a,i)=>{const r=Qi,A=Ra,n=ja,s=vu,l=gu,c=pQ,u=Hr,d=An,m=qt;return e.dadosCarta?(w(),K(m,{key:0,square:"",flat:"",bordered:""},{default:U(()=>[E(A,{class:"bg-blue-1"},{default:U(()=>[E(r,null,{default:U(()=>[...i[2]||(i[2]=[q("div",{class:"text-blue-10 text-weight bold"}," Dados do Cálculo ",-1)])]),_:1})]),_:1}),E(n),C(o)?(w(),H("div",gQ,[E(l,{modelValue:C(t),"onUpdate:modelValue":i[0]||(i[0]=g=>Tt(t)?t.value=g:null),"inline-label":"","active-color":"primary","indicator-color":"primary","no-caps":"","outside-arrows":"",shrink:"","left-icon":C(gf),"right-icon":C(pf)},{default:U(()=>[(w(!0),H(Se,null,Ne(C(o),g=>(w(),K(s,{key:`tab-${g.value}`,name:g.value,label:g.label,ripple:!1},null,8,["name","label"]))),128))]),_:1},8,["modelValue","left-icon","right-icon"]),E(n),E(d,{modelValue:C(t),"onUpdate:modelValue":i[1]||(i[1]=g=>Tt(t)?t.value=g:null)},{default:U(()=>[(w(!0),H(Se,null,Ne(C(o),(g,p)=>(w(),K(u,{key:`panel-${g.value}`,name:g.value},{default:U(()=>[p===0?(w(),K(c,{key:0,dados:e.dadosCarta?.dadosCalculo?.principal,titulo:"Atividade Principal - Salários Consolidados","incluir-legenda":!0},null,8,["dados"])):(w(),K(c,{key:1,dados:e.dadosCarta?.dadosCalculo?.secundarias[p-1],titulo:"Atividade Secundária"},null,8,["dados"]))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])):(w(),K(c,{key:1,dados:e.dadosCarta?.dadosCalculo?.principal,titulo:"Período Básico de Cálculo","incluir-legenda":!0},null,8,["dados"]))]),_:1})):ge("",!0)}}}),hQ=Object.assign(vQ,{__name:"FcCartaDadosCalculo"}),BQ=we({__name:"FcPrevjudCartaConcessao",props:{title:{default:""},dadosCarta:{}},setup(e){const t=Zt(),o=R(!1);return(a,i)=>{const r=St,A=Qi,n=Oa,s=Ra,l=KF,c=hQ,u=Ms,d=pa,m=qt,g=sr,p=ri;return w(),H(Se,null,[E(r,{size:"md",round:"",flat:"",icon:"mdiTextSearch"in a?a.mdiTextSearch:C(Rh),color:"primary",class:"q-mx-sm",title:e.title,onClick:i[0]||(i[0]=f=>o.value=!0)},null,8,["icon","title"]),E(g,{modelValue:C(o),"onUpdate:modelValue":i[1]||(i[1]=f=>Tt(o)?o.value=f:null)},{default:U(()=>[E(m,{square:"",style:{width:"780px","max-width":"80vw"}},{default:U(()=>[E(s,{class:be(`bg-${C(t).tema.corPrimaria}-9 text-white`)},{default:U(()=>[E(A,null,{default:U(()=>[...i[2]||(i[2]=[Pt("PREVJUD Carta de Concessão",-1)])]),_:1}),E(n),Vt(E(r,{round:"",dense:"",flat:"",icon:C(ya)},null,8,["icon"]),[[p]])]),_:1},8,["class"]),E(d,{class:"q-px-lg"},{default:U(()=>[E(u,{style:{height:"calc(100vh - 250px)"}},{default:U(()=>[E(l,{"dados-carta":e.dadosCarta},null,8,["dados-carta"]),E(c,{"dados-carta":e.dadosCarta},null,8,["dados-carta"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),CQ=Object.assign(BQ,{__name:"FcPrevjudCartaConcessao"}),bQ={key:0,style:{display:"flex","flex-direction":"column","align-items":"center"}},wQ={key:1,class:"text-weight-bold"},FQ={key:1},QQ={key:2},EQ=we({__name:"FcPrevjudBeneficios",props:po({dadosPrevjud:{},habilitarDadosBeneficio:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue"),o=la(),a=R(Object.entries(e.habilitarDadosBeneficio).filter(([d,m])=>m).reduce((d,[m])=>(d[m]=!1,d),{})),i=Object.keys(a.value),r=R(e.dadosPrevjud.beneficios.reduce((d,m)=>(m.beneficio.nb&&(d[m.beneficio.nb]={...m,beneficio:m.beneficio,especie:m.beneficio.especie,nb:m.beneficio.nb,dib:m.beneficio.dib,rmi:m.beneficio.dadosRmi.valor,pagamentos:m.pagamentos,opcoesFiltro:{devido:!1,pago:!1,comoSalario:!1,salariosCarta:!1,dadosPagamentos:!1}}),d),{}));function A(){const d=i.reduce((m,g)=>(m[g]={trueCount:0,falseCount:0},m),{});Object.values(r.value).forEach(({opcoesFiltro:m})=>{Object.keys(m).forEach(g=>{const p=m[g];d[g]&&(p?d[g].trueCount++:d[g].falseCount++)})}),Object.keys(d).forEach(m=>{if(!d[m])return;const{trueCount:g,falseCount:p}=d[m];g>0&&p===0?a.value[m]=!0:p>0&&g===0?a.value[m]=!1:a.value[m]=void 0})}function n(){const d=Object.values(r.value).reduce((m,g)=>((g.opcoesFiltro.devido||g.opcoesFiltro.pago||g.opcoesFiltro.comoSalario||g.opcoesFiltro.salariosCarta||g.opcoesFiltro.dadosPagamentos)&&(m[g.nb]={devido:g.opcoesFiltro.devido,pago:g.opcoesFiltro.pago,comoSalario:g.opcoesFiltro.comoSalario,salariosCarta:g.opcoesFiltro.salariosCarta,dadosPagamentos:g.opcoesFiltro.dadosPagamentos}),m),{});t.value=d}function s(d,m){a.value[d]=m,Object.keys(r.value).forEach(g=>{r.value[g]?.opcoesFiltro[d]!==void 0&&(r.value[g].opcoesFiltro[d]=m)}),n()}function l(d,m){r.value[d]&&(r.value[d]={...r.value[d],opcoesFiltro:{...r.value[d].opcoesFiltro,...m}},n(),A())}const c=F(()=>Object.values(r.value)),u=[{name:"comoSalario",label:"Importar Como Salário",field:d=>d.opcoesFiltro.dados,required:!1,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px"},{name:"devido",label:"Como Devido",field:d=>d.opcoesFiltro.devido,required:!1,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px"},{name:"pago",label:"Como Pago",field:d=>d.opcoesFiltro.pago,required:!1,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px"},{name:"salariosCarta",label:"Salários Carta",field:d=>d.opcoesFiltro.carta,required:!1,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px"},{name:"dadosPagamentos",label:"Pagamentos",field:d=>d.opcoesFiltro.pagamentos,required:!1,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px"},{name:"visualizar",label:"Visualizar",field:d=>"",required:!0,align:"center",sortable:!1,style:"width: auto",headerStyle:"width: auto"},{name:"especie",label:"Espécie",field:d=>d.especie,required:!0,align:"left",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:d=>ce.obterRotulo(d)},{name:"nb",label:"NB",field:d=>d.nb,required:!0,align:"center",sortable:!1,style:"width: 20px",headerStyle:"width: 20px",format:d=>o.nb(d)},{name:"dib",label:"DIB",field:d=>d.dib,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:d=>o.data(d)},{name:"rmi",label:"RMI",field:d=>d.rmi,required:!0,align:"center",sortable:!1,style:"width: 80px",headerStyle:"width: 80px",format:d=>o.moeda(d)}];return No(()=>{t.value&&(r.value=Object.entries(r.value).reduce((d,[m,g])=>{if(d[m]=g,t.value[m]){const{devido:p=!1,pago:f=!1,comoSalario:v=!1,salariosCarta:h=!1,dadosPagamentos:B=!1}=t.value[m];d[m].opcoesFiltro.devido=p,d[m].opcoesFiltro.pago=f,d[m].opcoesFiltro.comoSalario=v,d[m].opcoesFiltro.salariosCarta=h,d[m].opcoesFiltro.dadosPagamentos=B}return d},{}),A())}),(d,m)=>{const g=Qi,p=Ra,f=Xi,v=Ls,h=Cu,B=NF,b=Bu,Q=hu,y=qt;return w(),K(y,{square:"",flat:"",bordered:""},{default:U(()=>[E(p,{class:"bg-blue-1"},{default:U(()=>[E(g,null,{default:U(()=>[...m[0]||(m[0]=[q("div",{class:"text-blue-10 text-weight bold"}," Benefícios ",-1)])]),_:1})]),_:1}),E(Q,{rows:C(c),columns:u,"row-key":"nb",flat:"",square:"",bordered:"","visible-columns":C(i),"hide-pagination":!0,pagination:{rowsPerPage:0}},{top:U(()=>[...m[1]||(m[1]=[q("div",{class:"text-body"}," Selecione as opções de importação para os benefícios listados. ",-1)])]),header:U(I=>[E(h,{props:I},{default:U(()=>[(w(!0),H(Se,null,Ne(I.cols,D=>(w(),K(v,{key:D.name,props:I},{default:U(()=>[C(i).includes(D.name)?(w(),H("div",bQ,[Pt(le(D.label)+" ",1),E(f,{"model-value":C(a)[D.name],color:"primary",size:"xs","indeterminate-value":void 0,"onUpdate:modelValue":O=>s(D.name,O)},null,8,["model-value","onUpdate:modelValue"])])):(w(),H("span",wQ,le(D.label),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:U(I=>[E(h,{props:I},{default:U(()=>[(w(!0),H(Se,null,Ne(I.cols,D=>(w(),K(b,{key:D.name,props:I},{default:U(()=>[C(i).includes(D.name)?(w(),K(f,{key:0,"model-value":I.row.opcoesFiltro[D.name],color:"primary",size:"xs","onUpdate:modelValue":O=>l(I.row.nb,{[D.name]:!I.row.opcoesFiltro[D.name]})},null,8,["model-value","onUpdate:modelValue"])):D.name==="visualizar"?(w(),H("span",FQ,[E(CQ,{"dados-carta":I.row.cartaConcessao.dadosCalculo,title:"Ver Dados e Salários"},null,8,["dados-carta"]),E(B,{pagamentos:I.row.pagamentos},null,8,["pagamentos"])])):(w(),H("span",QQ,le(D.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","visible-columns"])]),_:1})}}}),yQ=Object.assign(EQ,{__name:"FcPrevjudBeneficios"}),IQ=we({__name:"FcPrevjudOpcoesImportacao",props:{titulo:{default:"Dados PREVJUD"},dadosPrevjud:{},opcoesFiltro:{},habilitarDadosBeneficio:{},habilitarDadosVinculo:{},dicaPeriodos:{}},emits:[...Ar.emits],setup(e){const{dialogRef:t,onDialogHide:o,onDialogOK:a,onDialogCancel:i}=Ar(),r=Zt(),A=R([]),n=R({}),s=R({});function l(){a({dadosSegurado:A.value,beneficios:n.value,vinculos:s.value})}function c(){i()}return fA(()=>{e.opcoesFiltro&&(A.value=e.opcoesFiltro.dadosSegurado||[],n.value=e.opcoesFiltro.beneficios||{},s.value=e.opcoesFiltro.vinculos||{})}),(u,d)=>{const m=Qi,g=Oa,p=St,f=Ra,v=Ag,h=ng,B=yQ,b=Ms,Q=pa,y=au,I=qt,D=sr;return w(),K(D,{ref_key:"dialogRef",ref:t,onHide:C(o)},{default:U(()=>[E(I,{square:"",style:{width:"1150px","max-width":"90vw",overflow:"hidden"}},{default:U(()=>[E(f,{class:be(`bg-${C(r).tema.corPrimaria}-9 text-white`)},{default:U(()=>[E(m,null,{default:U(()=>[Pt(le(e.titulo),1)]),_:1}),E(g),E(p,{round:"",dense:"",flat:"",icon:"mdiClose"in u?u.mdiClose:C(ya),onClick:c},null,8,["icon"])]),_:1},8,["class"]),E(Q,{class:"q-px-lg"},{default:U(()=>[E(b,{style:{height:"calc(100vh - 250px)"}},{default:U(()=>[E(v,{modelValue:C(A),"onUpdate:modelValue":d[0]||(d[0]=O=>Tt(A)?A.value=O:null),"dados-segurado":e.dadosPrevjud.segurado},null,8,["modelValue","dados-segurado"]),E(h,{modelValue:C(s),"onUpdate:modelValue":d[1]||(d[1]=O=>Tt(s)?s.value=O:null),periodos:e.dadosPrevjud.periodos,"habilitar-dados-vinculo":e.habilitarDadosVinculo,dica:e.dicaPeriodos},null,8,["modelValue","periodos","habilitar-dados-vinculo","dica"]),E(B,{modelValue:C(n),"onUpdate:modelValue":d[2]||(d[2]=O=>Tt(n)?n.value=O:null),"dados-prevjud":e.dadosPrevjud,"habilitar-dados-beneficio":e.habilitarDadosBeneficio},null,8,["modelValue","dados-prevjud","habilitar-dados-beneficio"])]),_:1})]),_:1}),E(y,{align:"right"},{default:U(()=>[E(p,{flat:"","no-caps":"",label:"Cancelar",color:"red-10",class:"q-mr-sm q-mb-sm",onClick:c}),E(p,{flat:"","no-caps":"",label:"Importar",color:"blue-8",class:"q-mr-md q-mb-sm",onClick:l})]),_:1})]),_:1})]),_:1},8,["onHide"])}}}),UQ=Object.assign(IQ,{__name:"FcPrevjudOpcoesImportacao"});function sg(e){return new mF(e)}function SQ(e){return new Promise(t=>{try{Qr.create({component:UQ,componentProps:{...e,titulo:"Dados PREVJUD"}}).onOk(o=>t(o)).onCancel(()=>t(!1)).onDismiss(()=>t(!1))}catch{t(!1)}})}function Fu(){const e=Zt();return Ia(`${e.nome}-prevjud-store`,()=>{const o=sg(Sa.JsonPrevjud),a=o.plugins,i=a.map(O=>O.nome),r=ai(""),A=ai(),n=ai(o.dadosDocumento),s=F(()=>n.value?.nome),l=F(()=>n.value?.identificado),c=F(()=>n.value?n.value.dadosEstruturados:void 0),u=F(()=>c.value?c.value.segurado:void 0),d=F(()=>c.value?.periodos??[]),m=F(()=>c.value?.beneficios??[]),g=F(()=>d.value.length?d.value[0].dataInicial:void 0),p=F(()=>d.value.length?d.value[d.value.length-1].dataFinal:void 0);async function f({habilitarDadosBeneficio:O,habilitarDadosVinculo:S,dicaPeriodos:k}){if(A.value=void 0,!l.value||!c.value)return;const{devido:W=!0,pago:re=!0,comoSalario:$=!0,dadosPagamentos:z=!0,salariosCarta:N=!0}=O,{periodo:x=!0,salarios:M=!0}=S,X={dadosPrevjud:c.value,opcoesFiltro:A.value,habilitarDadosBeneficio:{devido:W,pago:re,comoSalario:$,dadosPagamentos:z,salariosCarta:N},habilitarDadosVinculo:{periodo:x,salarios:M},dicaPeriodos:k},ae=await SQ(X);if(ae)return A.value=ae,A.value}async function v(O){!O.identificado||!O.dadosEstruturados||!i.includes(O.nome??"")||(n.value=O,r.value=n.value.texto??"")}async function h(O){B(),O instanceof File||Re(O)?(await o.ler(O),await v(o.dadosDocumento)):await v(O)}function B(){o.reiniciar(),n.value=o.dadosDocumento,A.value=void 0,r.value=""}function b({filtrar:O=!1}){return $s({filtrar:O,periodos:d.value,opcoesFiltroPeriodos:A.value?.vinculos})}function Q(){return Zp({periodos:d.value,opcoesFiltroPeriodos:A.value?.vinculos})}function y(){return ac({periodos:d.value,opcoesFiltroPeriodos:A.value?.vinculos})}function I({filtrar:O=!1}){return l.value?m.value.filter(({beneficio:S})=>O?A.value?.beneficios&&S.nb&&A.value.beneficios[S.nb]!==void 0:!0):[]}function D(O){if(!(!O||!l.value))return m.value.find(S=>S.beneficio.nb===O)}return{nome:s,identificado:l,texto:r,opcoesFiltro:A,dadosDocumento:n,dadosEstruturados:c,dadosSegurado:u,periodos:d,beneficios:m,competenciaInicial:g,competenciaFinal:p,plugins:a,permitidos:i,atualizarOpcoesFiltro:f,analisar:h,reiniciar:B,obterPeriodos:b,obterPeriodosFiltrados:Q,obterSalariosIndependentes:y,obterBeneficios:I,obterBeneficio:D}},{persist:{pick:["texto","opcoesFiltro"],afterHydrate:o=>{const a=o.store.opcoesFiltro;o.store.analisar(o.store.texto),o.store.opcoesFiltro=a},serializer:{deserialize:o=>JSON.parse(o,ko),serialize:JSON.stringify}}})()}const DQ=we({__name:"FcImportadorPrevjud",props:{nome:{},rotulo:{},tamanho:{},arquivosAceitos:{},mensagemErroTipoDocumento:{},config:{},desabilitado:{type:Boolean},mostrarDetalhes:{type:Boolean}},emits:["sucesso","mostrarDetalhes","reiniciar"],setup(e,{emit:t}){const o=t,a=Fu();function i(){if(!a.identificado)return;const A=a.dadosDocumento,n={documento:Sa.JsonPrevjud,pedirConfirmacao:!1,persistir:!0,acao:()=>{}};o("mostrarDetalhes",{dados:A,item:n})}function r(){a.reiniciar(),o("reiniciar")}return(A,n)=>C(a).identificado?(w(),K(kb,{key:0,nome:"importar-prevjud-sucesso",rotulo:"PrevJud",tamanho:e.tamanho,"mostrar-detalhes":!0,onReiniciar:r,onMostrarDetalhes:n[0]||(n[0]=s=>i())},null,8,["tamanho"])):ge("",!0)}}),xQ=Object.assign(DQ,{__name:"FcImportadorPrevjud"}),PQ=we({__name:"FcSeparador",props:{parametros:{}},setup(e){return(t,o)=>{const a=ja;return w(),K(a,{spaced:e.parametros?.spaced??!1,inset:e.parametros?.inset??!1,vertical:e.parametros?.vertical??!1,dark:e.parametros?.dark??null,size:e.parametros?.size??"",color:e.parametros?.color??""},null,8,["spaced","inset","vertical","dark","size","color"])}}}),_Q=Object.assign(PQ,{__name:"FcSeparador"}),OQ=we({__name:"FcFormularioTexto",props:{parametros:{}},setup(e){return(t,o)=>(w(),H("div",{style:Ze([{display:"flex","align-items":"center"},e.parametros.estilos]),class:be(["q-my-sm q-px-md",e.parametros.classes])},[q("div",{class:be(e.parametros.classesTexto),style:Ze([e.parametros.estilosTexto,{width:"100%"}])},le(e.parametros.texto),7)],6))}}),RQ=Object.assign(OQ,{__name:"FcFormularioTexto"}),MQ=we({__name:"FcBotaoFormulario",props:{parametros:{}},emits:["click"],setup(e,{emit:t}){const o=t;function a(){o("click")}return(i,r)=>{const A=St;return w(),K(A,Wa({dense:"",unelevated:"","no-caps":"",size:e.parametros.tamanho||"md",icon:e.parametros.icone,"text-color":e.parametros.corTexto,color:e.parametros.cor,name:e.parametros.nome,label:e.parametros.titulo||void 0,title:e.parametros.dica,disabled:e.parametros.desabilitado},e.parametros.quasarProps,{style:e.parametros.estilos,class:e.parametros.classes,onClick:a}),null,16,["size","icon","text-color","color","name","label","title","disabled","style","class"])}}}),LQ=Object.assign(MQ,{__name:"FcBotaoFormulario"}),HQ={key:0,style:{"font-weight":"500"},class:"q-mx-md"},TQ=we({__name:"FcSelecao",props:po({parametros:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue"),o=F(()=>(e.parametros.opcoes??[]).map(r=>r.valor)),a=F(()=>o.value.includes(t.value)?t.value:void 0),i=e.parametros.obrigatorio===!0?`${e.parametros.rotulo}*`:e.parametros.rotulo;return(r,A)=>{const n=Up,s=Ei;return w(),H("div",{style:Ze([{display:"flex","align-items":"center"},e.parametros.estilos]),class:be(e.parametros.classes)},[e.parametros.titulo?(w(),H("div",HQ,le(e.parametros.titulo),1)):ge("",!0),E(n,{"model-value":C(a),options:e.parametros.opcoes,name:e.parametros.nome,for:e.parametros.nome,label:C(i),readonly:e.parametros.somenteLeitura===!0,disable:e.parametros.desabilitado===!0,"label-color":e.parametros.obrigatorio===!0?"orange-10":"","bg-color":e.parametros.obrigatorio===!0?"orange-1":"",color:e.parametros.obrigatorio===!0?"orange-10":"",outlined:"",dense:"","options-dense":"","stack-label":"","no-error-icon":"","hide-bottom-space":"","option-label":"rotulo","option-value":"valor","emit-value":"","map-options":"","item-aligned":"",class:"col-grow","onUpdate:modelValue":A[0]||(A[0]=l=>t.value=l)},null,8,["model-value","options","name","for","label","readonly","disable","label-color","bg-color","color"]),E(s,Wa(e.parametros.dica,{"q-btn-props":{size:"12px"},style:{"margin-left":"-0.9rem"}}),null,16)],6)}}}),lg=Object.assign(TQ,{__name:"FcSelecao"}),$Q={key:0,style:{"font-weight":"500"},class:"q-mr-md"},VQ=we({__name:"FcRadio",props:po({parametros:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue");return(o,a)=>{const i=tu,r=Ei;return w(),H("div",{style:Ze([{display:"flex","align-items":"center"},e.parametros.estilos]),class:be(["q-px-md",e.parametros.classes])},[e.parametros.titulo?(w(),H("div",$Q,le(e.parametros.titulo),1)):ge("",!0),E(i,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=A=>t.value=A),options:e.parametros.opcoes,name:e.parametros.nome,disable:e.parametros.desabilitado===!0,inline:"",outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","options","name","disable"]),E(r,Wa({style:{"margin-left":"0.4rem"}},e.parametros.dica),null,16)],6)}}}),NQ=Object.assign(VQ,{__name:"FcRadio"}),qQ=we({__name:"FcOpcao",props:po({parametros:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue");return(o,a)=>{const i=Xi,r=Ei;return w(),H("div",{style:Ze([{display:"flex","align-items":"center"},e.parametros.estilos]),class:be(["q-px-md q-py-sm",e.parametros.classes])},[E(i,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=A=>t.value=A),name:e.parametros.nome,for:e.parametros.nome,label:e.parametros.rotulo,disable:e.parametros.desabilitado===!0,style:{margin:"0"},outlined:"",dense:"","stack-label":"","no-error-icon":""},null,8,["modelValue","name","for","label","disable"]),E(r,iu(vf(e.parametros.dica)),null,16)],6)}}}),kQ=Object.assign(qQ,{__name:"FcOpcao"});var mt=(e=>(e[e.Campo=0]="Campo",e[e.Separador=1]="Separador",e[e.Texto=2]="Texto",e[e.Botao=3]="Botao",e))(mt||{}),bt=(e=>(e[e.Entrada=0]="Entrada",e[e.Selecao=1]="Selecao",e[e.Radio=2]="Radio",e[e.Opcao=3]="Opcao",e[e.Deslizante=4]="Deslizante",e))(bt||{}),ot=(e=>(e[e.Data=0]="Data",e[e.Competencia=1]="Competencia",e[e.Texto=2]="Texto",e[e.Inteiro=3]="Inteiro",e[e.Decimal=4]="Decimal",e[e.Percentual=5]="Percentual",e[e.Moeda=6]="Moeda",e[e.NumeroProcesso=7]="NumeroProcesso",e[e.Cpf=8]="Cpf",e))(ot||{});function KQ(e){return e===ot.Data?"##/##/####":e===ot.Competencia?"##/####":e===ot.NumeroProcesso?"#######-##.####.#.##.####":e===ot.Cpf?"###.###.###-##":""}function $d(e,t=0){const o=e.startsWith("-");if(e=e.replace(/\D/g,""),!e)return o?"-":"";t&&(e.length>t?e=`${e.slice(0,e.length-t)}.${e.slice(e.length-t)}`:e=`0.${e.padStart(t,"0")}`);let a=Number(e);Number.isNaN(a)&&(a=0);const i=Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:!0}).format(a);return o?`-${i}`:i}function zQ(){const e=ga();function t(A){const n=new oe(A);return n.dataValida()?n.nativo():void 0}function o(A){if(A===""||A===null||A===void 0)return;const n=A.startsWith("-");let s=A.replace(/-/g,"").replace(/\./g,"").replace(",",".");s=vt.normalizar(s);try{const l=de(s)*(n?-1:1);return ie(l)?l:void 0}catch(l){e.erro(l);return}}function a(A){const n=o(A);if(!ie(n))return;const s=A.startsWith("-"),l=vt.normalizar(n.toString());let[c,u]=l.split(".");c=(c??"").replace(/\D/g,"").padStart(2,"0"),u=(u??"").replace(/\D/g,"");const d=u?`${u}`:"",m=`${s?"-":""}0${c.slice(0,-2)}.${c.slice(-2)}${d}`;return Number(m)}function i(A,n){return n===ot.Data?t(A):n===ot.Competencia?t(`01/${A}`):n===ot.Decimal||n===ot.Moeda||n===ot.Inteiro?o(A):n===ot.Percentual?a(A):A}function r(A,n,s){if(A==null)return"";if(me(A)){const l=A.toLocaleDateString("pt-BR");return n===ot.Competencia?l.substring(3):l}return n===ot.Percentual?Intl.NumberFormat("pt-BR",{style:"percent",minimumFractionDigits:s??0,maximumFractionDigits:s??0,useGrouping:!0,notation:"standard"}).format(A).replace("%","").trim():n===ot.Decimal||n===ot.Moeda?Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:s??2,maximumFractionDigits:s??2,useGrouping:!0}).format(A):`${A}`}return{paraValor:i,paraTexto:r}}function GQ(){function e(p){return ie(p)}function t(p,f){return e(p)&&p>=f}function o(p,f){return e(p)&&p<=f}function a(p,f,v){return t(p,f)&&o(p,v)}function i(p,f){return Re(p)&&t(p.length,f)}function r(p,f){return Re(p)&&o(p.length,f)}function A(p,f,v){return Re(p)&&a(p.length,f,v)}function n(p,f){me(p)&&t(p.valueOf(),f.valueOf())}function s(p,f){return me(p)&&o(p.valueOf(),f.valueOf())}function l(p,f,v){return me(p)&&a(p.valueOf(),f.valueOf(),v.valueOf())}function c(p){return Re(p)&&new oe(p).dataValida()}const u=p=>p===""||p===void 0||p===null,d={obrigatorio(p){return f=>!!f||p||"Campo obrigatório"},regex(p,f){return v=>u(v)||p.test(v)||f||"Formato inválido"},dataValida(p){return f=>u(f)||c(f)||p||"Data inválida"},numeroValido(p){return f=>u(f)||e(f)||p||"Numero inválido"},numeroEntre(p,f,v){return h=>u(h)||a(h,p,f)||v||`Deve estar entre ${p} e ${f}`},numeroMaiorOuIgual(p,f){return v=>u(v)||t(v,p)||f||`Deve ser maior ou igual a ${p}`},numeroMenorOuIgual(p,f){return v=>u(v)||o(v,p)||f||`Deve ser menor ou igual a ${p}`},tamanhoEntre(p,f,v){return h=>u(h)||A(h,p,f)||v||`Deve estar entre ${p} e ${f}`},tamanhoMaiorOuIgual(p,f){return v=>u(v)||i(v,p)||f||`Deve ser maior ou igual a ${p}`},tamanhoMenorOuIgual(p,f){return v=>u(v)||r(v,p)||f||`Deve ser menor ou igual a ${p}`},dataEntre(p,f,v){return h=>u(h)||l(h,p,f)||v||`Deve estar entre ${p.toLocaleDateString("pt-BR")} e ${f.toLocaleDateString("pt-BR")}`},dataMaiorOuIgual(p,f){return v=>u(v)||n(v,p)||f||`Deve ser maior ou igual a ${p.toLocaleDateString("pt-BR")}`},dataMenorOuIgual(p,f){return v=>u(v)||s(v,p)||f||`Deve ser menor ou igual a ${p.toLocaleDateString("pt-BR")}`},processo(p){return f=>u(f)||gB(f)||p||"Número do processo inválido"},cpf(p){return f=>u(f)||pB(f)||p||"CPF inválido"},cnpj(p){return f=>u(f)||fB(f)||p||"CNPJ inválido"}};function m(p,f){const v=[];return f&&v.push({nome:"obrigatorio",args:["Campo obrigatório"]}),p===ot.Inteiro&&v.push({nome:"regex",args:[/^-?\d+$/,"Formato: inteiro"]}),(p===ot.Decimal||p===ot.Percentual)&&v.push({nome:"regex",args:[/^-?\d{1,3}(?:.?\d{3})*(?:,\d+)?$/,"Formato: decimal"]}),p===ot.Moeda&&v.push({nome:"regex",args:[/^-?\d{1,3}(?:.?\d{3})*(?:,\d{1,2})?$/,"Formato: moeda"]}),p===ot.Data&&v.push({nome:"regex",args:[/^\d{2}\/\d{2}\/\d{4}$/,"Formato: dd/mm/aaaa"]}),p===ot.Competencia&&v.push({nome:"regex",args:[/^\d{2}\/\d{4}$/,"Formato: mm/aaaa"]}),p===ot.NumeroProcesso&&v.push({nome:"processo",args:[]}),p===ot.Cpf&&v.push({nome:"cpf",args:[]}),v}function g(p,f,v=[]){const h=m(p,f).filter(B=>B.nome in d).map(B=>d[B.nome](...B.args));return Array.prototype.concat(h,v)}return{regras:d,obterRegrasPadrao:g}}const jQ=we({__name:"FcEntrada",props:po({parametros:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const o=Ro(e,"modelValue"),a=R(),i=e.parametros.obrigatorio===!0?`${e.parametros.rotulo}*`:e.parametros.rotulo,r=e.parametros.mascara?e.parametros.mascara:KQ(e.parametros.tipoEntrada),A=e.parametros.tipoEntrada===ot.Moeda?2:e.parametros.casasDecimais??0,n=zQ(),s=GQ(),l=F(()=>s.obterRegrasPadrao(e.parametros.tipoEntrada,e.parametros.obrigatorio===!0,e.parametros.regras)),c=R(n.paraTexto(o.value,e.parametros.tipoEntrada,e.parametros.casasDecimais));Je(()=>o.value,h=>{c.value=n.paraTexto(h,e.parametros.tipoEntrada,e.parametros.casasDecimais)});function u(){return a.value?a.value.validate():!1}function d(h,B){const b=()=>h.setSelectionRange(B,B);h===document.activeElement&&(b(),setTimeout(b,1))}function m(h){return h.value.length-(h.selectionEnd??0)}async function g(h,B=0){if(c.value=h,await pt(),u()||!c.value){const Q=n.paraValor(c.value,e.parametros.tipoEntrada);if(Q!==o.value){o.value=Q,await pt();const y=B>0?c.value.length-B:c.value.length;a.value?.nativeEl&&d(a.value.nativeEl,y)}}}const p=h=>{const B=a.value?.nativeEl?m(a.value.nativeEl):0;let b=`${h??""}`;!h&&e.parametros.tipoEntrada===ot.Percentual?b=$d(`${h??""}`,Math.max(0,A-2)):(e.parametros.tipoEntrada===ot.Decimal||e.parametros.tipoEntrada===ot.Moeda||e.parametros.tipoEntrada===ot.Percentual)&&(b=$d(`${h??""}`,A)),g(b,B)};function f(){u()&&(o.value=n.paraValor(c.value,e.parametros.tipoEntrada))}function v(){o.value=n.paraValor(c.value,e.parametros.tipoEntrada)}return t({input:a}),(h,B)=>{const b=Ei;return w(),H("div",{style:Ze([{display:"flex","align-items":"center"},e.parametros.estilos]),class:be(e.parametros.classes)},[E(C(hf),{ref_key:"input",ref:a,"model-value":C(c),type:"text",name:e.parametros.nome,for:e.parametros.nome,label:C(i),"label-color":e.parametros.obrigatorio===!0?"orange-10":"","bg-color":e.parametros.obrigatorio===!0?"orange-1":"",color:e.parametros.obrigatorio===!0?"orange-10":"",prefix:e.parametros.prefixo,suffix:e.parametros.sufixo,readonly:e.parametros.obrigatorio!==!0&&e.parametros.somenteLeitura===!0,clearable:e.parametros.apagavel===!0,mask:C(r),rules:C(l),"lazy-rules":"ondemand",disabled:e.parametros.desabilitado===!0,style:{width:"100%"},outlined:"",dense:"","stack-label":"","no-error-icon":"","item-aligned":"","onUpdate:modelValue":p,onBlur:f,onClear:v},{append:U(()=>[E(b,iu(vf(e.parametros.dica)),null,16)]),_:1},8,["model-value","name","for","label","label-color","bg-color","color","prefix","suffix","readonly","clearable","mask","rules","disabled"])],6)}}}),Sr=Object.assign(jQ,{__name:"FcEntrada"}),WQ={key:0,style:{"font-weight":"500"},class:"q-mr-md"},JQ=we({__name:"FcControleDeslizante",props:po({parametros:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue");return(o,a)=>{const i=Ei,r=PC;return w(),H("div",{style:Ze([{display:"flex","align-items":"center"},e.parametros.estilos]),class:be(["q-px-md",e.parametros.classes])},[e.parametros.titulo?(w(),H("div",WQ,[Pt(le(e.parametros.titulo)+" ",1),E(i,Wa({style:{"margin-left":"-0.1rem"}},e.parametros.dica),null,16)])):ge("",!0),E(r,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=A=>t.value=A),min:e.parametros.min,max:e.parametros.max,step:e.parametros.intervalo,label:e.parametros.mostrarRotulos,"marker-labels":e.parametros.rotulos,markers:e.parametros.marcadores,name:e.parametros.nome,disable:e.parametros.desabilitado===!0,readonly:e.parametros.somenteLeitura===!0,dense:""},null,8,["modelValue","min","max","step","label","marker-labels","markers","name","disable","readonly"])],6)}}}),XQ=Object.assign(JQ,{__name:"FcControleDeslizante"}),YQ=we({__name:"FcFormularioCampo",props:po({tipo:{},parametros:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue");return(o,a)=>{const i=lg,r=NQ,A=kQ,n=Sr,s=XQ;return e.tipo===C(bt).Selecao?(w(),K(i,{key:0,"model-value":("toValue"in o?o.toValue:C(bA))(t.value),parametros:e.parametros,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value=l)},null,8,["model-value","parametros"])):e.tipo===C(bt).Radio?(w(),K(r,{key:1,"model-value":("toValue"in o?o.toValue:C(bA))(e.modelValue),parametros:e.parametros,"onUpdate:modelValue":a[1]||(a[1]=l=>t.value=l)},null,8,["model-value","parametros"])):e.tipo===C(bt).Opcao?(w(),K(A,{key:2,"model-value":("toValue"in o?o.toValue:C(bA))(e.modelValue),parametros:e.parametros,"onUpdate:modelValue":a[2]||(a[2]=l=>t.value=l)},null,8,["model-value","parametros"])):e.tipo===C(bt).Entrada?(w(),K(n,{key:3,"model-value":("toValue"in o?o.toValue:C(bA))(e.modelValue),parametros:e.parametros,"onUpdate:modelValue":a[3]||(a[3]=l=>t.value=l)},null,8,["model-value","parametros"])):e.tipo===C(bt).Deslizante?(w(),K(s,{key:4,"model-value":("toValue"in o?o.toValue:C(bA))(e.modelValue),parametros:e.parametros,"onUpdate:modelValue":a[4]||(a[4]=l=>t.value=l)},null,8,["model-value","parametros"])):ge("",!0)}}}),ZQ=Object.assign(YQ,{__name:"FcFormularioCampo"}),eE=we({__name:"FcFormularioDinamicoSecao",props:{secao:{}},emits:["editando"],setup(e,{emit:t}){const o=t;function a(A,n,s){return A.tipo===mt.Campo?A.campo.parametros.nome:A.tipo===mt.Separador||A.tipo===mt.Texto?`separador-${n}-${s}`:A.parametros.nome}function i(A,n){Po(n)&&n(A),o("editando")}function r(A){Po(A)&&A(),o("editando")}return(A,n)=>{const s=_Q,l=RQ,c=LQ;return w(!0),H(Se,null,Ne(e.secao.linhas,(u,d)=>(w(),H("div",{key:`secao-${e.secao.titulo}-linha-${d}`,class:"row q-mb-sm"},[(w(!0),H(Se,null,Ne(u,(m,g)=>(w(),H(Se,{key:a(m,d,g)},[m.tipo===C(mt).Separador?(w(),K(s,{key:0,style:{width:"100%"},parametros:m.parametros},null,8,["parametros"])):m.tipo===C(mt).Texto?(w(),K(l,{key:1,parametros:m.parametros},null,8,["parametros"])):m.tipo===C(mt).Campo?(w(),K(ZQ,{key:2,"model-value":m.campo.ref,tipo:m.campo.tipo,parametros:m.campo.parametros,"onUpdate:modelValue":p=>i(p,m.campo.atualizar)},null,8,["model-value","tipo","parametros","onUpdate:modelValue"])):m.tipo===C(mt).Botao?(w(),K(c,{key:3,parametros:m.parametros,onClick:p=>r(m.aoClicar)},null,8,["parametros","onClick"])):ge("",!0)],64))),128))]))),128)}}}),tE=Object.assign(eE,{__name:"FcFormularioDinamicoSecao"}),oE=we({__name:"FcFormularioBloco",props:{titulo:{},classes:{},dica:{},botaoApagar:{type:Boolean},temaEscuro:{type:Boolean}},emits:["apagar"],setup(e,{emit:t}){const o=t,a=R(!1);function i(){o("apagar")}return(r,A)=>{const n=Ei,s=Oa,l=St,c=qt,u=Fi,d=aC,m=pa,g=ri;return w(),K(c,{square:""},{default:U(()=>[E(d,{class:be(e.classes)},{default:U(()=>[q("div",null,le(e.titulo),1),E(n,Wa({class:"q-ml-xs"},e.dica,{"classes-botao":e.temaEscuro?"text-white":""}),null,16,["classes-botao"]),E(s),yt(r.$slots,"acoes"),e.botaoApagar?(w(),K(l,{key:0,flat:"",dense:"",round:"",icon:C(Us),size:"12px",color:e.temaEscuro?"white":"grey-9",title:"Apagar",onClick:A[1]||(A[1]=p=>a.value=!0)},{default:U(()=>[E(u,null,{default:U(()=>[E(c,{class:"q-pa-xs",style:{width:"105px"}},{default:U(()=>[Vt(E(l,{flat:"",dense:"","no-caps":"",icon:C(ya),label:"Cancela",onClick:A[0]||(A[0]=p=>a.value=!1)},null,8,["icon"]),[[g]]),Vt(E(l,{flat:"",dense:"","no-caps":"",icon:C(Ds),label:"Confirma",color:"red-8",onClick:i},null,8,["icon"]),[[g]])]),_:1})]),_:1})]),_:1},8,["icon","color"])):ge("",!0)]),_:3},8,["class"]),E(m,null,{default:U(()=>[yt(r.$slots,"default")]),_:3})]),_:3})}}}),cg=Object.assign(oE,{__name:"FcFormularioBloco"}),aE={class:"q-gutter-md"},iE=we({__name:"FcFormularioDinamico",props:{esquema:{},recolhido:{type:Boolean},ignorarEstruturaBlocos:{type:Boolean},mostrarAcoesNaSecao:{default:0}},emits:["editando"],setup(e,{emit:t}){const o=t,a=R();function i(){a.value&&(a.value.resetValidation(),o("editando"))}function r(A){Po(A.apagar)&&A.apagar()}return(A,n)=>{const s=tE,l=NC,c=qt,u=cg;return w(),K(C(Rs),{ref_key:"formulario",ref:a,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",onSubmit:n[0]||(n[0]=()=>{})},{default:U(()=>[q("div",aE,[e.ignorarEstruturaBlocos?(w(!0),H(Se,{key:0},Ne(e.esquema.secoes,d=>(w(),K(s,{key:`secao-${d.titulo}`,secao:d,onEditando:i},null,8,["secao"]))),128)):e.recolhido?(w(),K(c,{key:1,flat:"",square:"",bordered:""},{default:U(()=>[E(l,{label:e.esquema.titulo,caption:"Clique para expandir/recolher","default-opened":!1,"expand-separator":""},{default:U(()=>[(w(!0),H(Se,null,Ne(e.esquema.secoes,d=>(w(),K(s,{key:`secao-${d.titulo}`,secao:d,onEditando:i},null,8,["secao"]))),128))]),_:1},8,["label"])]),_:1})):(w(!0),H(Se,{key:2},Ne(e.esquema.secoes,(d,m)=>(w(),K(u,{key:`secao-${d.titulo}`,titulo:d.titulo,classes:d.cor,dica:d.dica,"botao-apagar":!!d.apagar,"tema-escuro":d.temaEscuro,onApagar:g=>r(d)},Mh({default:U(()=>[E(s,{secao:d,onEditando:i},null,8,["secao"])]),_:2},[m===e.mostrarAcoesNaSecao?{name:"acoes",fn:U(()=>[yt(A.$slots,"acoes")]),key:"0"}:void 0]),1032,["titulo","classes","dica","botao-apagar","tema-escuro","onApagar"]))),128))])]),_:3},512)}}}),ug=Object.assign(iE,{__name:"FcFormularioDinamico"}),sn=Ia("@fc/prev-rpps-parametros-store",()=>{const e=Zt(),t=R(),o=R(),a=R(zi.VoluntariasRegraGeral),i=F(()=>t.value),r={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:t,atualizar:g=>t.value=g,parametros:{tipoEntrada:ot.Data,nome:"der",rotulo:"Data de Primeira Apuração",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},A={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:o,atualizar:g=>o.value=g,parametros:{tipoEntrada:ot.Data,nome:"derReafirmada",rotulo:"Data Publicação Ato",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},n=F(()=>({tipo:mt.Campo,campo:{tipo:bt.Selecao,ref:a,atualizar:g=>a.value=g,parametros:{nome:"tipo",rotulo:"Tipo Aposentadoria",opcoes:zi.obterOpcoesDisponiveis(),obrigatorio:!0,classes:"col-xs-8 col-sm-8 col-md-6 col-lg-4"}}}));function s(){return{titulo:"Parâmetros Gerais",secoes:[{titulo:"Dados do Benefício",cor:`bg-${e.tema}-8 text-white`,linhas:[[r,A,n.value]]}]}}function l(){return{der:xo(t.value),derReafirmada:xo(o.value),tipoAposentadoria:xo(a.value)}}function c(g){t.value=g.der??ir(),o.value=g.derReafirmada,a.value=ie(g.tipoAposentadoria)&&zi[g.tipoAposentadoria]?g.tipoAposentadoria:zi.VoluntariasRegraGeral}function u(){c({})}function d(){return me(t.value)&&!To(ir(),t.value)||me(o.value)}function m(){return l()}return{der:t,derReafirmada:o,tipoAposentadoria:a,dib:i,obterEsquemaFormulario:s,obterDadosParaArmazenamento:l,atualizarDados:c,reiniciar:u,serializar:m,temDadosCarregados:d}},{persist:{omit:["hoje"],serializer:{deserialize:e=>JSON.parse(e,ko),serialize:JSON.stringify}}});function ln(){const e=Zt();return Ia(`${e.nome}-servidor-store`,()=>{const o=R(),a=R(),i=R(),r=R(),A=R(!1),n={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:a,atualizar:h=>a.value=h,parametros:{tipoEntrada:ot.Texto,nome:"nome",rotulo:"Nome do Servidor",obrigatorio:!0,classes:"col-xs-12 col-sm-6 col-md-4 col-lg-4"}}},s={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:o,atualizar:h=>o.value=h,parametros:{tipoEntrada:ot.Inteiro,nome:"rf-servidor",rotulo:"RF / Matrícula",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},l={tipo:mt.Campo,campo:{tipo:bt.Selecao,ref:i,atualizar:h=>i.value=h,parametros:{nome:"sexo-servidor",rotulo:"Sexo",opcoes:V.obterOpcoes(),obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},c={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:r,atualizar:h=>r.value=h,parametros:{tipoEntrada:ot.Data,nome:"data-nascimento",rotulo:"Nascimento",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},u={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:A,atualizar:h=>A.value=h,parametros:{nome:"opcaoFunpresp",rotulo:"Aderiu ao Funpresp",classes:"q-pl-sm"}}},d={titulo:"Dados Servidor",secoes:[{titulo:"Dados do Servidor",cor:`bg-${e.tema.corPrimaria}-9 text-white`,temaEscuro:!0,linhas:[[n,s],[l,c,u]]}]};function m(){return{rf:xo(o.value),nome:xo(a.value),sexo:xo(i.value),nascimento:xo(r.value),opcaoFunpresp:xo(A.value)}}function g(h){o.value=h.rf?h.rf:void 0,i.value=ie(h.sexo)&&V[h.sexo]?h.sexo:void 0,r.value=h.nascimento?xt(h.nascimento):void 0,a.value=h.nome||void 0,A.value=h.opcaoFunpresp??!1}function p(){g({})}function f(){return me(r.value)}function v(){return m()}return{rf:o,sexo:i,nome:a,nascimento:r,opcaoFunpresp:A,esquemaFormulario:d,obterDadosParaArmazenamento:m,atualizarDados:g,reiniciar:p,serializar:v,temDadosCarregados:f}},{persist:{omit:["esquemaFormulario"],serializer:{deserialize:o=>JSON.parse(o,ko),serialize:JSON.stringify}}})()}const rE={class:"q-mt-md"},AE=we({__name:"RppsParametros",setup(e){const t=sn(),o=ln(),a=F(()=>t.obterEsquemaFormulario()),i=Zt();return(r,A)=>{const n=ug,s=cg,l=Hr;return w(),K(l,{name:"parametros"},{default:U(()=>[q("div",rE,[E(s,{titulo:"Dados do Servidor",classes:`bg-${C(i).tema.corPrimaria}-9 text-white`,"tema-escuro":!0,"botao-apagar":!0,onApagar:C(o).reiniciar},{default:U(()=>[E(n,{esquema:C(o).esquemaFormulario,"ignorar-estrutura-blocos":!0},null,8,["esquema"])]),_:1},8,["classes","onApagar"]),E(s,{titulo:"Dados do Benefício",classes:`bg-${C(i).tema.corPrimaria}-9 text-white`,"tema-escuro":!0,"botao-apagar":!0,onApagar:C(t).reiniciar},{default:U(()=>[E(n,{esquema:C(a),"ignorar-estrutura-blocos":!0},null,8,["esquema"])]),_:1},8,["classes","onApagar"])])]),_:1})}}}),nE=Object.assign(AE,{__name:"RppsParametros"}),sE=we({__name:"FcBotoesNav",props:po({opcoes:{},largura:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue");return(o,a)=>{const i=St,r=fp;return w(),K(r,{style:Ze({width:e.largura??"auto"}),spread:""},{default:U(()=>[(w(!0),H(Se,null,Ne(e.opcoes,A=>(w(),K(i,{key:A.valor,"no-caps":"",unelevated:"",dense:"",color:A.valor===e.modelValue?"blue-1":"grey-2","text-color":A.valor===e.modelValue?"blue-10":"grey-8",label:A.rotulo,onClick:n=>t.value=A.valor},null,8,["color","text-color","label","onClick"]))),128))]),_:1},8,["style"])}}}),dg=Object.assign(sE,{__name:"FcBotoesNav"}),lE={class:"row justify-start"},cE={class:"row items-center q-pt-sm q-pl-md"},uE={class:"text-subtitle1"},dE={key:1,class:"text-red-8 q-ml-lg"},mE={class:"q-ml-xs",style:{"vertical-align":"middle"}},fE={style:{display:"flex","align-items":"center"}},pE=we({__name:"FcNovoPeriodo",props:{titulo:{},info:{},nomeCampoDescricao:{},posicionarAcima:{type:Boolean}},emits:["adicionar"],setup(e,{emit:t}){const o=t,a=R(!1),i=R(),r=R(""),A=R(),n=R(),s=R(),l=R("");async function c(){await pt(),i.value&&i.value.input.focus()}function u(p){p&&p.preventDefault(),c()}function d(){r.value||(n.value=void 0,s.value=void 0,l.value="")}function m(){r.value="",A.value&&A.value.resetValidation()}async function g(){if(await pt(),me(n.value)&&me(s.value))if(n.value.valueOf()<=s.value.valueOf()){const p={dataInicial:new Date(n.value.valueOf()),dataFinal:new Date(s.value.valueOf()),descricao:l.value};o("adicionar",p),d(),await c()}else r.value="A data inicial deve ser anterior à data final.";r.value="É obrigatório fornecer as datas inicial e final."}return(p,f)=>{const v=Nt,h=Oa,B=St,b=qt,Q=Fi,y=ri;return w(),H("div",lE,[E(B,{icon:C(zA),label:"Adicionar",color:"blue-1","text-color":"blue-8",outline:"","no-caps":"",ripple:""},{default:U(()=>[E(Q,{modelValue:C(a),"onUpdate:modelValue":f[7]||(f[7]=I=>Tt(a)?a.value=I:null),offset:[e.posicionarAcima?-140:0,e.posicionarAcima?-140:0],onShow:c},{default:U(()=>[E(b,{flat:"",square:"",class:"q-px-md q-py-sm"},{default:U(()=>[q("div",cE,[q("div",uE,le(e.titulo),1),e.info?(w(),K(Ei,{key:0,mensagem:e.info,"q-btn-props":{size:"sm"}},null,8,["mensagem"])):ge("",!0),C(r)?(w(),H("div",dE,[f[8]||(f[8]=Pt("   ",-1)),E(v,{name:C(xs),size:"xs"},null,8,["name"]),q("span",mE,le(C(r)),1)])):ge("",!0),E(h),Vt(E(B,{round:"",flat:"",dense:"",icon:C(ya)},null,8,["icon"]),[[y]])]),E(C(Rs),{ref_key:"formulario",ref:A,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",class:"bg-white q-pt-xs q-pb-lg",onSubmit:f[6]||(f[6]=()=>{})},{default:U(()=>[q("div",fE,[E(Sr,{ref_key:"primeiroInput",ref:i,modelValue:C(n),"onUpdate:modelValue":[f[0]||(f[0]=I=>Tt(n)?n.value=I:null),m],parametros:{tipoEntrada:C(ot).Data,nome:"novo-periodo-data-inicial",rotulo:"Data inicial",obrigatorio:!0},onKeydown:f[1]||(f[1]=Da(ta(I=>a.value=!1,["stop"]),["esc"]))},null,8,["modelValue","parametros"]),E(Sr,{modelValue:C(s),"onUpdate:modelValue":[f[2]||(f[2]=I=>Tt(s)?s.value=I:null),m],parametros:{tipoEntrada:C(ot).Data,nome:"novo-periodo-data-final",rotulo:"Data final",obrigatorio:!0},onKeydown:f[3]||(f[3]=Da(ta(I=>a.value=!1,["stop"]),["esc"]))},null,8,["modelValue","parametros"]),E(Sr,{modelValue:C(l),"onUpdate:modelValue":[f[4]||(f[4]=I=>Tt(l)?l.value=I:null),m],parametros:{tipoEntrada:C(ot).Texto,nome:"novo-periodo-descricao",rotulo:e.nomeCampoDescricao||"Descrição",obrigatorio:!1},onKeydown:[Da(g,["enter"]),Da(u,["tab"]),f[5]||(f[5]=Da(ta(I=>a.value=!1,["stop"]),["esc"]))]},null,8,["modelValue","parametros"]),q("div",null,[E(B,{rounded:"",unelevated:"",icon:C(zA),dense:"","no-caps":"",color:"primary",title:"adicionar",onClick:g},null,8,["icon"])])])]),_:1},512)]),_:1})]),_:1},8,["modelValue","offset"])]),_:1},8,["icon"])])}}}),mg=Object.assign(pE,{__name:"FcNovoPeriodo"}),gE={class:"row items-center q-py-md q-pl-md"},vE={class:"row items-center"},hE={key:0,class:"text-red-8 q-pl-md q-pt-md"},BE={key:1,class:"q-ml-xs",style:{"vertical-align":"middle"}},CE=we({__name:"FcRecortePeriodo",props:{dataInicial:{},dataFinal:{}},emits:["confirmado"],setup(e,{emit:t}){const o=t,a=R(!1),i=R(""),r=R(),A=R(),n=R();function s(){n.value&&n.value.input.focus()}function l(){i.value="",r.value&&r.value.resetValidation()}async function c(){await pt(),me(A.value)?A.value.valueOf()>e.dataInicial.valueOf()&&A.value.valueOf()<e.dataFinal.valueOf()?(o("confirmado",HA(A.value)),A.value=void 0,a.value=!1):i.value="A data de recorte deve estar entre a inicial e a final.":i.value="Data inválida."}return(u,d)=>{const m=lr,g=Oa,p=St,f=Nt,v=qt,h=Fi,B=ri;return w(),K(p,{round:"",flat:"",icon:C(Bf),size:"sm",title:"Recortar período",color:"primary"},{default:U(()=>[E(h,{modelValue:C(a),"onUpdate:modelValue":d[3]||(d[3]=b=>Tt(a)?a.value=b:null),offset:[-30,-185],onShow:s},{default:U(()=>[E(v,{flat:"",square:"",class:"q-px-md",style:{width:"400px"}},{default:U(()=>[q("div",gE,[q("div",null,[E(m,{icon:C(Ju),color:"primary","text-color":"white",square:""},{default:U(()=>[Pt(le(e.dataInicial.toLocaleDateString("pt-BR")),1)]),_:1},8,["icon"]),E(m,{icon:C(Ju),color:"primary","text-color":"white",square:""},{default:U(()=>[Pt(le(e.dataFinal.toLocaleDateString("pt-BR")),1)]),_:1},8,["icon"])]),E(g),Vt(E(p,{round:"",flat:"",dense:"",icon:C(ya),title:"Cancelar"},null,8,["icon"]),[[B]])]),E(C(Rs),{ref_key:"formulario",ref:r,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",class:"column bg-white q-pt-xs q-pb-lg",onSubmit:d[2]||(d[2]=()=>{})},{default:U(()=>[q("div",vE,[E(Sr,{ref_key:"campoData",ref:n,modelValue:C(A),"onUpdate:modelValue":[d[0]||(d[0]=b=>Tt(A)?A.value=b:null),l],tabindex:"0",parametros:{tipoEntrada:C(ot).Data,nome:"data-recorte",rotulo:"Data de recorte",obrigatorio:!0},class:"col",onKeydown:d[1]||(d[1]=Da(ta(b=>a.value=!1,["stop"]),["esc"])),onKeyup:Da(ta(c,["stop","prevent"]),["enter"])},null,8,["modelValue","parametros","onKeyup"]),q("div",null,[E(p,{rounded:"",unelevated:"",icon:C(Ds),dense:"","no-caps":"",color:"primary",title:"confirmar",onClick:c},null,8,["icon"])]),C(i)?(w(),H("div",hE,[d[4]||(d[4]=Pt("   ",-1)),C(i)?(w(),K(f,{key:0,name:C(xs),size:"xs"},null,8,["name"])):ge("",!0),C(i)?(w(),H("span",BE,le(C(i)),1)):ge("",!0)])):ge("",!0)])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["icon"])}}}),Qu=Object.assign(CE,{__name:"FcRecortePeriodo"}),bE=we({__name:"FcBotaoExcluir",props:{desabilitar:{type:Boolean,default:!1},dica:{default:"Excluir"},tamanho:{default:"sm"},cor:{default:"grey-8"},pedirConfirmacao:{type:Boolean,default:!0}},emits:["excluir"],setup(e,{emit:t}){const o=t;function a(){e.pedirConfirmacao||i()}function i(){o("excluir")}return(r,A)=>{const n=St,s=qt,l=Fi,c=ri;return w(),K(n,{round:"",flat:"",icon:C(Us),size:e.tamanho,color:e.cor,title:e.dica,disabled:e.desabilitar,onClick:A[1]||(A[1]=u=>a())},{default:U(()=>[e.pedirConfirmacao?(w(),K(l,{key:0,style:{width:"205px"}},{default:U(()=>[E(s,{class:"q-pa-xs row items-center justify-around"},{default:U(()=>[Vt(E(n,{flat:"",dense:"","no-caps":"",icon:C(ya),label:"Cancelar"},null,8,["icon"]),[[c]]),Vt(E(n,{flat:"",dense:"","no-caps":"",icon:C(Ds),label:"Confirmar",color:"red-8",onClick:A[0]||(A[0]=u=>i())},null,8,["icon"]),[[c]])]),_:1})]),_:1})):ge("",!0)]),_:1},8,["icon","size","color","title","disabled"])}}}),wE=Object.assign(bE,{__name:"FcBotaoExcluir"});var se=(e=>(e[e.Booleano=0]="Booleano",e[e.Inteiro=1]="Inteiro",e[e.Decimal=2]="Decimal",e[e.Moeda=3]="Moeda",e[e.Percentual=4]="Percentual",e[e.Competencia=5]="Competencia",e[e.Data=6]="Data",e[e.Texto=7]="Texto",e[e.Opcoes=8]="Opcoes",e[e.Calculada=9]="Calculada",e))(se||{}),dt=(e=>(e[e.Normal=0]="Normal",e[e.NaoEditavel=1]="NaoEditavel",e[e.Desabilitada=2]="Desabilitada",e[e.Desconsiderada=3]="Desconsiderada",e[e.ValorIncluido=4]="ValorIncluido",e[e.ValorModificado=5]="ValorModificado",e[e.ValorVerificado=6]="ValorVerificado",e[e.ValorElevado=7]="ValorElevado",e[e.ValorLimitado=8]="ValorLimitado",e[e.Atencao=9]="Atencao",e[e.Erro=10]="Erro",e))(dt||{});function FE(){const e=/^\d+$/,t=/^\d+(?:[.,]\d+)?$/,o=/^\d+(?:[.,]\d{3})+(?:[.,]\d+)?$/;function a(l){return Re(l)&&(e.test(l)||t.test(l)||o.test(l))}function i(l){return Re(l)&&/^\d+$/.test(l)}function r(l){try{return new oe(l).dataValida()}catch{return!1}}function A(l){return Re(l)&&/^\d{2}\/\d{2}\/\d{2,4}$/.test(l.trim())&&r(l)}function n(l){return Re(l)&&/^\d{2}\/\d{2,4}$/.test(l.trim())&&r(`01/${l}`)}function s(l,c){return r(l)&&r(c)&&new oe(l).antesDeOuIgualA(c)}return{inputValorNumerico:a,inputNumeroInteiro:i,inputDataLocal:A,inputCompetencia:n,periodo:s}}function Vs(){const e=FE(),t=la();function o(p){return p=p.replace(/\D/g,""),p.length<=2?p:p.length<=4?`${p.slice(0,2)}/${p.slice(2)}`:`${p.slice(0,2)}/${p.slice(2,4)}/${p.slice(4)}`}function a(p){return p=p.replace(/\D/g,""),p.length<=2?p:`${p.slice(0,2)}/${p.slice(2)}`}function i(p,f){const v=("casas"in f?f.casas:void 0)??(f.tipo===se.Moeda?2:0),h=p.startsWith("-");if(p=p.replace(/\D/g,""),!p)return"";v&&(p.length>v?p=`${p.slice(0,p.length-v)}.${p.slice(p.length-v)}`:p=`0.${p.padStart(v,"0")}`);const B=Number(p)*(h?-1:1);return Number.isNaN(B)?p:Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:v,maximumFractionDigits:v,useGrouping:!0}).format(B)}function r(p,f){return f.tipo===se.Data?o(p):f.tipo===se.Competencia?a(p):f.tipo===se.Inteiro?p.replace(/\D/g,""):f.tipo===se.Decimal||f.tipo===se.Percentual||f.tipo===se.Moeda?i(p,f):p??""}function A(p,f){return p?f.tipo===se.Data&&!e.inputDataLocal(p)?"Formato: dd/mm/[aa]aa":f.tipo===se.Competencia&&!e.inputCompetencia(p)?"Formato: mm/[aa]aa":f.tipo===se.Inteiro&&!e.inputNumeroInteiro(p)?"Formato: número inteiro":(f.tipo===se.Decimal||f.tipo===se.Percentual||f.tipo===se.Moeda)&&!e.inputValorNumerico(p)?"Formato: número":"":""}function n(p,f){if(f.tipo===se.Data)return t.data(p,"");if(f.tipo===se.Competencia)return t.competencia(p,"");if(f.tipo===se.Inteiro)return t.inteiro(p,f.placeholder,f.substituirZeroPorPlaceholder);if(f.tipo===se.Decimal||f.tipo===se.Percentual||f.tipo===se.Moeda){const v=f.casas??f.tipo===se.Moeda?2:0;return t.numero(p,v,f.placeholder,f.substituirZeroPorPlaceholder)}return f.tipo===se.Opcoes?t.rotulo(p,f.opcoes,""):f.tipo===se.Booleano?p===!0?"VERDADEIRO":"FALSO":p??""}function s(p,f){return!p||p===("placeholder"in f?f.placeholder:void 0)?("default"in f?f.default:void 0)??void 0:new oe(p).nativo()}function l(p,f){return!p||p===("placeholder"in f?f.placeholder:void 0)?("default"in f?f.default:void 0)??void 0:new oe(`01/${p}`).nativo()}function c(p,f){return!p||p===("placeholder"in f?f.placeholder:void 0)?("default"in f?f.default:void 0)??void 0:f.tipo===se.Percentual?Number(Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:8,maximumFractionDigits:8}).format(de(p)).replace("%","")):de(p)}function u(p,f){if(!p)return("default"in f?f.default:void 0)??void 0;for(let v=0;v<=("opcoes"in f?f.opcoes.length:0);v++){const h="opcoes"in f?f.opcoes[v]:void 0;if(h?.rotulo===p)return h.valor}return("default"in f?f.default:void 0)??void 0}function d(p,f){return p?p==="VERDADEIRO":("default"in f?f.default:void 0)??void 0}function m(p,f){return f.tipo===se.Data?s(p,f):f.tipo===se.Competencia?l(p,f):f.tipo===se.Inteiro||f.tipo===se.Decimal||f.tipo===se.Percentual||f.tipo===se.Moeda?c(p,f):f.tipo===se.Opcoes?u(p,f):f.tipo===se.Booleano?d(p,f):p}function g(p,f){return f.tipo===se.Data?t.data(p,f.placeholder??""):f.tipo===se.Competencia?t.competencia(p,f.placeholder??""):f.tipo===se.Inteiro?t.inteiro(p,f.placeholder??"",f.substituirZeroPorPlaceholder):f.tipo===se.Decimal?t.numero(p,("casas"in f?f.casas:void 0)??0,f.placeholder??"",f.substituirZeroPorPlaceholder):f.tipo===se.Percentual?t.percentual(p,("casas"in f?f.casas:void 0)??0,f.placeholder??"",f.substituirZeroPorPlaceholder):f.tipo===se.Moeda?t.moeda(p,f.placeholder??"-",f.substituirZeroPorPlaceholder):f.tipo===se.Opcoes?t.rotulo(p,f.opcoes??[],""):f.tipo===se.Booleano?p===!0?"VERDADEIRO":"FALSO":p??""}return{mascara:r,validar:A,paraTexto:n,paraValor:m,formatar:g}}const QE=["name","value"],EE=we({__name:"FcPlanilhaInput",props:po({nome:{default:""},coluna:{},modelValue:{},estilosInput:{},mensagemErro:{default:""}},{modelValue:{required:!0},modelModifiers:{}}),emits:po(["blur","cancelar"],["update:modelValue"]),setup(e,{emit:t}){const o=t,a=Ro(e,"modelValue"),{mascara:i}=Vs(),r=R();let A=!1,n=!1;No(()=>{r.value?.focus()});function s(m,g){const p=()=>m.setSelectionRange(g,g);m===document.activeElement&&(p(),setTimeout(p,1))}function l(m){return m.value.length-(m.selectionEnd??0)}const c=Yc(m=>{const g=m.target;if(!g)return;if(n=!1,m.key==="Enter"||m.key==="Tab")n=!0,a.value=g.value;else if(m.key==="Escape"){A=!0,o("cancelar");return}else if(m.key.startsWith("Arrow")||m.key==="Delete"||m.key==="Backspace"){m.stopPropagation();return}m.stopPropagation();const p=l(m.target),f=(g.selectionEnd??0)-(g.selectionStart??0),v=f>0&&f===g.value.length,h=i(g.value,e.coluna);if(g.value=h,v)g.select();else{const B=p>0?g.value.length-p:g.value.length;s(g,B)}},100);function u(m){m.target.select()}function d(m){if(!A){if(n){n=!1;return}const g=m.target;o("blur",g.value)}}return(m,g)=>(w(),H("input",{ref_key:"input",ref:r,name:e.nome,value:a.value,type:"text",class:be(`${m.classes.input} ${e.mensagemErro?m.classes.erro:""}`),style:Ze([e.estilosInput,{padding:"0 8px"}]),autocomplete:"off",spellcheck:"false",onFocus:u,onBlur:d,onKeydown:g[0]||(g[0]=ta((...p)=>C(c)&&C(c)(...p),["self"]))},null,46,QE))}}),yE="_input_1tluy_1",IE="_erro_1tluy_13",UE={input:yE,erro:IE},SE={classes:UE},DE=Object.assign(fa(EE,[["__cssModules",SE]]),{__name:"FcPlanilhaInput"}),xE="_container_1f047_2",PE="_brilho_1f047_99",_E="_editavel_1f047_136",OE="_calculada_1f047_140",RE="_desabilitada_1f047_168",ME="_valorIncluido_1f047_173",LE="_valorModificado_1f047_177",HE="_atencao_1f047_181",TE="_icone_1f047_185",$E="_dadosVerificados_1f047_189",VE="_valorElevado_1f047_201",NE="_valorLimitado_1f047_205",qE="_erro_1f047_209",kE="_desconsiderada_1f047_213",KE="_problema_1f047_238",zE="_naoEditavel_1f047_242",GE="_selecao_1f047_289",jE="_celulaAtiva_1f047_306",WE="_alca_1f047_319",JE="_copiando_1f047_333",wo={container:xE,brilho:PE,editavel:_E,calculada:OE,desabilitada:RE,valorIncluido:ME,valorModificado:LE,atencao:HE,icone:TE,dadosVerificados:$E,valorElevado:VE,valorLimitado:NE,erro:qE,desconsiderada:kE,problema:KE,naoEditavel:zE,selecao:GE,celulaAtiva:jE,alca:WE,copiando:JE,"border-dance":"_border-dance_1f047_1"};function fg(){const e={[se.Texto]:"200px",[se.Inteiro]:"100px",[se.Decimal]:"100px",[se.Percentual]:"100px",[se.Moeda]:"100px",[se.Data]:"100px",[se.Competencia]:"100px",[se.Opcoes]:"100px",[se.Calculada]:"100px",[se.Booleano]:"50px"},t=wo.icone??"",o={[se.Texto]:{textAlign:"left"},[se.Inteiro]:{textAlign:"right"},[se.Decimal]:{textAlign:"right"},[se.Percentual]:{textAlign:"right"},[se.Moeda]:{textAlign:"right"},[se.Data]:{textAlign:"center"},[se.Competencia]:{textAlign:"center"},[se.Booleano]:{textAlign:"center"},[se.Opcoes]:{textAlign:"center"},[se.Calculada]:{textAlign:"center"}},a={[dt.Normal]:"",[dt.NaoEditavel]:wo.naoEditavel,[dt.Desabilitada]:wo.desabilitada,[dt.Desconsiderada]:wo.desconsiderada,[dt.Atencao]:wo.atencao,[dt.ValorIncluido]:wo.valorIncluido,[dt.ValorModificado]:wo.valorModificado,[dt.ValorVerificado]:wo.dadosVerificados,[dt.ValorElevado]:wo.valorElevado,[dt.ValorLimitado]:wo.valorLimitado,[dt.Erro]:wo.problema};function i(u){const d={};return d.userSelect="none",d.width=e[u.tipo],d.maxWidth=e[u.tipo],d.minWidth=e[u.tipo],Object.assign(d,o[u.tipo],u.estilos),u.estilos?.width&&(d.width=u.estilos.width,d.maxWidth=u.estilos.width,d.minWidth=u.estilos.width),d}function r(u,d,m=[],g){return u.reduce((p,f,v)=>{const h=i(f);return v<=d&&v<m.length&&(h.left=`${m[v]}px`,h.zIndex=2),p[f.nome]={...h,...g},p},{})}function A(u,d,m=[]){return u.reduce((g,p,f)=>{const v=i(p);return v.fontWeight="bold",v.textAlign="center",f<=d&&f<m.length&&(v.left=`${m[f]}px`,v.zIndex=3),g[p.nome]=v,g},{})}function n(u){const d=[];return u.tipo===se.Calculada?d.push(wo.calculada??""):u.editavel&&d.push(wo.editavel??""),d.join(" ").trim()}function s(u,d){return u.reduce((m,g,p)=>p<d?(m[g.nome]="",m):(m[g.nome]=n(g),m),{})}function l(u,d){return s(u,d)}function c(u,d){const m=[],g=u.querySelector("thead");if(d<1||!g)return m;const p=g.rows[0],f=Array.from(p.cells),v=f[0].getBoundingClientRect().left;for(let h=1;h<=d;h++){const{left:B,width:b}=f[h-1].getBoundingClientRect();m.push(B+b-v)}return m}return{classesCelulas:a,classeIcone:t,obterEstilosColuna:i,obterClassesColuna:n,obterEstilosColunas:r,obterClassesColunas:s,obterEstilosCabecalhos:A,obterClassesCabecalhos:l,obterPosicoesColunasCongeladas:c}}const XE=we({__name:"FcPlanilhaCelulaEditavel",props:po({celulaAtiva:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:po(["edicaoConcluida"],["update:modelValue"]),setup(e,{emit:t}){const o=t,a=Ro(e,"modelValue"),i=ga(),r=fg(),{paraTexto:A,paraValor:n,validar:s}=Vs(),l=R(""),c=F(()=>e.celulaAtiva&&"placeholder"in e.celulaAtiva.coluna?e.celulaAtiva.coluna.placeholder:""),u=F(()=>{if(!e.celulaAtiva)return"";const Q=A(a.value,e.celulaAtiva.coluna);return Q===c.value?"":Q}),d=F(()=>e.celulaAtiva?e.celulaAtiva.linha.desabilitada===!0||e.celulaAtiva.linha.celulas[e.celulaAtiva.coluna.nome].status===dt.Desabilitada||e.celulaAtiva.linha.celulas[e.celulaAtiva.coluna.nome].status===dt.NaoEditavel:!0),m=F(()=>e.celulaAtiva&&!d.value&&e.celulaAtiva.coluna.editavel&&e.celulaAtiva.coluna.tipo!==se.Booleano&&e.celulaAtiva.coluna.tipo!==se.Opcoes),g=F(()=>({width:`${e.celulaAtiva?.box?.width??0}px`,height:`${e.celulaAtiva?.box?.height??0}px`,top:`${e.celulaAtiva?.box?.top??-1e3}px`,left:`${e.celulaAtiva?.box?.left??-1e3}px`})),p=F(()=>e.celulaAtiva?r.obterEstilosColuna(e.celulaAtiva.coluna):{}),f=F(()=>e.celulaAtiva?r.obterClassesColuna(e.celulaAtiva.coluna):""),v=F(()=>e.celulaAtiva&&Re(e.celulaAtiva.coluna.nome)?e.celulaAtiva.coluna.nome:"");function h(Q){if(l.value="",!!e.celulaAtiva)try{if(l.value=s(u.value,e.celulaAtiva.coluna),!l.value){const y=n(Q,e.celulaAtiva.coluna);a.value=y}}catch(y){i.erro(y),l.value=i.extrairMensagemDeErro(y)}}function B(Q){h(Q),o("edicaoConcluida")}function b(Q){const y=Q.key.toLowerCase();if(!["enter","tab","delete","backspace"].includes(y)){Q.stopPropagation();return}if(y==="enter"||y==="tab"){l.value.length>0&&Q.stopPropagation();return}(y==="delete"||y==="backspace")&&(l.value="",Q.stopPropagation())}return(Q,y)=>{const I=DE;return C(m)?(w(),H("div",{key:0,style:Ze([{position:"absolute"},C(g)]),class:be(`${C(l)?Q.css.erro:C(f)}`)},[E(I,{nome:C(v),coluna:e.celulaAtiva.coluna,"model-value":C(u),style:Ze(C(p)),"estilos-input":{textAlign:C(p).textAlign},"mensagem-erro":C(l),class:be(`${C(l)?"bg-red-1 text-red-10":""}`),"onUpdate:modelValue":y[0]||(y[0]=D=>h(D)),onBlur:y[1]||(y[1]=D=>B(D)),onCancelar:y[2]||(y[2]=D=>o("edicaoConcluida")),onKeydown:ta(b,["self"])},null,8,["nome","coluna","model-value","style","estilos-input","mensagem-erro","class"]),C(l)?(w(),H("div",{key:0,class:be(Q.css.mensagem)},le(C(l)),3)):ge("",!0)],6)):ge("",!0)}}}),YE="_erro_czjtx_2",ZE="_mensagem_czjtx_17",ey={erro:YE,mensagem:ZE},ty={css:ey},oy=Object.assign(fa(XE,[["__cssModules",ty]]),{__name:"FcPlanilhaCelulaEditavel"}),ay=we({__name:"FcPlanilhaExcluirLinha",props:{desabilitar:{type:Boolean,default:!1}},emits:["excluir"],setup(e,{emit:t}){const o=t,a=R(!1);function i(){a.value=!1,o("excluir")}return(r,A)=>{const n=St,s=qt,l=Fi,c=ri;return w(),K(n,{round:"",flat:"",dense:"",icon:C(Us),size:"sm",color:"grey-8",title:"Excluir linha",disabled:e.desabilitar,onClick:A[2]||(A[2]=u=>a.value=!0)},{default:U(()=>[E(l,null,{default:U(()=>[E(s,{class:"q-pa-xs"},{default:U(()=>[Vt(E(n,{flat:"",dense:"","no-caps":"",icon:C(ya),label:"Cancela",onClick:A[0]||(A[0]=u=>a.value=!1)},null,8,["icon"]),[[c]]),Vt(E(n,{flat:"",dense:"","no-caps":"",icon:C(Ds),label:"Confirma",color:"red-8",onClick:A[1]||(A[1]=u=>i())},null,8,["icon"]),[[c]])]),_:1})]),_:1})]),_:1},8,["icon","disabled"])}}}),iy=Object.assign(ay,{__name:"FcPlanilhaExcluirLinha"}),ry=["checked","disabled"],Ay=we({__name:"FcPlanilhaCelulaBooleana",props:po({desabilitar:{type:Boolean,default:!1}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue");function o(r){t.value=r.target.checked}function a(){t.value=!t.value}function i(r){const A=r.key.toLowerCase(),n=r.target;!n||n.tagName.toLowerCase()!=="td"||(A==="f2"||A===" ")&&(r.stopPropagation(),r.preventDefault(),a())}return(r,A)=>(w(),H("td",Wa({tabindex:"0"},r.$attrs,{style:{"line-height":"100%"},onKeydown:i}),[q("input",{type:"checkbox",checked:t.value,disabled:e.desabilitar,onChange:o},null,40,ry)],16))}}),ny=Object.assign(Ay,{__name:"FcPlanilhaCelulaBooleana"}),sy={class:"ellipsis"},ly=["onClick"],cy=we({__name:"FcPlanilhaCelulaOpcoes",props:po({containerId:{default:""},opcoes:{default:()=>[]},desabilitar:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue"),o=R(),a=R(),i=R([]),r=R(!1),A=R(0);Je(()=>t.value,async()=>{await pt(),n()}),No(()=>{window.addEventListener("click",s),n()}),qo(()=>window.removeEventListener("click",s));function n(){const f=e.opcoes.findIndex(v=>v.valor===t.value);f>=0?A.value=f:A.value=0}function s(f){if(!a.value||!o.value)return;const v=f.target,h=v===a.value||a.value.contains(v),B=f.target===o.value||o.value.contains(v);!h&&!B&&d()}function l(){if(o.value&&a.value){const f=i.value.reduce((re,$)=>{const{width:z}=$.firstElementChild.getBoundingClientRect();return Math.max(re,z)},0),v=Math.min(i.value.length,5),{width:h,height:B,top:b,left:Q,right:y}=o.value.getBoundingClientRect(),{width:I,height:D}=document.documentElement.getBoundingClientRect(),O=B*v,S=Math.max(f+50,h);let k=Q;k+S>I&&(k=y-S);let W=b+B;W+O>D&&(W=b-O),a.value.style.height=`${O}px`,a.value.style.minWidth=`${S}px`,a.value.style.maxWidth=`${S}px`,a.value.style.top=`${W}px`,a.value.style.left=`${k}px`,i.value.forEach(re=>{re.style.height=`${B}px`})}}async function c(){await pt();const f=i.value[A.value];f&&(f.scrollIntoView(),await pt(),f.focus())}async function u(){e.desabilitar||(r.value=!r.value,await pt(),r.value&&(l(),await pt(),c()))}function d(){o.value&&o.value.focus(),r.value=!1}function m(f){f<0&&(f=e.opcoes.length-1),f>e.opcoes.length-1&&(f=0),A.value=f,c(),t.value=e.opcoes[A.value].valor,d()}function g(f){const v=f.key.toLowerCase(),h=f.target;!h||h.tagName.toLowerCase()!=="td"||(v==="f2"||v===" ")&&(f.stopPropagation(),u())}function p(f){if(!f.target)return;const h=f.key.toLowerCase();if((h==="escape"||h===" "||h==="f2")&&(f.preventDefault(),n(),d()),h==="tab"||h==="enter"){f.preventDefault(),m(A.value);return}if(h==="arrowdown"){f.preventDefault(),A.value++,A.value>=e.opcoes.length&&(A.value=0),c();return}h==="arrowup"&&(f.preventDefault(),A.value--,A.value<0&&(A.value=e.opcoes.length-1),c())}return(f,v)=>{const h=Nt;return w(),H(Se,null,[q("td",Wa({ref_key:"celula",ref:o,tabindex:"0"},f.$attrs,{onKeydown:g}),[q("div",{class:"row items-center justify-between",onDblclick:u},[q("div",sy,le(Array.isArray(e.opcoes)?e.opcoes[C(A)].rotulo:void 0),1),E(h,{name:C(Ss),tag:"div",size:"sm",color:"grey-8",class:"cursor-pointer",onClick:u},null,8,["name"])],32)],16),C(r)?(w(),K(Lh,{key:0,to:`#${e.containerId}`},[q("div",{ref_key:"opcoesContainer",ref:a,class:be(f.css.dropdown),onBlur:d},[q("ul",null,[(w(!0),H(Se,null,Ne(e.opcoes,(B,b)=>(w(),H("li",{ref_for:!0,ref_key:"opcoesLinhas",ref:i,key:B.valor,tabindex:"1",class:be({placeholder:!B.rotulo}),onClick:ta(Q=>m(b),["prevent"]),onKeydown:ta(p,["self"])},[q("span",null,le(B.rotulo),1)],42,ly))),128))])],34)],8,["to"])):ge("",!0)],64)}}}),uy="_dropdown_wty0j_1",dy="_placeholder_wty0j_61",my={dropdown:uy,placeholder:dy},fy={css:my},py=Object.assign(fa(cy,[["__cssModules",fy]]),{__name:"FcPlanilhaCelulaOpcoes"}),gy=we({__name:"FcPlanilhaMenuContextual",props:po({habilitarDesfazerRefazer:{type:Boolean,default:!1}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:po(["copiar","recortar","colar","desfazer","refazer","copiarComCabecalhos","gerarCsv"],["update:modelValue"]),setup(e,{emit:t}){const o=t,a=Ro(e,"modelValue");return(i,r)=>{const A=Nt,n=ja,s=qt,l=gA,c=ri;return w(),K(l,{modelValue:a.value,"onUpdate:modelValue":r[7]||(r[7]=u=>a.value=u),square:"",class:"bg-grey-2","no-parent-event":""},{default:U(()=>[E(s,{flat:"",square:""},{default:U(()=>[Vt((w(),H("div",{clickable:"",class:be(["q-py-xs q-px-md",i.classes.itemMenu]),onClick:r[0]||(r[0]=u=>o("copiar"))},[E(A,{name:C(Ir)},null,8,["name"]),r[8]||(r[8]=q("span",{class:"text-caption q-ml-sm"}," Copiar ",-1))],2)),[[c]]),Vt((w(),H("div",{clickable:"",class:be(["q-py-xs q-px-md",i.classes.itemMenu]),onClick:r[1]||(r[1]=u=>o("recortar"))},[E(A,{name:C(Bf)},null,8,["name"]),r[9]||(r[9]=q("span",{class:"text-caption q-ml-sm"}," Recortar ",-1))],2)),[[c]]),Vt((w(),H("div",{clickable:"",class:be(["q-py-xs q-px-md",i.classes.itemMenu]),onClick:r[2]||(r[2]=u=>o("colar"))},[E(A,{name:C(Hh)},null,8,["name"]),r[10]||(r[10]=q("span",{class:"text-caption q-ml-sm"}," Colar ",-1))],2)),[[c]]),e.habilitarDesfazerRefazer?(w(),H(Se,{key:0},[E(n),Vt((w(),H("div",{clickable:"",class:be(["q-py-xs q-px-md",i.classes.itemMenu]),onClick:r[3]||(r[3]=u=>o("desfazer"))},[E(A,{name:C(Th)},null,8,["name"]),r[11]||(r[11]=q("span",{class:"text-caption q-ml-sm"}," Desfazer ",-1))],2)),[[c]]),Vt((w(),H("div",{clickable:"",class:be(["q-py-xs q-px-md",i.classes.itemMenu]),onClick:r[4]||(r[4]=u=>o("refazer"))},[E(A,{name:C($h)},null,8,["name"]),r[12]||(r[12]=q("span",{class:"text-caption q-ml-sm"}," Refazer ",-1))],2)),[[c]])],64)):ge("",!0),E(n),Vt((w(),H("div",{clickable:"",class:be(["q-py-xs q-px-md",i.classes.itemMenu]),onClick:r[5]||(r[5]=u=>o("copiarComCabecalhos"))},[E(A,{name:C(Ir)},null,8,["name"]),r[13]||(r[13]=q("span",{class:"text-caption q-ml-sm"}," Copiar com cabeçalhos ",-1))],2)),[[c]]),Vt((w(),H("div",{clickable:"",class:be(["q-py-xs q-px-md",i.classes.itemMenu]),onClick:r[6]||(r[6]=u=>o("gerarCsv"))},[E(A,{name:C(Vh)},null,8,["name"]),r[14]||(r[14]=q("span",{class:"text-caption q-ml-sm"},' Baixar arquivo ".csv" ',-1))],2)),[[c]])]),_:1})]),_:1},8,["modelValue"])}}}),vy="_itemMenu_1unns_1",hy={itemMenu:vy},By={classes:hy},Cy=Object.assign(fa(gy,[["__cssModules",By]]),{__name:"FcPlanilhaMenuContextual"});function by(){const e=Vs();function t(o,a){const i=o.map(A=>A.rotulo).map(A=>Zu(`${A}`)),r=a.filter(A=>!A.desabilitada).map(A=>o.map(n=>{const s=n.nome,l=A.celulas?A.celulas[s].valor:void 0;return Zu(e.formatar(l,n))}).join(";"));return r.unshift(i.join(";")),r.join(`
`)}return{gerar:t}}function rc(e){const t=e.offsetTop,o=e.offsetLeft,a=e.offsetWidth,i=e.offsetHeight;return{top:t,left:o,width:a,height:i}}function wy(e,t,o){return o==="topleft"?`polygon(0% ${e-3}px, 0% 100%, 100% 100%, 100% 0%, ${t-3}px 0%, ${t-3}px ${e-3}px)`:o==="topright"?`polygon(0% 0%, 0% 100%, 100% 100%, 100% ${e-4}px, calc(100% - ${t-4}px) ${e-4}px, calc(100% - ${t-4}px) 0%)`:o==="bottomleft"?`polygon(0% 0%, 0% calc(100% - ${e-5}px), ${t-4}px calc(100% - ${e-5}px), ${t-4}px 100%, 100% 100%, 100% 0%, 0% 0%`:o==="bottomright"?`polygon(0% 0%, 0% 100%, calc(100% - ${t-5}px) 100%, calc(100% - ${t-5}px) calc(100% - ${e-5}px), 100% calc(100% - ${e-5}px), 100% 0%, 0% 0%`:""}function Fy(e,t){const{width:o,height:a,top:i,left:r}=rc(e);if(e.isSameNode(t))return{width:o,height:a,top:i,left:r,mask:{width:o,height:a,position:"topleft"}};const{width:A,height:n,top:s,left:l}=rc(t);return i<=s&&r<=l?{top:i,left:r,width:l+A-r,height:s+n-i,mask:{width:o,height:a,position:"topleft"}}:i<=s&&r>l?{top:i,left:l,width:r+o-l,height:s+n-i,mask:{width:o,height:a,position:"topright"}}:i>s&&r<=l?{top:s,left:r,width:l+A-r,height:i+a-s,mask:{width:o,height:a,position:"bottomleft"}}:{top:s,left:l,width:r+o-l,height:i+a-s,mask:{width:o,height:a,position:"bottomright"}}}function Qy(e){const t=document.createElement("div");t.classList.add(wo.selecao??"");const o=document.createElement("div");o.classList.add(wo.celulaAtiva??""),t.appendChild(o);const a=document.createElement("div");return a.classList.add(wo.alca??""),a.draggable=!0,t.appendChild(a),e.appendChild(t),{caixa:t,mascara:o,alca:a}}function EA(e){let t=e.target;if(!t||t.tagName==="TD")return t;let o=0;for(;o<4;){if(!t||t.tagName==="TD")return t;t=t.parentElement,o++}return null}function jo(e){if(!e?.parentElement||e.parentElement.tagName!=="TR")return;const t=e.cellIndex,o=e.parentElement.rowIndex;return{col:t,lin:o}}function Ey({container:e,habilitarAlcaDeArrasto:t,callbackAlcaDeArrasto:o}){ga().info("Executando useSelecao");let i;const r=()=>i?i.querySelector("tr td:first-of-type"):null,A=()=>i?i.querySelector("tr:last-of-type td:last-of-type"):null;function n(){const J=r(),ue=A();if(!J||!ue)return;const Ee=jo(J),_e=jo(ue);if(!(!Ee||!_e))return[Ee,_e]}const s=()=>{const J=n();if(!J||!i)return 0;const[ue,Ee]=J,_e=Ee.col-ue.col+1;return i.rows[0].cells.length-1-_e},l=R(),c=R(),u=R([]);let d,m,g;const p=new Image;let f=!1;No(async()=>{if(await pt(),e.value&&(i=e.value.querySelector("tbody"),i)){const J=Qy(e.value);d=J.caixa,m=J.mascara,g=J.alca,t||(g.style.display="none"),Dt(),r()?D():I()}});function v(J){const ue=s(),Ee=r();if(!Ee)return;const _e=jo(Ee);if(_e)return{col:J.col-_e.col+ue,lin:J.lin-_e.lin}}function h(J){const ue=s(),Ee=r();if(!Ee)return;const _e=jo(Ee);if(_e)return{col:J.col+_e.col-ue,lin:J.lin+_e.lin}}function B(J){if(!i)return null;const ue=i.parentElement;if(!ue||ue.tagName!=="TABLE"||!ue.rows.length||!ue.rows.item(0)?.cells.length)return null;const{col:Ee,lin:_e}=J;return i.parentElement.rows.item(_e)?.cells.item(Ee)||null}function b(){d.style.display="none",m.style.display="none",g.style.display="none"}function Q(){d.style.display="block",m.style.display="block",t&&(g.style.display="block")}function y(){if(!l.value||!c.value||!d||!m)return;const J=-1,ue=0,Ee=2,_e=1;if(l.value.isSameNode(c.value)){const{top:Ie,left:Xe,width:Qt,height:_t}=rc(l.value);d.style.top=`${Ie+J}px`,d.style.left=`${Xe+ue}px`,d.style.width=`${Qt+Ee}px`,d.style.height=`${_t+_e}px`,m.style.height="0px",m.style.width="0px";return}const{top:rt,left:Ye,width:at,height:At,mask:Ae}=Fy(l.value,c.value);d.style.top=`${rt+J}px`,d.style.left=`${Ye+ue}px`,d.style.width=`${at+Ee}px`,d.style.height=`${At+_e}px`,m.style.height=`${At-8}px`,m.style.width=`${at-7}px`,m.style.clipPath=wy(l.value?.offsetHeight||0,l.value?.offsetWidth||0,Ae.position)}function I(){b()}function D(J){if(J=J||r()||void 0,J){const ue=jo(J);ue&&(l.value=J,c.value=J,u.value=[ue,ue],J.focus(),y(),Q())}}function O(J){c.value=J,u.value[1]=jo(J),y(),Q()}function S(J){const ue=z();if(!ue)return;const Ee=n();if(!Ee)return;const[_e,rt]=Ee,Ye=Math.max(Math.min(rt.lin,ue.lin+J),_e.lin),at=B({lin:Ye,col:ue.col});at&&D(at),Ye===_e.lin?e.value?.scrollTo({top:0}):Ye===rt.lin&&e.value?.scrollBy(0,100)}function k(J){const ue=z();if(!ue)return;const Ee=n();if(!Ee)return;const[_e,rt]=Ee,Ye=Math.max(Math.min(rt.col,ue.col+J),_e.col),at=B({lin:ue.lin,col:Ye});at&&D(at),Ye===_e.col?e.value?.scrollTo({left:0}):Ye===rt.col&&e.value?.scrollBy(100,0)}function W(J,ue){const Ee=c.value||EA(J);if(!Ee)return;const _e=jo(Ee);if(!_e)return;const rt=n();if(!rt)return;const[Ye,at]=rt,At=Math.max(Math.min(at.lin,_e.lin+ue),Ye.lin),Ae=B({lin:At,col:_e.col});Ae&&(Ae.focus(),c.value=Ae,u.value[1]=jo(Ae),y())}function re(J,ue){const Ee=c.value||EA(J);if(!Ee)return;const _e=jo(Ee);if(!_e)return;const rt=n();if(!rt)return;const[Ye,at]=rt,At=Math.max(Math.min(at.col,_e.col+ue),Ye.col),Ae=B({lin:_e.lin,col:At});Ae&&(Ae.focus(),c.value=Ae,u.value[1]=jo(Ae),y())}function $(){return!u.value||u.value.length===0?[]:[{col:Math.min(u.value[0].col,u.value[1].col),lin:Math.min(u.value[0].lin,u.value[1].lin)},{col:Math.max(u.value[0].col,u.value[1].col),lin:Math.max(u.value[0].lin,u.value[1].lin)}]}function z(){if(!(!u.value||u.value.length===0||!u.value[0]))return u.value[0]}function N(){if(!(!u.value||u.value.length===0))return u.value[1]}function x(J){const ue=$();if(ue.length===0)return;const Ee=jo(J);return Ee?Ee.col<=ue[1].col&&Ee.col>=ue[0].col&&Ee.lin<=ue[1].lin&&Ee.lin>=ue[0].lin:!1}function M(J,ue){const Ee=B(J),_e=B(ue);Ee&&D(Ee),_e&&O(_e)}function X(J){const ue=jo(J);if(!ue)return;const Ee=n();if(!Ee)return;const[_e,rt]=Ee,{col:Ye}=ue;if(Ye<_e.col||Ye>rt.col)return;const at=B({lin:_e.lin,col:Ye}),At=B({lin:rt.lin,col:Ye});at&&At&&(D(at),c.value=At,u.value=[{lin:_e.lin,col:Ye},{lin:rt.lin,col:Ye}],y())}function ae(J){const ue=jo(J);if(!ue)return;const Ee=n();if(!Ee)return;const[_e,rt]=Ee,{lin:Ye}=ue;if(Ye<_e.lin||Ye>rt.lin)return;const at=B({lin:Ye,col:_e.col}),At=B({lin:Ye,col:rt.col});at&&At&&(D(at),c.value=At,u.value=[{lin:Ye,col:_e.col},{lin:Ye,col:rt.col}],y())}function L(){const J=r(),ue=A();if(J&&ue){D(J),c.value=ue;const Ee=jo(J),_e=jo(ue);Ee&&_e&&(u.value=[Ee,_e],y())}}function j(J){!l.value||!c.value||(J.dataTransfer.effectAllowed="move",J.dataTransfer.setDragImage(p,0,0),l.value.isSameNode(c.value)||(l.value=c.value,y()),f=!0)}function te(J){if(!f||!l.value||!c.value)return;J.preventDefault(),J.dataTransfer&&(J.dataTransfer.dropEffect="move");const ue=EA(J);if(ue){if(ue.isSameNode(c.value))return;const Ee=jo(ue);if(Ee){const _e=n();if(!_e)return;const[rt,Ye]=_e,at=B({lin:Math.min(Ye.lin,Ee.lin),col:l.value.cellIndex});at&&(c.value=at,u.value[1]=jo(at),y())}}}function Fe(J){J.preventDefault(),f=!1,Po(o)&&o(J)}function he(J=2e3){d&&(d.classList.add(wo.copiando??""),setTimeout(()=>{d.classList.remove(wo.copiando??"")},J))}const ve={ArrowUp:J=>{const ue=J.ctrlKey?Number.NEGATIVE_INFINITY:-1;return J.shiftKey?W(J,ue):S(ue)},ArrowDown:J=>{const ue=J.ctrlKey?Number.POSITIVE_INFINITY:1;return J.shiftKey?W(J,ue):S(ue)},ArrowRight:J=>{const ue=J.ctrlKey?Number.POSITIVE_INFINITY:1;return J.shiftKey?re(J,ue):k(ue)},ArrowLeft:J=>{const ue=J.ctrlKey?Number.NEGATIVE_INFINITY:-1;return J.shiftKey?re(J,ue):k(ue)},PageUp:J=>J.shiftKey?W(J,-20):S(-20),PageDown:J=>J.shiftKey?W(J,20):S(20),Home:J=>J.shiftKey?W(J,Number.NEGATIVE_INFINITY):S(Number.NEGATIVE_INFINITY),End:J=>J.shiftKey?W(J,Number.POSITIVE_INFINITY):S(Number.POSITIVE_INFINITY),Tab:J=>ve.ArrowRight(J),Enter:J=>ve.ArrowDown(J)};function Ce(J,ue,Ee=!1){const _e=n();if(!_e)return;const[rt,Ye]=_e,at=Math.max(Math.min(Ye.lin,J),rt.lin),At=Math.max(Math.min(Ye.col,ue),rt.col),Ae=B({lin:at,col:At});if(Ae&&(D(Ae),at===rt.lin?e.value?.scrollTo({top:0}):at===Ye.lin&&e.value?.scrollBy(0,100),At===rt.col?e.value?.scrollTo({left:0}):At===Ye.col&&e.value?.scrollBy(100,0),Ee)){const Ie=Ae.parentElement;Ie&&(Ie.classList.add(wo.brilho??""),setTimeout(()=>{Ie.classList.remove(wo.brilho??"")},1e3))}}function Te(J){if(f||!e.value||!i)return;const ue=J.key;ve[ue]&&(J.preventDefault(),ve[ue](J))}function fe(J){const ue=EA(J),Ee=r();!ue||!Ee||ue.cellIndex<Ee.cellIndex||J.buttons===2&&x(ue)||l.value&&ue.isSameNode(l.value)||D(ue)}function Ke(J){if(J.buttons!==1)return;const ue=EA(J),Ee=r();ue&&Ee&&ue.cellIndex>=Ee.cellIndex&&O(ue)}function Lt(J){f||!e.value||!i||((J.type==="click"||J.type==="mousedown")&&fe(J),J.type==="mouseover"&&Ke(J))}function Gt(J){if(J.buttons!==1)return;const ue=J.currentTarget,{height:Ee,width:_e,top:rt,left:Ye}=ue.getBoundingClientRect();let at=0;J.clientX>=_e+Ye-150?at=50:J.clientX<=Ye+80&&(at=-50);let At=0;J.clientY>=Ee+rt-80?At=50:J.clientY<=rt+50&&(At=-30),ue.scrollBy(at,At)}function Dt(){e.value&&Ui(e.value,"mouseover",Gt),i&&(Ui(i,"dragover",te),Ui(i,"dragenter",te),Ui(i,"drop",Fe)),g&&t&&(Ui(g,"dragstart",j),Ui(g,"dragend",Fe),Ui(g,"dragover",te),Ui(g,"dragenter",te),Ui(g,"dblclick",Po(o)?o:()=>{}))}return{celulaAtiva:l,celulaOposta:c,areaSelecionada:u,obterCelula:B,desativar:I,ativarCelula:D,selecionarArea:M,redefinirCaixaSelecao:y,obterPACelulaAtiva:z,obterPACelulaOposta:N,obterSelecaoOrdenada:$,converterPosicaoAR:v,converterPosicaoRA:h,selecionarColuna:X,selecionarLinha:ae,selecionarTudo:L,dispararEfeitoCopia:he,plugarMouse:Lt,plugarTeclado:Te,navegarPara:Ce}}function TA(e,t){return{tipo:mt.Texto,parametros:{texto:e,...t}}}function yy(e){return TA(e,{texto:e,classes:"col-auto",classesTexto:"text-orange-10 text-bold bg-orange-1 q-pa-md rounded-borders",estilosTexto:{fontSize:"0.8rem",border:"1px solid #e24f18"}})}function Iy(e){return TA(e,{texto:e,classes:"col-auto",classesTexto:"text-blue-10 text-bold bg-blue-1 q-pa-md rounded-borders",estilosTexto:{fontSize:"0.8rem",border:"1px solid #1b479f"}})}function Eu(){const e=Zt();return Ia(`${e.nome}-processo-store`,()=>{const o=R(""),a=R(""),i=R(""),r=R(),A=R(),n=R(),s=R(),l=F(()=>me(A.value)&&me(r.value)&&na(A.value,r.value)),c={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:o,atualizar:W=>o.value=W,parametros:{tipoEntrada:ot.Texto,nome:"nome-calculo",rotulo:"Nome do Cálculo",obrigatorio:!1,classes:"col-xs-12 col-sm-6 col-md-4 col-lg-4"}}},u={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:a,atualizar:W=>a.value=W,parametros:{tipoEntrada:ot.NumeroProcesso,nome:"numero-processo",rotulo:"Processo",obrigatorio:!1,classes:"col-xs-12 col-sm-6 col-md-4 col-lg-4"}}},d={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:i,atualizar:W=>i.value=W,parametros:{tipoEntrada:ot.Texto,nome:"nome-autor",rotulo:"Autor",obrigatorio:!1,classes:"col-xs-12 col-sm-6 col-md-4 col-lg-4"}}},m=F(()=>({tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:r,atualizar:W=>r.value=W,parametros:{tipoEntrada:ot.Data,nome:"protocolo",rotulo:"Protocolo",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}})),g=F(()=>({tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:A,atualizar:W=>A.value=W,parametros:{tipoEntrada:ot.Data,nome:"citacao",rotulo:"Citação",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}})),p=yy("Atenção. A data de citação é anterior à data de protocolo."),f={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:r,atualizar:W=>r.value=W,parametros:{tipoEntrada:ot.Data,nome:"protocolo",rotulo:"Protocolo",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},v={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:A,atualizar:W=>A.value=W,parametros:{tipoEntrada:ot.Data,nome:"citacao",rotulo:"Citação",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},h={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:n,atualizar:W=>n.value=W,parametros:{tipoEntrada:ot.Data,nome:"transito",rotulo:"Trânsito em Julgado",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},B={tipo:mt.Campo,campo:{tipo:bt.Entrada,ref:s,atualizar:W=>s.value=W,parametros:{tipoEntrada:ot.Moeda,nome:"valor-da-causa",rotulo:"Valor da Causa",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}}},b=F(()=>({titulo:"Dados de Identificação",secoes:[{titulo:"Identificação do Cálculo e do Processo",cor:`bg-${e.tema.corPrimaria}-9 text-white`,temaEscuro:!0,linhas:[[c,u,d],[m.value,g.value,h,B],...l.value?[[p]]:[]]}]})),Q={titulo:"Dados de Identificação",secoes:[{titulo:"Identificação do Cálculo e do Processo",cor:`bg-${e.tema.corPrimaria}-9 text-white`,temaEscuro:!0,linhas:[[u,f,v],...l.value?[[p]]:[],[d,c]]}]};function y(){return{nomeCalculo:xo(o.value),numero:xo(a.value),autor:xo(i.value),protocolo:xo(r.value),citacao:xo(A.value),transito:xo(n.value),valorDaCausa:xo(s.value)}}function I(W){o.value=W?.nomeCalculo??"",a.value=W?.numero??"",i.value=W?.autor??"",r.value=W?.protocolo,A.value=W?.citacao,n.value=W?.transito,s.value=W?.valorDaCausa}function D(W){return Re(W)&&W.length>0}function O(){return D(o.value)||D(a.value)||D(i.value)||me(r.value)||me(A.value)||me(n.value)||ie(s.value)}function S(){I()}function k(){return y()}return{nomeCalculo:o,numero:a,autor:i,protocolo:r,citacao:A,transito:n,valorDaCausa:s,esquemaFormulario:b,esquemaFormularioSimples:Q,obterDadosParaArmazenamento:y,atualizarDados:I,temDadosCarregados:O,reiniciar:S,serializar:k}},{persist:{omit:["esquemaFormulario","esquemaFormularioSimples"],serializer:{deserialize:o=>JSON.parse(o,ko),serialize:JSON.stringify}}})()}function cr(){const e=ga(),t=`
      <div style="border-style: solid; border-width: 1px; margin: 8px; padding: 4px 8px; border-radius: 4px;">
        <small>
          <div style="margin-left: 4px;">
            <strong>Instruções gerais para solução de problemas</strong>:
          </div>
          <div style="margin-left: 8px;">
            <div>
            - Recarregue a página (F5 ou Ctrl-F5) e tente de novo.
            <br>
            - Acesse os tutoriais pelo menu no canto superior direito.
            <br>
            - Informe o problema pelo formulário online acessível no menu do canto superior direito ou pelo e-mail informado no rodapé.
          </div>
        </small>
      </div>
    `;function o(A,n,s=!0){n=`${n??"Houve uma falha"}${s?t:""}`,Qr.create({title:A||"Erro",class:"text-red-10",message:n,ok:{label:"Fechar",flat:!0,color:"red-10",noCaps:!0},html:!0})}function a(A,n){Qr.create({title:A||"Aviso",message:n||"-",ok:{label:"OK",flat:!0,color:"blue-8",noCaps:!0},html:!0})}function i(A,n,s,l){return new Promise(c=>{A=A||"Confirmação",n=n||"Deseja prosseguir",s=s||"Confirmar",l=l||"Cancelar";try{Qr.create({title:A,message:n,ok:{label:s,flat:!0,color:"blue-8",noCaps:!0,class:"q-ma-sm"},cancel:{label:l,flat:!0,color:"red-10",noCaps:!0,class:"q-ma-sm"},html:!0}).onOk(()=>c(!0)).onCancel(()=>c(!1)).onDismiss(()=>c(!1))}catch(u){e.erro(u),c(!1)}})}function r(A,n,s){return new Promise(l=>{try{Qr.create({title:A,message:n,options:s,cancel:{label:"Cancelar",flat:!0,color:"red-10",noCaps:!0,class:"q-ma-sm"},persistent:!0,html:!0}).onOk(c=>l(c)).onCancel(()=>l(!1)).onDismiss(()=>l(!1))}catch(c){e.erro(c),l([])}})}return{confirmacao:i,aviso:a,erro:o,opcoes:r}}function Uy(e){const{$q:t}=Lc();function o(l){return typeof l=="string"?l:l instanceof Error||l&&typeof l=="object"&&"message"in l&&typeof l.message=="string"?l.message:"Ocorreu um erro desconhecido."}function a(l,c){t.notify({message:l,...e,...c})}function i(l,c){const u=o(l);a(u,{...e,...c,type:"negative"})}function r(l,c){a(l,{...e,...c,type:"positive"})}function A(l,c){a(l,{...e,...c,type:"warning"})}function n(l,c){a(l,{...e,...c,type:"info"})}function s(l,c){a(l,{...e,...c,type:"ongoing"})}return{erro:i,sucesso:r,alerta:A,info:n,emAndamento:s}}function yu(e=[]){const t=ga(),o=Zt(),a=Eu(),{confirmacao:i}=cr(),r=Uy({position:"top-right",timeout:300}),A=new OB(e),n=o.nome.replace("@cecalc/","").replace("@fc/","").replace("prev-",""),s=n.charAt(0).toUpperCase()+n.slice(1);function l(d,m,g){Pp(m,d,g)}function c(d){const m=JSON.stringify(d),g=(a.nomeCalculo||a.numero||a.autor||"nao_identificado").replace(/[\s.-]/g,"_");l(m,`${s}_${g}.calc`,"application/json")}async function u(d,m=!0){const g=await d.text(),p=JSON.parse(g,ko);if(t.console.log(p),!p.calculo||!p.versao||!p.timestamp||!p.dados)return r.erro("Arquivo inválido"),!1;const f=p.calculo.replace("@cecalc/","").replace("@fc/","").replace("prev-","");if(n!==f)return r.erro(`Você está tentando abrir um arquivo de ${f.toUpperCase()} em um aplicativo de ${n.toUpperCase()}`),!1;if(m&&!await i("Atenção","O carregamento do arquivo apagará todos os dados atuais. Confirma?","Confirmar","Cancelar"))return!1;let v,h="desconhecida";try{v=A.migrar(p),h=p.versao}catch(B){return r.erro(B),t.erro(B),!1}if(!v)return r.erro("Arquivo inválido"),!1;try{return r.sucesso(`Arquivo carregado com sucesso (versão ${h})`),v}catch(B){return r.erro("Arquivo inválido"),t.erro(B),!1}}return{exportar:l,salvar:c,abrir:u}}function Sy(){const e=ga();let t=[],o=-1;function a(s,l){e.console.log("Iniciando registro"),e.console.log(t),e.console.log(o),s(),o<t.length-1&&(t=t.slice(0,o+1)),t.push({acaoDesfazer:l,acaoFazer:s}),o++,e.console.log("registro concluído"),e.console.log(t),e.console.log(o)}function i(){return t.length&&o>=0}function r(){return t.length&&o<t.length-1}function A(){if(e.console.log("desfazendo"),!i())return;e.console.log(t),e.console.log(o);const s=t[o].acaoDesfazer;s(),o--}function n(){if(e.console.log("refazendo"),!r())return;e.console.log(t),e.console.log(o),o++;const s=t[o].acaoFazer;s()}return{registrarAcao:a,desfazer:A,refazer:n}}const Dy={style:{display:"flex","flex-direction":"column","align-items":"safe center"}},xy=["id"],Py={style:{display:"flex","flex-direction":"row","align-items":"center"}},_y={style:{"min-width":"20px"},class:"q-mr-sm"},Oy={key:1,style:{width:"24px"}},Ry={key:3,style:{width:"24px"}},My=["title"],Ly={key:0},Hy=["colspan"],Ty=we({__name:"FcPlanilha",props:{colunas:{default:()=>[]},linhas:{default:()=>[]},altura:{default:"100%"},congelarColunas:{default:0},nomeArquivoCsv:{default:"planilha"},habilitarBusca:{type:Boolean,default:!1},rotuloBusca:{default:""},callbackBusca:{type:Function},classesBusca:{default:"bg-grey-3"},habilitarNovaLinha:{type:Boolean,default:!1},habilitarRemoverTudo:{type:Boolean},confirmarRemoverTudo:{type:Boolean,default:!0},habilitarAlcaDeArrasto:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!0},teclaDelRemoveLinha:{type:Boolean,default:!1},textoPlanilhaVazia:{default:"Nenhum dado disponível."},permitirDesabilitarLinhas:{type:Boolean,default:!1},permitirExcluirLinhas:{type:Boolean,default:!1},dica:{}},emits:["adicionarLinha","adicionarLinhas","atualizarCelula","atualizarSelecao","click","dblclick","desabilitarLinha","desabilitarLinhas","novaLinha","removerCelula","removerLinha","removerLinhas","removerSelecao","removerTudo","repetir"],setup(e,{expose:t,emit:o}){const a=o,i=R(null),r=R(null),A=Nh(),n=R(!1),s=R(),{obterEstilosCabecalhos:l,obterClassesCabecalhos:c,obterEstilosColunas:u,obterClassesColunas:d,obterPosicoesColunasCongeladas:m,classesCelulas:g,classeIcone:p}=fg(),{formatar:f,paraValor:v}=Vs(),h=R([]),B=F(()=>l(e.colunas,e.congelarColunas,h.value)),b=F(()=>c(e.colunas,e.congelarColunas)),Q=F(()=>d(e.colunas,e.congelarColunas)),y=F(()=>u(e.colunas,e.congelarColunas,h.value)),I=R("100%");No(async()=>{r.value&&(await pt(),h.value=m(r.value,e.congelarColunas),I.value=r.value.offsetWidth>0?`${r.value.offsetWidth+20}px`:I.value)});const{celulaAtiva:D,obterCelula:O,desativar:S,ativarCelula:k,selecionarArea:W,redefinirCaixaSelecao:re,obterPACelulaAtiva:$,obterPACelulaOposta:z,obterSelecaoOrdenada:N,converterPosicaoAR:x,converterPosicaoRA:M,selecionarColuna:X,selecionarLinha:ae,selecionarTudo:L,dispararEfeitoCopia:j,plugarMouse:te,plugarTeclado:Fe,navegarPara:he}=Ey({container:i,habilitarAlcaDeArrasto:e.habilitarAlcaDeArrasto,callbackAlcaDeArrasto:De}),{copy:ve,copied:Ce,isSupported:Te}=qh({read:!0,source:"",copiedDuring:1500,legacy:!0}),{exportar:fe}=yu(),{confirmacao:Ke,aviso:Lt}=cr(),Gt=Sy();Je(()=>e.linhas.length,async Y=>{await pt(),Y!==void 0&&(Y===0?S():D.value?re():k())});const Dt=R(),J=R(!1),ue=R("");function Ee(){Lt("Operação não permitida",`A operação não pode ser realizada. O uso da área de transferência foi bloqueado pelo seu navegador.
Habilite a funcionalidade e tente de novo.`)}function _e(){return Ke("Confirmação","Os dados que você está tentando colar não são do mesmo tamanho de sua seleção. Deseja colar mesmo assim?")}function rt(){D.value&&k(D.value)}function Ye(){r.value&&(I.value=r.value.offsetWidth>0?`${r.value.offsetWidth+20}px`:I.value),rt()}async function at(){if(J.value=!1,!D.value)return;await pt(),re();const Y=$();if(!Y)return;const Z=Ae(Y);if(!Z)return;const{col:Be,lin:ye}=x(Y),{linha:He,coluna:Ve}=Z;if(!Ve.editavel||Ve.tipo===se.Booleano||Ve.tipo===se.Opcoes)return;const We=D.value.offsetTop,gt=D.value.offsetLeft,It=D.value.offsetWidth,Ht=D.value.offsetHeight,Wt=g[He.celulas[Ve.nome].status],ro=y.value[Ve.nome];Dt.value={indiceLinha:ye,indiceColuna:Be,linha:He,coluna:Ve,classes:Wt,estilos:ro,box:{width:It,height:Ht,top:We,left:gt}},J.value=!0}async function At(){Dt.value=void 0,J.value=!1,D.value&&D.value.focus(),await pt(),re()}function Ae(Y){const Z=x(Y);if(!Z)return;const{lin:Be,col:ye}=Z;if(!e.linhas[Be]||!e.colunas[ye])return;const He=e.linhas[Be],{id:Ve}=He,We=e.colunas[ye];return{id:Ve,linha:He,coluna:We}}function Ie(Y,Z=!1){const Be=Ae(Y);if(!Be)return;const{linha:ye,coluna:He}=Be,Ve=ye.celulas?ye.celulas[He.nome].valor:void 0;return Z?f(Ve,He):Ve}function Xe(Y,Z){if(!e.colunas[Y]||!e.colunas[Z])return Array.from({length:Math.max(Y,Z)-Math.min(Y,Z)+1}).fill("");const Be=[];for(let ye=Math.min(Y,Z);ye<=Math.max(Y,Z);ye++)Be.push(e.colunas[ye].rotulo);return Be}function Qt(Y,Z=!1){const Be=[],[ye,He]=Y;for(let Ve=ye.lin;Ve<=He.lin;Ve++){const We=[];for(let gt=ye.col;gt<=He.col;gt++)We.push(Ie({col:gt,lin:Ve},Z)||void 0);Be.push(We)}return Be}function _t(Y=!1,Z=!1){const Be=N();if(Array.isArray(Be)&&Be.length){const ye=Qt(Be,Z);if(Y){const[He,Ve]=Be,We=x(He),gt=x(Ve);if(We&&gt){const It=Xe(We.col,gt.col);ye.unshift(It)}}return ye}return[]}async function Bt(){let Y=await navigator.clipboard.readText();return Y=Y.replace(/\r/g,"").trim(),!Y||!Y.split(`
`).length?[]:Y.split(`
`).map(Z=>Z.trim().split("	").map(ye=>ye.trim()))}function Ct(Y,Z){if(!Z)return;const{indiceLinha:Be,indiceColuna:ye}=Z,{id:He}=e.linhas[Be],Ve=e.colunas[ye];if(!Ve.editavel)return;const We=Ve.nome,gt=M({col:ye,lin:Be});if(!gt)return;const It=Ie(gt);if(It===Y){At();return}const Ht=async()=>{a("atualizarCelula",{id:He,novoValor:Y,nomeColuna:We})},Wt=async()=>{a("atualizarCelula",{id:He,novoValor:It,nomeColuna:We}),await pt();const ro=O(gt);ro&&k(ro)};Gt.registrarAcao(Ht,Wt),At()}function go(Y){const[Z,Be]=Y,[ye,He]=[x(Z),x(Be)];if(!ye||!He)return;const Ve=kl(He.lin-ye.lin+1).map(ro=>e.linhas[ro+ye.lin]),We=Ve.map(({id:ro})=>ro),gt=Ve.map(({id:ro,celulas:fo})=>{const kt=Object.keys(fo).reduce((Bo,Me)=>{const{valor:_}=fo[Me];return Bo[Me]=_,Bo},{});return{id:ro,valores:kt}}),It=kl(He.col-ye.col+1).map(ro=>e.colunas[ro+ye.col].nome),Ht=()=>{a("removerLinhas",{ids:We,nomesColunasAlvo:It}),W(Z,Be)},Wt=()=>{a("adicionarLinhas",gt),W(Z,Be)};Gt.registrarAcao(Ht,Wt)}function mo(){const Y=N();if(Y&&Y.length&&Y[0]?.lin!==Y[1]?.lin)return go(Y);const Z=$();if(!Z)return;const Be=x(Z);if(!Be)return;const{lin:ye,col:He}=Be,{id:Ve,celulas:We}=e.linhas[ye],It=e.colunas[He].nome;if(!We)return;const Ht=Object.keys(We).reduce((fo,kt)=>{const{valor:Bo}=We[kt];return fo[kt]=Bo,fo},{}),Wt=async()=>{a("removerLinha",{id:Ve,nomeColunaAlvo:It}),await pt();const fo=O(Z);fo&&k(fo)},ro=async()=>{a("adicionarLinha",{id:Ve,valores:Ht}),await pt();const fo=O(Z);fo&&k(fo)};Gt.registrarAcao(Wt,ro)}function Qo(Y){const Z=x(Y);if(!Z)return;const{lin:Be,col:ye}=Z,{id:He}=e.linhas[Be],Ve=e.colunas[ye];if(!Ve.deletavel||!Ve.editavel)return;const We=Ve.nome,gt=Ie(Y),It=async()=>{if(Ve.tipo===se.Opcoes||Ve.tipo===se.Booleano){const ro=Ve.default;a("atualizarCelula",{id:He,novoValor:ro,nomeColuna:We})}else a("removerCelula",{id:He,nomeColuna:We});await pt();const Wt=O(Y);Wt&&k(Wt)},Ht=async()=>{a("atualizarCelula",{id:He,novoValor:gt,nomeColuna:We}),await pt();const Wt=O(Y);Wt&&k(Wt)};Gt.registrarAcao(It,Ht)}function Ko(Y,Z,Be=!1){const ye=Qt(Z),[He,Ve]=Z,[We,gt]=[x(He),x(Ve)];if(!We||!gt)return;const It=[],Ht=[],Wt=[];for(let kt=We.col;kt<=gt.col;kt++){const Bo=e.colunas[kt];if(Bo.editavel){It.push(Bo.nome);for(let Me=We.lin;Me<=gt.lin;Me++){const{id:_}=e.linhas[Me],ne={},Ue={},ct=Y[Me-We.lin][kt-We.col],Jt=ye[Me-We.lin][kt-We.col];ne[Bo.nome]=Be?v(ct,Bo):ct,Ue[Bo.nome]=Jt,Ht.push({id:_,novosValores:ne}),Wt.push({id:_,novosValores:Ue})}}}const ro=()=>{a("atualizarSelecao",Ht),W(He,Ve)},fo=()=>{a("atualizarSelecao",Wt),W(He,Ve)};Gt.registrarAcao(ro,fo)}function pe(Y){const Z=Qt(Y),[Be,ye]=Y,[He,Ve]=[x(Be),x(ye)];if(!He||!Ve)return;const We=[],gt=[],It=[],Ht=[];for(let fo=He.col;fo<=Ve.col;fo++){const kt=e.colunas[fo];if(kt.editavel&&kt.deletavel){We.push(kt.nome);for(let Bo=He.lin;Bo<=Ve.lin;Bo++){const{id:Me}=e.linhas[Bo],_={};if(_[kt.nome]=Z[Bo-He.lin][fo-He.col],Ht.push({id:Me,novosValores:_}),kt.tipo===se.Opcoes||kt.tipo===se.Booleano){const ne={};ne[kt.nome]=kt.default,It.push({id:Me,novosValores:ne})}else gt.push(Me)}}}const Wt=()=>{It.length&&a("atualizarSelecao",It),a("removerSelecao",{ids:gt,nomesColunas:We}),W(Be,ye)},ro=()=>{a("atualizarSelecao",Ht),W(Be,ye)};Gt.registrarAcao(Wt,ro)}async function qe(Y=!1){if(!Te)return Ee();const Be=_t(Y,!0).map(ye=>ye.join("	")).join(`
`);await ve(Be),Ce.value&&j()}function ft(){qe(!0)}async function Ot(){if(!Te)return Ee();await qe(),Ce.value&&zo()}async function eo(){if(!Te)return Ee();const Y=N();if(Array.isArray(Y)&&Y[0]&&Y[1]){const Z=await Bt();if(!Z.length)return;const[Be,ye]=Y,He=ye.lin-Be.lin+1,Ve=ye.col-Be.col+1;if(Z.length!==He||Z[0].length!==Ve){if((He>1||Ve>1)&&!await _e())return;ye.lin=Be.lin+Z.length-1,ye.col=Be.col+Z[0].length-1}Ko(Z,[Be,ye],!0)}}function zo(){const Y=N(),[Z,Be]=Y;Z&&Be&&(Z.lin===Be.lin&&Z.col===Be.col?Qo(Z):pe([Z,Be]))}function va(Y,Z){const[Be,ye]=Z,[He,Ve]=[x(Be),x(ye)];if(!He||!Ve)return;const We=Qt(Z),gt=e.colunas[He.col],It=gt.nome;if(!gt.editavel)return;const Ht=[],Wt=[];for(let kt=He.lin;kt<=Ve.lin;kt++){const{id:Bo}=e.linhas[kt];Wt.push(Bo);const Me=We[kt-He.lin][He.col];Ht.push({id:Bo,novosValores:{[It]:Me}})}const ro=()=>{a("repetir",{ids:Wt,valor:Y,nomeColuna:It}),W(Be,ye)},fo=()=>{a("atualizarSelecao",Ht),W(Be,ye)};Gt.registrarAcao(ro,fo)}function si(Y){const{col:Z,lin:Be}=Y,ye=e.linhas.length-1;if(Be===ye)return{lin:Be,col:Z};const Ve=e.colunas[Z].nome;let We=Be;for(let gt=Be+1;gt<=ye;gt++){const It=e.linhas[gt];if(It.desabilitada||!It.celulas)break;const Ht=It.celulas[Ve].valor;if(Ht!=null&&Ht!=="")break;We=gt}return{lin:We,col:Z}}function hA(){if(!e.habilitarAlcaDeArrasto)return;const Y=$();if(!Y)return;const Z=Ie(Y);if(!Z)return;const Be=z();if(!Be||Be.lin===Y.lin)return;const ye=[{lin:Math.min(Y.lin+1,Be.lin),col:Y.col},{lin:Math.max(Y.lin+1,Be.lin),col:Y.col}];va(Z,ye)}function BA(){if(!e.habilitarAlcaDeArrasto)return;const Y=$();if(!Y)return;const Z=Ie(Y);if(!Z)return;const Be=x(Y);if(!Be)return;const ye=si(Be),He=M(ye);if(!He)return;const Ve=[{lin:Math.min(Y.lin+1,He.lin),col:Y.col},{lin:Math.max(Y.lin+1,He.lin),col:Y.col}];va(Z,Ve)}function Ti(){e.habilitarDesfazerRefazer&&Gt.refazer()}function ur(){e.habilitarDesfazerRefazer&&Gt.desfazer()}function ee(){const Z=by().gerar(e.colunas,e.linhas),Be=`${e.nomeArquivoCsv||"dados"}.csv`;fe(Z,Be,"text/csv")}function De(Y){Y.type==="drop"&&hA(),Y.type==="dblclick"&&BA()}function je(Y){const Z=Y.key;return Z==="Escape"?(Y.stopPropagation(),At(),!0):Z==="Delete"||Z==="Backspace"?(Y.stopPropagation(),e.teclaDelRemoveLinha?mo():zo(),!0):!1}function Ge(Y,Z){if(!Z)return;const ye={c:qe,C:qe,v:eo,V:eo,x:Ot,X:Ot,y:Ti,Y:Ti,z:ur,Z:ur}[Y];ye&&ye()}function nt(Y){const Z=Y.key,Be=Y.ctrlKey,ye=/^[\dA-Z]$/i.test(Z);je(Y)||(Ge(Z,Be),!Be&&(ye||Z==="F2")&&D.value&&at(),Fe(Y))}function to(Y){if(Y.type==="contextmenu"){Y.preventDefault(),s.value=Y.target||void 0,n.value=!0,te(Y);return}if(Y.type==="click"){te(Y);const Z=$();if(Z){const Be=Ae(Z);if(!Be)return;const{id:ye,linha:He,coluna:Ve}=Be,We=Ve.nome;a("click",{id:ye,linha:He,nomeColuna:We}),re()}return}if(Y.type==="dblclick"){te(Y),at();const Z=$();if(Z){const Be=Ae(Z);if(!Be)return;const{id:ye,linha:He,coluna:Ve}=Be,We=Ve.nome;a("dblclick",{id:ye,linha:He,nomeColuna:We})}}}function jt(Y){if((!Y||!Y.linha||!Y.coluna)&&(!e.callbackBusca||(Y=e.callbackBusca(ue.value),!Y)))return;const{linha:Z,coluna:Be,aplicarEfeito:ye}=Y;he(Z,Be,ye),ue.value=""}return t({gerarArquivoCsv:ee,irPara:jt}),(Y,Z)=>{const Be=Nt,ye=hf,He=St,Ve=Ei,We=Oa,gt=wE,It=Ra,Ht=oy,Wt=rr,ro=iy,fo=ny,kt=py,Bo=Cy;return w(),H("div",Dy,[q("div",{style:Ze({width:C(I),maxWidth:C(I)})},[e.habilitarBusca||e.habilitarNovaLinha||e.habilitarRemoverTudo?(w(),K(It,{key:0,class:be(["q-mb-sm rounded-borders",e.classesBusca]),style:Ze([{overflow:"hidden"},{width:C(I),maxWidth:C(I)}])},{default:U(()=>[e.habilitarBusca?(w(),K(ye,{key:0,modelValue:C(ue),"onUpdate:modelValue":Z[0]||(Z[0]=Me=>Tt(ue)?ue.value=Me:null),label:e.rotuloBusca,dense:"","stack-label":"",clearable:"",outlined:"","clear-icon":"mdiClose"in Y?Y.mdiClose:C(ya),class:"q-mr-md",mask:"##/####",style:{width:"150px"},onKeyup:Da(jt,["enter"])},{append:U(()=>[E(Be,{name:"mdiMagnify"in Y?Y.mdiMagnify:C(kh),class:"cursor-pointer",onClick:jt},null,8,["name"])]),_:1},8,["modelValue","label","clear-icon"])):ge("",!0),e.habilitarNovaLinha?(w(),K(He,{key:1,"no-caps":"",outline:"",label:"Adicionar",icon:"mdiPlus"in Y?Y.mdiPlus:C(zA),color:"blue-1","text-color":"blue-8",ripple:"",onClick:Z[1]||(Z[1]=Me=>a("novaLinha"))},null,8,["icon"])):ge("",!0),yt(Y.$slots,"acoes-planilha"),e.dica?(w(),K(Ve,iu(Wa({key:2},e.dica)),null,16)):ge("",!0),E(We),e.habilitarRemoverTudo?(w(),K(gt,{key:3,tamanho:"md",title:"Remover tudo","pedir-confirmacao":e.confirmarRemoverTudo,onExcluir:Z[2]||(Z[2]=Me=>a("removerTudo"))},null,8,["pedir-confirmacao"])):ge("",!0)]),_:3},8,["class","style"])):ge("",!0),q("div",{id:C(A),style:{overflow:"visible",display:"flex","justify-content":"center"}},[q("div",{ref_key:"container",ref:i,class:be(C(wo).container),style:Ze({height:e.altura})},[C(J)&&C(Dt)?(w(),K(Ht,{key:0,"model-value":C(Dt).linha.celulas[C(Dt).coluna.nome].valor,"celula-ativa":C(J)&&C(Dt),"container-id":C(A),"onUpdate:modelValue":Z[3]||(Z[3]=Me=>Ct(Me,C(Dt))),onEdicaoConcluida:At,onKeydown:nt},null,8,["model-value","celula-ativa","container-id"])):ge("",!0),q("table",{ref_key:"tabela",ref:r},[q("thead",null,[q("tr",null,[E(Wt,{onResize:Ye}),q("th",{onClick:Z[4]||(Z[4]=ta((...Me)=>C(L)&&C(L)(...Me),["self"]))},[yt(Y.$slots,"acoes-canto-superior")]),(w(!0),H(Se,null,Ne(e.colunas,Me=>(w(),H("th",{key:`cab-${Me.nome}`,style:Ze(C(B)[Me.nome]),class:be(C(b)[Me.nome]),onClick:Z[5]||(Z[5]=ta(_=>C(X)(_.target),["self"]))},le(Me.rotulo),7))),128))])]),q("tbody",{onMousedown:Z[8]||(Z[8]=(...Me)=>C(te)&&C(te)(...Me)),onClick:to,onDblclick:to,onMouseover:Z[9]||(Z[9]=(...Me)=>C(te)&&C(te)(...Me)),onContextmenu:to,onKeydown:nt},[(w(!0),H(Se,null,Ne(e.linhas,(Me,_)=>(w(),H("tr",{key:`lin-${_}`,class:be(Me.desabilitada?C(wo).desabilitada:"")},[q("th",{onClick:Z[6]||(Z[6]=ta(ne=>C(ae)(ne.target),["self"]))},[q("div",Py,[q("div",_y,le(_+1),1),e.permitirExcluirLinhas&&Me.podeExcluir?(w(),K(ro,{key:0,onExcluir:ne=>a("removerLinha",{id:Me.id,nomeColunaAlvo:void 0})},null,8,["onExcluir"])):e.permitirExcluirLinhas?(w(),H("div",Oy,"   ")):ge("",!0),e.permitirDesabilitarLinhas&&Me.podeDesabilitar?(w(),H(Se,{key:2},[Me.desabilitada?(w(),K(He,{key:0,round:"",flat:"",dense:"",icon:"mdiRefresh"in Y?Y.mdiRefresh:C(Cf),size:"sm",title:"Restabelecer linha",onClick:ne=>a("desabilitarLinha",{id:Me.id,status:!1})},null,8,["icon","onClick"])):(w(),K(He,{key:1,round:"",flat:"",dense:"",icon:"mdiCloseThick"in Y?Y.mdiCloseThick:C(ru),size:"sm",color:"red-8",title:"Desabilitar linha",onClick:ne=>a("desabilitarLinha",{id:Me.id,status:!0})},null,8,["icon","onClick"]))],64)):e.permitirDesabilitarLinhas?(w(),H("div",Ry,"   ")):ge("",!0),yt(Y.$slots,"acoes-primeira-coluna",{linha:Me,indexLinha:_,selecionarLinha:C(ae)})])]),(w(!0),H(Se,null,Ne(e.colunas,(ne,Ue)=>(w(),H(Se,{key:`cel-${_}-${Ue}`},[Ue<e.congelarColunas?(w(),H("th",{key:0,tabindex:"0",style:Ze(C(y)[ne.nome]),class:be(`${C(Q)[ne.nome]} ${C(g)[Me.celulas[ne.nome].status]} ${Me.celulas[ne.nome].icone?C(p):""}`)},le(C(f)(Me.celulas[ne.nome].valor,ne)),7)):(w(),H(Se,{key:1},[ne.tipo===C(se).Booleano?(w(),K(fo,{key:0,tabindex:"0",style:Ze(C(y)[ne.nome]),class:be(`${C(Q)[ne.nome]} ${C(g)[Me.celulas[ne.nome].status]}`),"model-value":Me.celulas[ne.nome].valor,title:Me.celulas[ne.nome].dica,desabilitar:!ne.editavel||Me.desabilitada===!0||Me.celulas[ne.nome].status===C(dt).Desabilitada||Me.celulas[ne.nome].status===C(dt).NaoEditavel,"onUpdate:modelValue":ct=>Ct(ct,{indiceLinha:_,indiceColuna:Ue})},null,8,["style","class","model-value","title","desabilitar","onUpdate:modelValue"])):ne.tipo===C(se).Opcoes?(w(),K(kt,{key:1,"container-id":C(A),style:Ze([{"line-height":"100%"},C(y)[ne.nome]]),class:be(`${C(Q)[ne.nome]} ${C(g)[Me.celulas[ne.nome].status]}`),"model-value":Me.celulas[ne.nome].valor,opcoes:ne.opcoes,title:Me.celulas[ne.nome].dica,desabilitar:!ne.editavel||Me.desabilitada===!0||Me.celulas[ne.nome].status===C(dt).Desabilitada||Me.celulas[ne.nome].status===C(dt).NaoEditavel,"onUpdate:modelValue":ct=>Ct(ct,{indiceLinha:_,indiceColuna:Ue})},null,8,["container-id","style","class","model-value","opcoes","title","desabilitar","onUpdate:modelValue"])):(w(),H("td",{key:2,tabindex:"0",class:be(["ellipsis",`${C(Q)[ne.nome]} ${C(g)[Me.celulas[ne.nome].status]} ${Me.celulas[ne.nome].icone?C(p):""}`]),style:Ze([{"line-height":"100%"},C(y)[ne.nome]]),title:Me.celulas[ne.nome].dica},le(C(f)(Me.celulas[ne.nome].valor,ne)),15,My))],64))],64))),128))],2))),128)),E(Bo,{modelValue:C(n),"onUpdate:modelValue":Z[7]||(Z[7]=Me=>Tt(n)?n.value=Me:null),"habilitar-desfazer-refazer":e.habilitarDesfazerRefazer,target:C(s),offset:[-30,10],onCopiar:qe,onRecortar:Ot,onColar:eo,onDesfazer:ur,onRefazer:Ti,onCopiarComCabecalhos:ft,onGerarCsv:ee},null,8,["modelValue","habilitar-desfazer-refazer","target"])],32),q("tfoot",null,[yt(Y.$slots,"tfoot"),e.linhas.length?ge("",!0):(w(),H("tr",Ly,[Z[10]||(Z[10]=q("th",null," ",-1)),q("td",{colspan:e.colunas.length},le(e.textoPlanilhaVazia),9,Hy)]))])],512)],6)],8,xy)],4)])}}}),Iu=Object.assign(Ty,{__name:"FcPlanilha"}),Vd=[{nome:"dataInicial",rotulo:"Início",tipo:se.Data,editavel:!0,deletavel:!1,placeholder:""},{nome:"dataFinal",rotulo:"Término",tipo:se.Data,editavel:!0,deletavel:!1,placeholder:""},{nome:"descricao",rotulo:"Descrição",tipo:se.Texto,editavel:!0,deletavel:!0,default:"",placeholder:"",estilos:{width:"350px"}},{nome:"formaContagem",rotulo:"Enquadramento",tipo:se.Opcoes,editavel:!0,deletavel:!0,default:Qe.Comum,opcoes:Qe.obterOpcoes(),estilos:{width:"200px"}},{nome:"prioritario",rotulo:"Prioritário",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"70px"}},{nome:"cargoAtual",rotulo:"Cargo Atual",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"85px"}},{nome:"carreira",rotulo:"Carreira",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"75px"}},{nome:"servicoPublico",rotulo:"Serviço Público",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"100px"}},{nome:"rgps",rotulo:"RGPS",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"70px"}},{nome:"idCtc",rotulo:"Nº CTC ",tipo:se.Texto,editavel:!0,deletavel:!0,default:"",placeholder:"",estilos:{width:"170px"}},{nome:"metodoCalculoDias",rotulo:"Método de Cálculo",tipo:se.Texto,editavel:!1,deletavel:!1,default:io.obterRotulo(io.DataData),placeholder:"",estilos:{width:"120px"}},{nome:"observacao",rotulo:"Observação",tipo:se.Texto,editavel:!0,deletavel:!0,default:"",placeholder:"",estilos:{width:"200px"}},{nome:"concomitancia",rotulo:"Concomitância",tipo:se.Calculada,editavel:!1,deletavel:!1,estilos:{width:"100px"}}];function $y(e){const t=e.map((o,a)=>{const i=o.id,r=o.excluido,A=!0,n=!0,s=Vd.reduce((l,c)=>{const u=c.nome,d="default"in c?c.default:void 0;let m;u==="concomitancia"?m=Hs.temConcomitancia(a,e)?"SIM":"":u==="metodoCalculoDias"?m=io.obterRotulo(o.metodoCalculoDias):m=o[u]??d;let g=dt.Normal;return o.formaContagem===Qe.NaoComputar?g=dt.Desconsiderada:(c.nome==="cargoAtual"||c.nome==="carreira")&&o.rgps?g=dt.NaoEditavel:(c.nome==="formaContagem"&&o.formaContagem!==Qe.Comum||c.nome==="rgps"&&o.rgps===!0||c.nome==="metodoCalculoDias"&&o.rgps===!0)&&(g=dt.ValorModificado),c.nome==="concomitancia"&&m==="SIM"&&(g=dt.Erro),l[u]={valor:m,status:g},l},{});return{id:i,desabilitada:r,podeDesabilitar:A,podeExcluir:n,celulas:s}});return{colunas:Vd,linhas:t}}function Ns(){const e=Zt();return Ia(`${e.nome}-periodos-contribuicao-rpps-store`,()=>{const o=new sF,a=R({}),i=R([]),r=R({});function A(){a.value=o.serializar(),i.value=o.lista(),r.value=o.competenciasComVinculo(T.jul94)}function n(b){const Q=o.adicionar(b);return A(),Q}function s(b){const Q=o.adicionarMultiplos(b);return A(),Q}function l(b,Q){o.atualizar(b,Q),A()}function c(b){o.atualizarMultiplos(b),A()}function u(b){o.remover(b),A()}function d(){o.removerTudo(),A()}function m(b){return o.obterPorId(b)}function g(b,Q){l(b,{excluido:Q})}function p(b,Q){o.recortar(b,Q),A()}function f(b){return o.temVinculoEm(b)}function v(){return!pA(a.value)}function h(){d()}function B(){return JSON.parse(JSON.stringify(o.serializar()))}return{lista:i,registros:a,competenciasComVinculo:r,atualizar:l,atualizarMultiplos:c,adicionar:n,adicionarMultiplos:s,remover:u,removerTudo:d,obterPorId:m,alterarStatusExcluido:g,recortar:p,temVinculoEm:f,temDadosCarregados:v,reiniciar:h,serializar:B,gerarDadosPlanilha:$y}},{persist:{pick:["registros"],afterHydrate(o){o.store.adicionarMultiplos(o.store.registros)},serializer:{deserialize:o=>JSON.parse(o,ko),serialize:JSON.stringify}}})()}const Vy=we({__name:"RppsPeriodoContribuicao",props:{altura:{default:"auto"}},setup(e){const t=R(),o=ga(),a=Ns(),i=F(()=>a.gerarDadosPlanilha(a.lista));function r(f,v,h){const B=a.obterPorId(f);if(B){if(h===void 0){v==="idCtc"&&a.atualizar(f,{[v]:void 0});return}if(!(v==="dataInicial"&&h.valueOf()>B.dataFinal.valueOf())&&!(v==="dataFinal"&&h.valueOf()<B.dataInicial.valueOf())&&!(v==="computavelDesde"&&h.valueOf()>B.dataInicial.valueOf()&&h.valueOf()<B.dataFinal.valueOf()))try{a.atualizar(f,{[v]:h})}catch(b){o.erro(b)}}}function A({id:f,novoValor:v,nomeColuna:h}){r(f,h,v)}function n(f){for(const v of f){const{id:h,novosValores:B}=v;for(const[b,Q]of Object.entries(B))r(h,b,Q)}}function s({id:f,nomeColuna:v}){(v==="descricao"||v==="observacao")&&r(f,v,""),(v==="fatorConversaoModificado"||v==="computavelDesde")&&r(f,v,void 0)}function l({id:f}){a.remover(f)}function c({ids:f,nomesColunas:v}){for(const h of f)for(const B of v)s({id:h,nomeColuna:B})}function u({id:f,status:v}){a.alterarStatusExcluido(f,v)}async function d(){a.removerTudo()}function m(f,v){a.recortar(f,v)}async function g({dataInicial:f,dataFinal:v,descricao:h}){const B=a.adicionar({dataInicial:f,dataFinal:v,descricao:h,contarCarencia:!0,formaContagem:Qe.Comum,grauDeficiencia:ke.SemDeficiencia,motivoContagem:xa.NaoDefinido,observacao:"",prioritario:!1,excluido:!1,carreira:!1,cargoAtual:!1,servicoPublico:!0,metodoCalculoDias:io.DataData,rgps:!1});p(B)}async function p(f){await pt();const v=a.lista.findIndex(h=>h.id===f);v>=0&&t.value&&t.value.irPara({linha:v+1,coluna:1,aplicarEfeito:!0})}return(f,v)=>{const h=mg,B=Qu;return w(),K(Iu,{ref_key:"planilha",ref:t,generic:"PeriodoRppsPropsPlus",colunas:C(i).colunas,linhas:C(i).linhas,altura:e.altura,"congelar-colunas":0,"nome-arquivo-csv":"PeriodosContribuicao","habilitar-busca":!1,"habilitar-nova-linha":!1,"habilitar-remover-tudo":!0,"habilitar-alca-de-arrasto":!0,"habilitar-desfazer-refazer":!0,"tecla-del-remove-linha":!1,"texto-planilha-vazia":"Nenhum período encontrado","permitir-desabilitar-linhas":!0,"permitir-excluir-linhas":!0,onAtualizarCelula:A,onAtualizarSelecao:n,onRemoverCelula:s,onRemoverLinha:l,onDesabilitarLinha:u,onRemoverSelecao:c,onRemoverTudo:d},{"acoes-planilha":U(()=>[E(h,{titulo:"Adicionar Período de Contribuição","posicionar-acima":!0,onAdicionar:g})]),"acoes-primeira-coluna":U(({linha:b})=>[E(B,{titulo:"Recortar período","data-inicial":b.celulas.dataInicial.valor,"data-final":b.celulas.dataFinal.valor,onConfirmado:Q=>m(b.id,Q)},null,8,["data-inicial","data-final","onConfirmado"])]),_:1},8,["colunas","linhas","altura"])}}}),Ny=Object.assign(Vy,{__name:"RppsPeriodoContribuicao"}),qy={class:"row justify-start"},ky={class:"row items-center q-pt-sm q-pl-md"},Ky={class:"text-subtitle1"},zy={key:1,class:"text-red-8 q-ml-lg"},Gy={class:"q-ml-xs",style:{"vertical-align":"middle"}},jy={style:{display:"flex","align-items":"center"}},Wy=we({__name:"RppsNovoAfastamento",props:{titulo:{},info:{},posicionarAcima:{type:Boolean}},emits:["adicionar"],setup(e,{emit:t}){const o=t,a=R(!1),i=R(),r=R(""),A=R(),n=R(),s=R(),l=R(void 0);async function c(){await pt(),i.value&&i.value.input.focus()}function u(p){p&&p.preventDefault(),c()}function d(){r.value||(n.value=void 0,s.value=void 0,l.value=void 0)}function m(){r.value="",A.value&&A.value.resetValidation()}async function g(){if(await pt(),me(n.value)&&me(s.value))if(n.value.valueOf()<=s.value.valueOf()){const p={dataInicial:new Date(n.value.valueOf()),dataFinal:new Date(s.value.valueOf()),tipo:l.value??Le.Outros};o("adicionar",p),d(),await c()}else r.value="A data inicial deve ser anterior à data final.";r.value="É obrigatório fornecer as datas inicial e final."}return(p,f)=>{const v=Nt,h=Oa,B=St,b=lg,Q=qt,y=Fi,I=ri;return w(),H("div",qy,[E(B,{icon:C(zA),label:"Adicionar",color:"blue-1","text-color":"blue-8",outline:"","no-caps":"",ripple:""},{default:U(()=>[E(y,{modelValue:C(a),"onUpdate:modelValue":f[7]||(f[7]=D=>Tt(a)?a.value=D:null),offset:[e.posicionarAcima?-140:0,e.posicionarAcima?-140:0],onShow:c},{default:U(()=>[E(Q,{flat:"",square:"",class:"q-px-md q-py-sm"},{default:U(()=>[q("div",ky,[q("div",Ky,le(e.titulo),1),e.info?(w(),K(Ei,{key:0,mensagem:e.info,"q-btn-props":{size:"sm"}},null,8,["mensagem"])):ge("",!0),C(r)?(w(),H("div",zy,[f[8]||(f[8]=Pt("   ",-1)),E(v,{name:C(xs),size:"xs"},null,8,["name"]),q("span",Gy,le(C(r)),1)])):ge("",!0),E(h),Vt(E(B,{round:"",flat:"",dense:"",icon:C(ya)},null,8,["icon"]),[[I]])]),E(C(Rs),{ref_key:"formulario",ref:A,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",class:"bg-white q-pt-xs q-pb-lg",onSubmit:f[6]||(f[6]=()=>{})},{default:U(()=>[q("div",jy,[E(Sr,{ref_key:"primeiroInput",ref:i,modelValue:C(n),"onUpdate:modelValue":[f[0]||(f[0]=D=>Tt(n)?n.value=D:null),m],parametros:{tipoEntrada:C(ot).Data,nome:"novo-periodo-data-inicial",rotulo:"Data inicial",obrigatorio:!0},onKeydown:f[1]||(f[1]=Da(ta(D=>a.value=!1,["stop"]),["esc"]))},null,8,["modelValue","parametros"]),E(Sr,{modelValue:C(s),"onUpdate:modelValue":[f[2]||(f[2]=D=>Tt(s)?s.value=D:null),m],parametros:{tipoEntrada:C(ot).Data,nome:"novo-periodo-data-final",rotulo:"Data final",obrigatorio:!0},onKeydown:f[3]||(f[3]=Da(ta(D=>a.value=!1,["stop"]),["esc"]))},null,8,["modelValue","parametros"]),E(b,{modelValue:C(l),"onUpdate:modelValue":[f[4]||(f[4]=D=>Tt(l)?l.value=D:null),m],parametros:{nome:"novo-periodo-tipo",rotulo:"Tipo de Afastamento",obrigatorio:!0,opcoes:C(Le).obterOpcoes(),estilos:{minWidth:"450px"}},onKeydown:[Da(g,["enter"]),Da(u,["tab"]),f[5]||(f[5]=Da(ta(D=>a.value=!1,["stop"]),["esc"]))]},null,8,["modelValue","parametros"]),q("div",null,[E(B,{rounded:"",unelevated:"",icon:C(zA),dense:"","no-caps":"",color:"primary",title:"adicionar",onClick:g},null,8,["icon"])])])]),_:1},512)]),_:1})]),_:1},8,["modelValue","offset"])]),_:1},8,["icon"])])}}}),Jy=Object.assign(Wy,{__name:"RppsNovoAfastamento"}),Nd=[{nome:"dataInicial",rotulo:"Início",tipo:se.Data,editavel:!0,deletavel:!1,placeholder:""},{nome:"dataFinal",rotulo:"Término",tipo:se.Data,editavel:!0,deletavel:!1,placeholder:""},{nome:"tipo",rotulo:"Tipo de Afastamento",tipo:se.Opcoes,opcoes:Le.obterOpcoes(),editavel:!0,deletavel:!1,default:"",estilos:{width:"350px"}},{nome:"recolheuContribuicao",rotulo:"Recolheu Contribuição",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"150px"}},{nome:"cargoAtual",rotulo:"Cargo Atual",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"85px"}},{nome:"carreira",rotulo:"Carreira",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"75px"}},{nome:"servicoPublico",rotulo:"Serviço Público",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"150px"}},{nome:"paraAposentadoria",rotulo:"Para Aposentadoria",tipo:se.Booleano,editavel:!0,deletavel:!0,default:!1,estilos:{width:"125px"}},{nome:"observacao",rotulo:"Observação",tipo:se.Texto,editavel:!0,deletavel:!0,default:"",placeholder:"",estilos:{width:"250px"}},{nome:"concomitancia",rotulo:"Concomitância",tipo:se.Calculada,editavel:!1,deletavel:!1,estilos:{width:"100px"}}];function Xy(e){const{tipo:t,dataInicial:o}=e;return t===Le.DoencaPessoaDaFamilia?!!bo(o,T.lei8112):t===Le.DesempenhoMandatoClassista?!bo(o,T.mp1522):ag.includes(e.tipo)}function Yy(e){const t=e.map((o,a)=>{const i=o.id,r=o.excluido,A=!0,n=!0,s=Nd.reduce((l,c)=>{const u=c.nome,d="default"in c?c.default:void 0;let m;u==="concomitancia"?m=ig.temConcomitancia(a,e)?"SIM":"":m=o[u]??d;let g=dt.Normal;const p=o.tipo===Le.Outros,v=["cargoAtual","carreira","paraAposentadoria","servicoPublico"].includes(u),h=!p&&v,B=Xy(o);return(h||u==="recolheuContribuicao"&&!B&&!p)&&(g=dt.Desabilitada),p&&v&&m===!1&&(g=dt.ValorModificado),c.nome==="concomitancia"&&m==="SIM"&&(g=dt.Erro),l[u]={valor:m,status:g},l},{});return{id:i,desabilitada:r,podeDesabilitar:A,podeExcluir:n,celulas:s}});return{colunas:Nd,linhas:t}}function qs(){const e=Zt();return Ia(`${e.nome}-afastamentos-rpps-store`,()=>{const o=new ig,a=R({}),i=R([]);function r(){a.value=o.serializar(),i.value=o.lista()}function A(h){const B=o.adicionar(h);return r(),B}function n(h){const B=o.adicionarMultiplos(h);return r(),B}function s(h,B){o.atualizar(h,B),r()}function l(h){o.atualizarMultiplos(h),r()}function c(h){o.remover(h),r()}function u(){o.removerTudo(),r()}function d(h){return o.obterPorId(h)}function m(h,B){s(h,{excluido:B})}function g(h,B){o.recortar(h,B),r()}function p(){return!pA(a.value)}function f(){u()}function v(){return JSON.parse(JSON.stringify(o.serializar()))}return{lista:i,registros:a,atualizar:s,atualizarMultiplos:l,adicionar:A,adicionarMultiplos:n,remover:c,removerTudo:u,obterPorId:d,alterarStatusExcluido:m,recortar:g,temDadosCarregados:p,reiniciar:f,serializar:v,gerarDadosPlanilha:Yy}},{persist:{pick:["registros"],afterHydrate(o){o.store.adicionarMultiplos(o.store.registros)},serializer:{deserialize:o=>JSON.parse(o,ko),serialize:JSON.stringify}}})()}const Zy=we({__name:"RppsAfastamentos",props:{altura:{default:"auto"}},setup(e){const t=R(),o=ga(),a=qs(),i=F(()=>a.gerarDadosPlanilha(a.lista));function r(f,v,h){const B=a.obterPorId(f);if(B&&h!==void 0&&!(v==="dataInicial"&&h.valueOf()>B.dataFinal.valueOf())&&!(v==="dataFinal"&&h.valueOf()<B.dataInicial.valueOf()))try{a.atualizar(f,{[v]:h})}catch(b){o.erro(b)}}function A({id:f,novoValor:v,nomeColuna:h}){r(f,h,v)}function n(f){for(const v of f){const{id:h,novosValores:B}=v;for(const[b,Q]of Object.entries(B))r(h,b,Q)}}function s({id:f,nomeColuna:v}){v==="observacao"&&r(f,v,"")}function l({id:f}){a.remover(f)}function c({ids:f,nomesColunas:v}){for(const h of f)for(const B of v)s({id:h,nomeColuna:B})}function u({id:f,status:v}){a.alterarStatusExcluido(f,v)}async function d(){a.removerTudo()}function m(f,v){a.recortar(f,v)}async function g({dataInicial:f,dataFinal:v,tipo:h}){const{servicoPublico:B,carreira:b,cargoAtual:Q,paraAposentadoria:y}=og(h),I=a.adicionar({dataInicial:f,dataFinal:v,tipo:h,observacao:"",excluido:!1,carreira:b,cargoAtual:Q,servicoPublico:B,paraAposentadoria:y});p(I)}async function p(f){await pt();const v=a.lista.findIndex(h=>h.id===f);v>=0&&t.value&&t.value.irPara({linha:v+1,coluna:1,aplicarEfeito:!0})}return(f,v)=>{const h=Jy,B=Qu;return w(),K(Iu,{ref_key:"planilha",ref:t,generic:"AfastamentoPropsPlus",colunas:C(i).colunas,linhas:C(i).linhas,altura:e.altura,"congelar-colunas":0,"nome-arquivo-csv":"Afastamentos","habilitar-busca":!1,"habilitar-nova-linha":!1,"habilitar-remover-tudo":!0,"habilitar-alca-de-arrasto":!0,"habilitar-desfazer-refazer":!0,"tecla-del-remove-linha":!1,"texto-planilha-vazia":"Nenhum período encontrado","permitir-desabilitar-linhas":!0,"permitir-excluir-linhas":!0,onAtualizarCelula:A,onAtualizarSelecao:n,onRemoverCelula:s,onRemoverLinha:l,onDesabilitarLinha:u,onRemoverSelecao:c,onRemoverTudo:d},{"acoes-planilha":U(()=>[E(h,{titulo:"Adicionar Período de Afastamento","posicionar-acima":!0,onAdicionar:g})]),"acoes-primeira-coluna":U(({linha:b})=>[E(B,{titulo:"Recortar período","data-inicial":b.celulas.dataInicial.valor,"data-final":b.celulas.dataFinal.valor,onConfirmado:Q=>m(b.id,Q)},null,8,["data-inicial","data-final","onConfirmado"])]),_:1},8,["colunas","linhas","altura"])}}}),eI=Object.assign(Zy,{__name:"RppsAfastamentos"}),qd=[{nome:"dataInicial",rotulo:"Início",tipo:se.Data,editavel:!0,deletavel:!1,placeholder:"-"},{nome:"dataFinal",rotulo:"Término",tipo:se.Data,editavel:!0,deletavel:!1,placeholder:"-"},{nome:"grauDeficiencia",rotulo:"Grau de Deficiência",tipo:se.Opcoes,editavel:!0,deletavel:!0,default:ke.SemDeficiencia,opcoes:ke.obterOpcoes(),estilos:{minWidth:"250px"}},{nome:"observacao",rotulo:"Observação",tipo:se.Texto,editavel:!0,deletavel:!0,default:"",placeholder:"",estilos:{width:"500px"}}];function tI(e){const t=e.map(o=>{const a=o.id,i=o.excluido,r=!0,A=!0,n=qd.reduce((s,l)=>{const c=l.nome,u="default"in l?l.default:void 0,d=o[c]??u;return s[c]={valor:d,status:dt.Normal},s},{});return{id:a,desabilitada:i,podeDesabilitar:r,podeExcluir:A,celulas:n}});return{colunas:qd,linhas:t}}function cn(){const e=Zt();return Ia(`${e.nome}-periodos-pcd-store`,()=>{const o=new C1,a=R({}),i=R([]);function r(){a.value=o.serializar(),i.value=o.lista()}function A(h){o.adicionar(h),r()}function n(h){o.adicionarMultiplos(h),r()}function s(h,B){o.atualizar(h,B),r()}function l(h){o.atualizarMultiplos(h),r()}function c(h){o.remover(h),r()}function u(){o.removerTudo(),r()}function d(h){return o.obterPorId(h)}function m(h,B){s(h,{excluido:B})}function g(h,B){o.recortar(h,B),r()}function p(){return!pA(a.value)}function f(){u()}function v(){return JSON.parse(JSON.stringify(o.serializar()))}return{lista:i,registros:a,atualizar:s,atualizarMultiplos:l,adicionar:A,adicionarMultiplos:n,remover:c,removerTudo:u,obterPorId:d,alterarStatusExcluido:m,recortar:g,temDadosCarregados:p,reiniciar:f,serializar:v,gerarDadosPlanilha:tI}},{persist:{pick:["registros"],afterHydrate(o){o.store.adicionarMultiplos(o.store.registros)},serializer:{deserialize:o=>JSON.parse(o,ko),serialize:JSON.stringify}}})()}const oI='Para adicionar um período, preencha os campos obrigatórios (em amarelo) e clique no botão "+" ou pressione ENTER quando estiver no campo "Observação".',aI=we({__name:"FcNovoPeriodoPcd",setup(e){const t=cn();async function o({dataInicial:a,dataFinal:i,descricao:r}){t.adicionar({dataInicial:a,dataFinal:i,observacao:r||"",excluido:!1,grauDeficiencia:ke.Leve})}return(a,i)=>{const r=mg;return w(),K(r,{titulo:"Adicionar Período PCD",info:oI,"posicionar-acima":!0,"nome-campo-descricao":"Observação",onAdicionar:o})}}}),iI=Object.assign(aI,{__name:"FcNovoPeriodoPcd"}),rI=we({__name:"FcPeriodosPcd",props:{altura:{default:"auto"}},setup(e){const t=ga(),o=cn(),a=F(()=>o.gerarDadosPlanilha(o.lista));function i(m,g,p){const f=o.obterPorId(m);if(f&&p!==void 0){if(g==="dataInicial"&&p.valueOf()>f.dataFinal.valueOf()||g==="dataFinal"&&p.valueOf()<f.dataInicial.valueOf())return;try{o.atualizar(m,{[g]:p})}catch(v){t.erro(v)}}}function r({id:m,novoValor:g,nomeColuna:p}){i(m,p,g)}function A(m){m.forEach(g=>{const{id:p,novosValores:f}=g;Object.entries(f).forEach(([v,h])=>{i(p,v,h)})})}function n({id:m,nomeColuna:g}){g==="observacao"&&i(m,g,"")}function s({ids:m,nomesColunas:g}){m.forEach(p=>{g.forEach(f=>{n({id:p,nomeColuna:f})})})}function l({id:m}){o.remover(m)}function c({id:m,status:g}){o.alterarStatusExcluido(m,g)}async function u(){o.removerTudo()}function d(m,g){o.recortar(m,g)}return(m,g)=>{const p=iI,f=Qu;return w(),K(Iu,{generic:"PeriodoPcdProps",colunas:C(a).colunas,linhas:C(a).linhas,altura:e.altura,"congelar-colunas":0,"nome-arquivo-csv":"PeriodosPcd","habilitar-busca":!1,"habilitar-nova-linha":!1,"habilitar-remover-tudo":!0,"habilitar-alca-de-arrasto":!0,"habilitar-desfazer-refazer":!0,"tecla-del-remove-linha":!1,"texto-planilha-vazia":"Nenhum período encontrado","permitir-desabilitar-linhas":!0,"permitir-excluir-linhas":!0,onAtualizarCelula:r,onAtualizarSelecao:A,onRemoverCelula:n,onRemoverLinha:l,onDesabilitarLinha:c,onRemoverSelecao:s,onRemoverTudo:u},{"acoes-planilha":U(()=>[E(p)]),"acoes-primeira-coluna":U(({linha:v})=>[E(f,{titulo:"Recortar período","data-inicial":v.celulas.dataInicial.valor,"data-final":v.celulas.dataFinal.valor,onConfirmado:h=>d(v.id,h)},null,8,["data-inicial","data-final","onConfirmado"])]),_:1},8,["colunas","linhas","altura"])}}}),AI=Object.assign(rI,{__name:"FcPeriodosPcd"}),nI={style:{display:"flex","align-items":"center","justify-content":"center"},class:"q-mb-xs"};var pg=(e=>(e.Contribuicao="Contribuição",e.Afastamentos="Afastamentos",e.Pcd="Deficiência",e))(pg||{});const sI=we({__name:"RppsPeriodos",props:{alturaPainel:{}},setup(e){const t=F(()=>`calc(${e.alturaPainel} - 90px)`),o=F(()=>`calc(${e.alturaPainel} - 150px)`),a=R("Contribuição"),i=Object.values(pg).map(r=>({rotulo:r,valor:r}));return Lr(()=>{a.value="Contribuição"}),(r,A)=>{const n=dg,s=Ny,l=Hr,c=eI,u=AI,d=An;return w(),H("div",null,[q("div",nI,[E(n,{modelValue:C(a),"onUpdate:modelValue":A[0]||(A[0]=m=>Tt(a)?a.value=m:null),opcoes:C(i),largura:"25rem"},null,8,["modelValue","opcoes"])]),E(d,{modelValue:C(a),"onUpdate:modelValue":A[1]||(A[1]=m=>Tt(a)?a.value=m:null),animated:"",swipeable:"","transition-prev":"fade","transition-next":"fade","keep-alive":"",class:"q-pa-none"},{default:U(()=>[E(l,{name:"Contribuição",style:Ze({height:C(t)}),class:"q-py-none"},{default:U(()=>[E(s,{altura:C(o)},null,8,["altura"])]),_:1},8,["name","style"]),E(l,{name:"Afastamentos",style:Ze({height:C(t)}),class:"q-py-none"},{default:U(()=>[E(c,{altura:C(o)},null,8,["altura"])]),_:1},8,["name","style"]),E(l,{name:"Deficiência",style:Ze({height:C(t)}),class:"q-py-none"},{default:U(()=>[E(u,{altura:C(o)},null,8,["altura"])]),_:1},8,["name","style"])]),_:1},8,["modelValue"])])}}}),lI=Object.assign(sI,{__name:"RppsPeriodos"}),cI="_somenteImpressao_3vkig_1",uI="_quebrarPagina_3vkig_15",dI="_evitarQuebrarPagina_3vkig_18",mI="_naoImprimir_3vkig_24",fI="_tabelaContainer_3vkig_39",pI="_paginaContainer_3vkig_60",gI="_pagina_3vkig_60",vI="_rodape_3vkig_76",hI="_paisagem_3vkig_85",BI="_botaoContainer_3vkig_92",CI="_cabecalhoContainer_3vkig_115",bI="_cabecalhoTitulo_3vkig_125",wI="_cabecalhoLogo_3vkig_130",FI="_cabecalhoLogoEsquerda_3vkig_134",QI="_cabecalhoLogoDireita_3vkig_137",EI="_secaoContainer_3vkig_147",yI="_secaoTitulo_3vkig_152",II="_secaoBlocos_3vkig_157",UI="_secaoObservacao_3vkig_164",SI="_tituloContainer_3vkig_169",DI="_subtituloContainer_3vkig_180",xI="_blocoContainer_3vkig_187",PI="_blocoTitulo_3vkig_191",_I="_blocoCorpo_3vkig_196",OI="_blocoChave_3vkig_200",RI="_blocoPontos_3vkig_208",MI="_blocoValor_3vkig_214",LI="_cartaoContainer_3vkig_224",HI="_cartaoDestaque_3vkig_232",TI="_cartaoSubtitulo_3vkig_235",$I="_tabelaCabecalhoGrupo_3vkig_271",VI="_tabelaCabecalhoGrupoSeparador_3vkig_294",NI="_tabelaGradacaoAlta_3vkig_322",qI="_tabelaGradacaoMedia_3vkig_326",kI="_tabelaGradacaoBaixa_3vkig_330",KI="_tabelaValorModificado_3vkig_334",zI="_tabelaValorIncluido_3vkig_339",GI="_tabelaAtencao_3vkig_344",jI="_tabelaSucesso_3vkig_349",WI="_tabelaDesconsiderada_3vkig_354",JI="_tabelaDesabilitada_3vkig_359",XI="_tabelaGrupo_3vkig_365",YI="_tabelaGrupoItem_3vkig_374",ZI="_notasContainer_3vkig_380",eU="_notasTitulo_3vkig_386",$e={somenteImpressao:cI,quebrarPagina:uI,evitarQuebrarPagina:dI,naoImprimir:mI,tabelaContainer:fI,paginaContainer:pI,pagina:gI,rodape:vI,paisagem:hI,botaoContainer:BI,cabecalhoContainer:CI,cabecalhoTitulo:bI,cabecalhoLogo:wI,cabecalhoLogoEsquerda:FI,cabecalhoLogoDireita:QI,secaoContainer:EI,secaoTitulo:yI,secaoBlocos:II,secaoObservacao:UI,tituloContainer:SI,subtituloContainer:DI,blocoContainer:xI,blocoTitulo:PI,blocoCorpo:_I,blocoChave:OI,blocoPontos:RI,blocoValor:MI,cartaoContainer:LI,cartaoDestaque:HI,cartaoSubtitulo:TI,tabelaCabecalhoGrupo:$I,tabelaCabecalhoGrupoSeparador:VI,tabelaGradacaoAlta:NI,tabelaGradacaoMedia:qI,tabelaGradacaoBaixa:kI,tabelaValorModificado:KI,tabelaValorIncluido:zI,tabelaAtencao:GI,tabelaSucesso:jI,tabelaDesconsiderada:WI,tabelaDesabilitada:JI,tabelaGrupo:XI,tabelaGrupoItem:YI,notasContainer:ZI,notasTitulo:eU};function Xa(){return{classes:{utilidades:{quebrarPagina:$e.quebrarPagina,evitarQuebrarPagina:$e.evitarQuebrarPagina,somenteImpressao:$e.somenteImpressao,naoImprimir:$e.naoImprimir},pagina:{container:$e.paginaContainer,corpo:$e.pagina,rodape:$e.rodape,paisagem:$e.paisagem},botao:{container:$e.botaoContainer},cabecalho:{container:$e.cabecalhoContainer,logoEsquerda:`${$e.cabecalhoLogo} ${$e.cabecalhoLogoEsquerda}`,logoDireita:`${$e.cabecalhoLogo} ${$e.cabecalhoLogoDireita}`,titulo:$e.cabecalhoTitulo},titulo:{container:$e.tituloContainer},subtitulo:{container:$e.subtituloContainer},secao:{container:$e.secaoContainer,titulo:$e.secaoTitulo,blocos:$e.secaoBlocos,observacao:$e.secaoObservacao},bloco:{container:$e.blocoContainer,titulo:$e.blocoTitulo,corpo:$e.blocoCorpo,chave:$e.blocoChave,pontos:$e.blocoPontos,valor:$e.blocoValor},cartao:{container:$e.cartaoContainer,destaque:$e.cartaoDestaque,subtitulo:$e.cartaoSubtitulo},tabela:{container:$e.tabelaContainer,cabecalhoGrupo:$e.tabelaCabecalhoGrupo,cabecalhoGrupoSeparador:$e.tabelaCabecalhoGrupoSeparador,gradacaoAlta:$e.tabelaGradacaoAlta,gradacaoMedia:$e.tabelaGradacaoMedia,gradacaoBaixa:$e.tabelaGradacaoBaixa,valorModificado:$e.tabelaValorModificado,valorIncluido:$e.tabelaValorIncluido,atencao:$e.tabelaAtencao,sucesso:$e.tabelaSucesso,desconsiderada:$e.tabelaDesconsiderada,desabilitada:$e.tabelaDesabilitada,grupo:$e.tabelaGrupo,grupoItem:$e.tabelaGrupoItem},notas:{container:$e.notasContainer,titulo:$e.notasTitulo}}}}const tU=we({__name:"FcDemonstrativoBloco",props:{titulo:{default:""},bloco:{default:()=>({})},observacao:{}},setup(e){const{classes:t}=Xa();return(o,a)=>(w(),H("div",{class:be(C(t).bloco?.container)},[e.titulo.length?(w(),H("div",{key:0,class:be(C(t).bloco?.titulo)},le(e.titulo),3)):ge("",!0),(w(!0),H(Se,null,Ne(e.bloco,(i,r)=>(w(),H("div",{key:`bloco-${r}`,class:be(C(t).bloco?.corpo)},[q("span",{class:be(C(t).bloco?.chave)},le(r)+":",3),q("span",{class:be(C(t).bloco?.pontos)},null,2),q("span",{class:be(C(t).bloco?.valor)},le(i),3)],2))),128))],2))}}),oU=Object.assign(tU,{__name:"FcDemonstrativoBloco"}),aU=we({__name:"FcDemonstrativoSecao",props:{titulo:{default:""},blocos:{default:()=>[]},blocosComTitulos:{default:()=>[]},observacao:{},corTitulo:{default:"#eee"},corFundo:{default:""}},setup(e){const{classes:t}=Xa();return(o,a)=>{const i=oU;return w(),H("div",{class:be(C(t).secao?.container)},[e.titulo?(w(),H("div",{key:0,class:be(C(t).secao?.titulo),style:Ze({backgroundColor:e.corTitulo})},[q("div",null,le(e.titulo),1)],6)):ge("",!0),yt(o.$slots,"default",{},()=>[e.blocos.length?(w(),H("div",{key:0,class:be(C(t).secao?.blocos),style:Ze({backgroundColor:e.corFundo})},[(w(!0),H(Se,null,Ne(e.blocos,(r,A)=>(w(),K(i,{key:`bloco-${A}`,bloco:r},null,8,["bloco"]))),128))],6)):e.blocosComTitulos?.length?(w(),H("div",{key:1,class:be(C(t).secao?.blocos),style:Ze({backgroundColor:e.corFundo})},[(w(!0),H(Se,null,Ne(e.blocosComTitulos,(r,A)=>(w(),K(i,{key:`bloco-${A}`,titulo:r.titulo,bloco:r.bloco},null,8,["titulo","bloco"]))),128))],6)):ge("",!0)]),e.observacao?(w(),H("div",{key:1,class:be(C(t).secao?.observacao)},[a[0]||(a[0]=q("strong",null,"Observação:",-1)),Pt(" "+le(e.observacao)+". ",1)],2)):ge("",!0)],2)}}}),Uu=Object.assign(aU,{__name:"FcDemonstrativoSecao"}),iU={style:{display:"flex","align-items":"center"}},rU=we({__name:"FcDemonstrativoSubtitulo",props:{subtitulo:{default:""},corFundo:{default:"#bddefa"},corBorda:{default:"#4ea5f3"}},setup(e){const{classes:t}=Xa();return(o,a)=>(w(),H("div",{class:be(C(t).subtitulo?.container),style:Ze([{display:"flex","align-items":"center","justify-content":"space-between"},{borderLeft:`10px solid ${e.corBorda}`,backgroundColor:e.corFundo}])},[q("div",iU,[Pt(le(e.subtitulo)+" ",1),yt(o.$slots,"default")]),yt(o.$slots,"lado-direito")],6))}}),gg=Object.assign(rU,{__name:"FcDemonstrativoSubtitulo"}),AU=we({__name:"FcDemonstrativoMenuContextual",props:po({target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:po(["copiarCsv","baixarCsv"],["update:modelValue"]),setup(e,{emit:t}){const o=t,a=Ro(e,"modelValue");return(i,r)=>{const A=ja,n=Nt,s=qt,l=gA,c=ri;return w(),K(l,{modelValue:a.value,"onUpdate:modelValue":r[2]||(r[2]=u=>a.value=u),target:e.target,style:{"border-radius":"7px"},"no-parent-event":""},{default:U(()=>[E(s,{flat:"",square:""},{default:U(()=>[r[5]||(r[5]=q("div",{class:"q-px-md q-py-sm text-body2"}," Exportar ",-1)),E(A),Vt((w(),H("div",{clickable:"",class:be(["q-px-md q-py-sm",i.classes.itemMenu]),onClick:r[0]||(r[0]=u=>o("copiarCsv"))},[E(n,{name:C(Ir),size:"xs"},null,8,["name"]),r[3]||(r[3]=q("span",{class:"text-body2 q-ml-sm"},"Copiar tabela",-1))],2)),[[c]]),Vt((w(),H("div",{clickable:"",class:be(["q-px-md q-py-sm",i.classes.itemMenu]),onClick:r[1]||(r[1]=u=>o("baixarCsv"))},[E(n,{name:C(bf),size:"xs"},null,8,["name"]),r[4]||(r[4]=q("span",{class:"text-body2 q-ml-sm"},'Baixar em formato ".csv" ',-1))],2)),[[c]])]),_:1})]),_:1},8,["modelValue","target"])}}}),nU="_itemMenu_1unns_1",sU={itemMenu:nU},lU={classes:sU},cU=Object.assign(fa(AU,[["__cssModules",lU]]),{__name:"FcDemonstrativoMenuContextual"});function uU(e){const{$q:t}=Lc(),{exportar:o}=yu(),a=Zt();function i(n=";"){if(!e.colunas||!e.linhas)return"";const s=e.colunas.map(d=>{const m=d.rotulo;if(Array.isArray(m)){const g=li(m[0]);return(Array.isArray(m[1])?m[1]:[]).map(f=>`${g}-${li(f)}`).join(n)}return li(m)}).join(n),l=e.colunas.map(d=>d.nome),c=e.linhas.map(d=>l.map(m=>{const g=d[m]?.valor??"";return Array.isArray(g)?g.map(li).join(n):li(g)}).join(n)).join(`
`);let u="";return e.totais&&(u=e.totais.map(d=>{const m=li(d.titulo?.valor),g=d.titulo?`${m}${n.repeat(d.titulo.colspan||0)}`:"",p=li(d.final?.valor),f=d.final?`${p}${n.repeat(d.final.colspan||0)}`:"",v=[];return l.forEach(h=>{if(h in d){const B=d[h]?.valor??"";Array.isArray(B)?v.push(...B.map(li)):v.push(li(B))}}),`${g}${n}${v.join(n)}${f}`}).join(`
`)),e.tituloColunasCsv?`${(e.tituloColunasCsv||[]).reduce((m,g)=>{const p=g.colspan||1,f=li(g.titulo);return m.push(`${f}${n.repeat(p-1)}`),m},[]).join(n)}
${s}
${c}
${u}`:`${s}
${c}
${u}`}async function r(){try{const n=i("	").replaceAll(`
`,`\r
`);await navigator.clipboard.writeText(n),t.notify({message:"Tabela copiada",position:"top-right",timeout:300,color:"green"})}catch{t.notify({message:"Erro ao copiar a tabela",position:"top-right",timeout:300,color:"red"})}}function A(){const n=i();o(n,e.titulo||a.nome.replace("@fc/",""),"text/csv")}return{gerarCsv:i,copiarCsv:r,baixarCsv:A}}function li(e){return e==null?"":Array.isArray(e)?e.map(t=>String(t).replaceAll(/\r?\n/g," ").trim()).join(" "):String(e).replaceAll(/\r?\n/g," ").trim()}const dU={style:{display:"flex","align-items":"center","justify-content":"center"}},mU={key:1},fU={key:1},pU=["colspan"],gU={key:1},vU=we({__name:"FcDemonstrativoTabela",props:{titulo:{default:"Demonstrativo"},descritivo:{default:""},colunas:{default:()=>[]},linhas:{default:()=>[]},totais:{default:()=>[]},corFundo:{},corBorda:{},classesTabela:{default:""},estilosTabela:{}},setup(e){const{classes:t}=Xa(),o=F(()=>{if(!(!e.colunas.length||!e.colunas[0]?.estilos?.fontSize))return e.colunas[0].estilos.fontSize}),a=R(),{copiarCsv:i,baixarCsv:r}=uU({titulo:e.titulo,colunas:e.colunas,linhas:e.linhas,totais:e.totais}),A=R(!1);function n(s){s.preventDefault(),a.value=s.target||void 0,A.value=!0}return(s,l)=>{const c=gg,u=cU;return w(),H("div",null,[e.titulo?(w(),K(c,{key:0,subtitulo:e.titulo,"cor-fundo":e.corFundo,"cor-borda":e.corBorda},{default:U(()=>[yt(s.$slots,"titulo")]),_:3},8,["subtitulo","cor-fundo","cor-borda"])):ge("",!0),q("table",{class:be(`${C(t).tabela?.container} ${e.classesTabela}`),style:Ze(e.estilosTabela),onContextmenu:n},[e.descritivo?(w(),H("caption",{key:0,class:be(C(t).tabela?.descritivo),style:Ze({fontSize:C(o),backgroundColor:e.corFundo})},[q("div",dU,[Pt(le(e.descritivo)+" ",1),yt(s.$slots,"descritivo")])],6)):ge("",!0),q("thead",null,[q("tr",null,[(w(!0),H(Se,null,Ne(e.colunas,d=>(w(),H("th",{key:`coluna-${d.nome}`,class:be(d.classes),style:Ze(Object.assign(d.estilos??{},{backgroundColor:e.corFundo}))},[Array.isArray(d.rotulo)?(w(),H("div",{key:0,class:be(C(t).tabela?.cabecalhoGrupo)},[q("div",null,le(d.rotulo[0]),1),q("div",null,[(w(!0),H(Se,null,Ne(d.rotulo[1],(m,g)=>(w(),H(Se,{key:m},[g>0?(w(),H("div",{key:0,class:be(C(t).tabela?.cabecalhoGrupoSeparador)},null,2)):ge("",!0),q("div",null,le(m),1)],64))),128))])],2)):(w(),H("span",mU,le(d.rotulo),1))],6))),128))])]),q("tbody",null,[(w(!0),H(Se,null,Ne(e.linhas,(d,m)=>(w(),H("tr",{key:`linha-${m}`},[(w(!0),H(Se,null,Ne(e.colunas,g=>(w(),H("td",{key:`celula-${m}-${g.nome}`,class:be(d[g.nome]?.classes),style:Ze(d[g.nome]?.estilos)},[Array.isArray(d[g.nome]?.valor)?(w(),H("div",{key:0,class:be(C(t).tabela?.grupo)},[(w(!0),H(Se,null,Ne(d[g.nome]?.valor,(p,f)=>(w(),H("div",{key:`linha-${m}-${f}`,class:be(C(t).tabela?.grupoItem)},le(p),3))),128))],2)):(w(),H("span",fU,le(d[g.nome]?.valor),1))],6))),128))]))),128)),e.totais?(w(!0),H(Se,{key:0},Ne(e.totais,(d,m)=>(w(),H("tr",{key:`totais-linha-${m}`},[(w(!0),H(Se,null,Ne(d,(g,p)=>(w(),H("td",{key:`totais-linha-${m}-${p}`,colspan:g.colspan||1,class:be(g.classes),style:Ze(g.estilos)},[Array.isArray(g.valor)?(w(),H("div",{key:0,class:be(C(t).tabela?.grupo)},[(w(!0),H(Se,null,Ne(g.valor,(f,v)=>(w(),H("div",{key:`linha-${m}-${v}`,class:be(C(t).tabela?.grupoItem)},le(f),3))),128))],2)):(w(),H("span",gU,le(g.valor),1))],14,pU))),128))]))),128)):ge("",!0)])],38),C(a)?(w(),K(u,{key:1,modelValue:C(A),"onUpdate:modelValue":l[0]||(l[0]=d=>Tt(A)?A.value=d:null),target:C(a),offset:[-20,-20],cor:e.corFundo,onCopiarCsv:C(i),onBaixarCsv:C(r)},null,8,["modelValue","target","cor","onCopiarCsv","onBaixarCsv"])):ge("",!0)])}}}),vg=Object.assign(vU,{__name:"FcDemonstrativoTabela"}),hU={class:"q-ml-sm"},BU=we({__name:"FcDemonstrativoAviso",props:{mensagem:{},estilos:{},classes:{},inserirIcone:{type:Boolean,default:!0},icone:{default:()=>xs}},setup(e){return(t,o)=>{const a=Nt,i=pa,r=qt;return w(),K(r,{flat:"",class:be(["q-ma-sm",e.classes]),style:Ze(e.estilos)},{default:U(()=>[E(i,{class:"row items-center no-wrap text-caption"},{default:U(()=>[e.inserirIcone?(w(),K(a,{key:0,name:e.icone,size:"19px"},null,8,["name"])):ge("",!0),q("div",hU,le(e.mensagem),1)]),_:1})]),_:1},8,["class","style"])}}}),CU=Object.assign(BU,{__name:"FcDemonstrativoAviso"}),bU={class:"q-mx-md q-px-sm q-py-md row items-center",style:{"font-size":"12px","border-bottom":"1px solid lightgrey"}},wU={class:"text-bold"},FU=we({__name:"FcDemonstrativoLegenda",props:{titulo:{},legenda:{}},setup(e){return(t,o)=>(w(),H("div",bU,[q("div",wU,le(e.titulo)+": ",1),(w(!0),H(Se,null,Ne(e.legenda,(a,i)=>(w(),H("div",{key:`item-legenda-${i}`,class:"q-px-xs"},[q("span",{class:"q-py-xs q-px-sm",style:Ze({backgroundColor:a.cor})},le(a.simbolo),5),q("span",null," "+le(a.legenda),1)]))),128))]))}}),QU=Object.assign(FU,{__name:"FcDemonstrativoLegenda"});var Ac=(e=>(e.Pequena="Pequena",e.Media="Média",e.Grande="Grande",e))(Ac||{});function ks(){const e=Zt(),t=Eu();return Ia(`${e.nome}-demonstrativos-store`,()=>{const a=R("Média"),i=R(2),r=R(10),A={azul:{borda:"#58a5f1",fundo:"#bddefa"},verde:{borda:"#377c34",fundo:"#cae6c9"},vermelho:{borda:"#cb3934",fundo:"#fbced2"},amarelo:{borda:"#f78b21",fundo:"#fde0b4"},cinzaAzulado:{borda:"#566e79",fundo:"#cfd8dc"}},n=F(()=>a.value==="Pequena"?{titulo:"0.8rem",subtitulo:"0.7rem",corpo:"0.65rem"}:a.value==="Média"?{titulo:"0.85rem",subtitulo:"0.75rem",corpo:"0.7rem"}:{titulo:"0.9rem",subtitulo:"0.8rem",corpo:"0.75rem"}),s={tipo:mt.Campo,campo:{tipo:bt.Deslizante,ref:r,atualizar:m=>r.value=m,parametros:{nome:"qualidade-imagem",titulo:"Qualidade da imagem",min:0,max:10,intervalo:.5,mostrarRotulos:!0,marcadores:1,rotulos:[{value:0,label:"Mínima"},{value:5,label:"Média"},{value:10,label:"Máxima"}],estilos:{width:"400px"},dica:{mensagem:"Apenas para baixar imagens."}}}},l={tipo:mt.Campo,campo:{tipo:bt.Radio,ref:a,atualizar:m=>a.value=m,parametros:{nome:"tamanho-fonte",titulo:"Fonte",opcoes:[{value:"Pequena",label:"Pequena"},{value:"Média",label:"Média"},{value:"Grande",label:"Grande"}]}}},c={tipo:mt.Campo,campo:{tipo:bt.Deslizante,ref:i,atualizar:m=>i.value=m,parametros:{nome:"colunas-notas",titulo:"Colunas das notas",min:1,max:3,intervalo:1,mostrarRotulos:!0,marcadores:1,rotulos:["1","2","3"],estilos:{width:"100%"}}}},u=F(()=>({titulo:"Opções Gerais",secoes:[{titulo:"Geral",cor:"transparent",linhas:[[l],[c],[s]]}]})),d=F(()=>(t.nomeCalculo||t.numero||t.autor||"calculo").replace(/[<>:"/\\|?*]/g,"_"));return{opcaoTamanhoFonte:a,colunasNotas:i,qualidadeImagem:r,cores:A,tamanhoFonte:n,configEsquema:u,identificador:d}},{persist:{omit:["cores","tamanhoFonte","esquema","identificador"],serializer:{deserialize:a=>JSON.parse(a,ko),serialize:JSON.stringify}}})()}const EU={class:"q-mx-md q-px-sm q-py-md",style:{"font-size":"12px","border-bottom":"1px solid lightgrey"}},yU={key:0},IU=we({__name:"FcDemonstrativoNotas",props:{titulo:{},notas:{},linhaUnica:{type:Boolean},separador:{default:", "}},setup(e){const t=ks();return(o,a)=>(w(),H("div",EU,[q("div",null,[q("strong",null,le(e.titulo)+": ",1)]),e.linhaUnica?(w(),H("div",yU,[q("div",null,le(e.notas.join(e.separador)),1)])):(w(),H("div",{key:1,style:Ze({columnCount:String(C(t).colunasNotas)})},[(w(!0),H(Se,null,Ne(e.notas,(i,r)=>(w(),H("div",{key:`nota-${r}`},le(i),1))),128))],4))]))}}),UU=Object.assign(IU,{__name:"FcDemonstrativoNotas"});function Su(){const e=ga(),t=cr();function o(m){return navigator?.clipboard&&Po(navigator.clipboard.write)&&window.ClipboardItem!==void 0&&ClipboardItem.supports(m)}function a(m){if(!o(m))throw new Error("Acesso à área de transferência não suportado")}function i(){t.aviso("Ação bloqueada pelo navegador","O acesso direto à área de transferência está bloqueado pelo navegador. Autorize o acesso e tente novamente.")}async function r(m){try{return a("text/html"),await navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([m],{type:"text/html"})})]),!0}catch(g){return e.erro(g),i(),!1}}async function A(m){try{return a("text/plain"),await navigator.clipboard.writeText(m),!0}catch(g){return e.erro(g),i(),!1}}function n(m){try{const g=document.createRange();return g.selectNode(m),window.getSelection()?.removeAllRanges(),window.getSelection()?.addRange(g),document.execCommand("copy"),window.getSelection()?.removeAllRanges(),!0}catch(g){return e.erro(g),i(),!1}}async function s(m){try{return Re(m)?(a("text/plain"),await A(m)):n(m)}catch(g){return e.erro(g),i(),!1}}async function l(m){return new Promise((g,p)=>{m.toBlob(async f=>{if(f){const v=[new ClipboardItem({[f.type]:f})];return await navigator.clipboard.write(v),g(!0)}p(new Error("Imagem inválida"))},"image/png")})}function c(m){const g=document.createElement("img");g.src=m.toDataURL("image/png");const p=document.createElement("div");p.appendChild(g),document.body.appendChild(p);const f=document.createRange();f.setStartBefore(g),f.setEndAfter(g),window.getSelection()?.addRange(f),document.execCommand("Copy"),p.removeChild(g),document.body.removeChild(p)}async function u(m){try{return o("image/png")?await l(m):c(m)}catch(g){return e.erro(g),i(),!1}}async function d(){return Po(window.navigator.clipboard.readText)?await window.navigator.clipboard.readText():(i(),"")}return{copiarTextoHtml:r,copiarTexto:s,recuperarTexto:d,copiarImagem:u}}const SU=we({__name:"FcCopiarTextoBotao",props:{dica:{default:"Copiar texto"},tamanho:{default:"sm"},conteudo:{default:""},formato:{default:"text"},icone:{default:()=>Ir}},setup(e){const t=R(e.icone),o=R(""),{copiarTexto:a,copiarTextoHtml:i}=Su();function r(){t.value=ru,o.value="red-8",setTimeout(()=>{t.value=e.icone,o.value=""},2e3)}function A(){t.value=Au,o.value="green-8",setTimeout(()=>{t.value=e.icone,o.value=""},2e3)}async function n(){if(!e.conteudo)return r();try{return e.formato==="html"&&Re(e.conteudo)?(await i(e.conteudo),A()):(await a(e.conteudo),A())}catch{return r()}}return(s,l)=>{const c=St;return w(),K(tn,{mode:"out-in","enter-active-class":s.classes.enterActive,"leave-active-class":s.classes.leaveActive,"enter-from-class":s.classes.enterFrom,"leave-to-class":s.classes.leaveTo},{default:U(()=>[(w(),K(c,{key:C(t),round:"",flat:"",icon:C(t),color:C(o),size:e.tamanho,title:e.dica,onClick:n},null,8,["icon","color","size","title"]))]),_:1},8,["enter-active-class","leave-active-class","enter-from-class","leave-to-class"])}}}),DU="_enterActive_150aw_1",xU="_leaveActive_150aw_2",PU="_enterFrom_150aw_6",_U="_leaveTo_150aw_7",OU={enterActive:DU,leaveActive:xU,enterFrom:PU,leaveTo:_U},RU={classes:OU},MU=Object.assign(fa(SU,[["__cssModules",RU]]),{__name:"FcCopiarTextoBotao"}),LU={class:"text-white bg-red q-py-sm no-border no-border-radius row items-center"},HU={class:"text-bold q-mb-sm"},TU=["title"],$U={key:3},VU={class:"row items-center"},NU={class:"q-px-md q-py-sm"},qU={class:"q-px-sm q-py-sm"},kU={key:1,class:"q-px-md q-py-sm"},KU={key:0,class:"text-caption"},zU={class:"q-px-sm q-py-sm"},GU={key:5,class:"q-px-md q-py-sm"},jU={key:7,class:"text-bold"},WU={class:"row items-center"},JU={class:"q-px-md q-py-sm"},XU={class:"q-px-md q-py-sm"},YU={class:"q-px-md q-py-sm"},ZU={key:0,class:"text-caption"},eS=we({__name:"RppsBeneficio",props:{cor:{},rotuloApuracao:{},beneficio:{},botaoReafirmar:{type:Boolean},mostrarAlerta:{type:Boolean}},emits:["reafirmar"],setup(e,{emit:t}){const o=t;return(a,i)=>{const r=St,A=Nt,n=pa,s=ja,l=qt,c=Uu;return w(),K(c,{titulo:e.beneficio.descricao,"cor-titulo":e.cor,class:be(C($e).evitarQuebrarPagina)},{default:U(()=>[E(l,{flat:"",square:""},{default:U(()=>[e.botaoReafirmar?(w(),K(r,{key:0,class:"do-not-print",round:"",icon:C(Au),color:"grey-1","text-color":"grey-8",style:{position:"absolute",top:"0",right:"0","z-index":"1",margin:"5px"},title:"Apurar nesta data",onClick:i[0]||(i[0]=u=>o("reafirmar"))},null,8,["icon"])):ge("",!0),e.beneficio.alerta&&e.mostrarAlerta?(w(),K(n,{key:1},{default:U(()=>[q("div",LU,[E(A,{name:C(Kh),size:"sm",class:"q-mx-md"},null,8,["name"]),q("div",null,[q("div",null,le(e.beneficio.alerta),1),i[1]||(i[1]=q("div",null," Entre em contato com a equipe da CECALC. ",-1))])])]),_:1})):ge("",!0),E(n,{horizontal:""},{default:U(()=>[E(n,{style:{width:"50%"}},{default:U(()=>[q("div",HU,[Pt(le(e.rotuloApuracao)+" ",1),q("span",null,le(e.beneficio.apuradoEm),1),e.beneficio.alerta&&!e.mostrarAlerta?(w(),H("sup",{key:0,style:{color:"red","font-size":"0.8em","font-weight":"900",cursor:"pointer"},title:e.beneficio.alerta}," (*) ",8,TU)):ge("",!0)]),(w(!0),H(Se,null,Ne(e.beneficio.apurados,u=>(w(),H("div",{key:`apurado-${u.rotulo}`},le(u.rotulo)+" "+le(u.nota?`(${u.nota})`:"")+": "+le(u.valor),1))),128))]),_:1}),E(s,{vertical:""}),E(n,null,{default:U(()=>[i[2]||(i[2]=q("div",{class:"text-bold q-mb-sm"}," Exigido ",-1)),(w(!0),H(Se,null,Ne(e.beneficio.requisitos,u=>(w(),H("div",{key:`requisito-${u.rotulo}`},le(u.rotulo)+" "+le(u.nota?`(${u.nota})`:"")+": "+le(u.valor),1))),128))]),_:1})]),_:1}),e.beneficio.baseProventos?(w(),K(s,{key:2})):ge("",!0),e.beneficio.baseProventos?(w(),H("div",$U,[q("div",VU,[q("div",NU,[i[3]||(i[3]=q("strong",null,"Base: ",-1)),Pt(le(e.beneficio.baseProventos.base),1)]),E(s,{vertical:"",class:"q-mx-xs"}),q("div",qU,[i[4]||(i[4]=q("strong",null,"Teto do RGPS: ",-1)),Pt(le(e.beneficio.baseProventos.limitadoTetoRgps),1)]),e.beneficio.coeficiente?(w(),K(s,{key:0,vertical:""})):ge("",!0),e.beneficio.coeficiente?(w(),H("div",kU,[q("div",null,[i[5]||(i[5]=q("strong",null,"Coeficiente: ",-1)),Pt(le(e.beneficio.coeficiente.valor)+" ",1),e.beneficio.coeficiente.nota?(w(),H("span",KU," ("+le(e.beneficio.coeficiente.nota)+")",1)):ge("",!0)])])):ge("",!0),E(s,{vertical:"",class:"q-mx-xs"}),q("div",zU,[i[6]||(i[6]=q("strong",null,"Paridade: ",-1)),Pt(le(e.beneficio.baseProventos.paridadeReajuste),1)])])])):ge("",!0),e.beneficio.baseProventos?.nota?(w(),K(s,{key:4})):ge("",!0),e.beneficio.baseProventos?(w(),H("div",GU,[q("div",null," Fundamentos (base, teto e paridade): "+le(e.beneficio.baseProventos.nota),1)])):ge("",!0),e.beneficio.fatorPrevidenciario?(w(),K(s,{key:6})):ge("",!0),e.beneficio.fatorPrevidenciario?(w(),H("div",jU,[q("div",WU,[q("div",JU," Pontos: "+le(e.beneficio.fatorPrevidenciario.pontos),1),E(s,{vertical:"",class:"q-mx-sm"}),q("div",XU," Aplicar fator: "+le(e.beneficio.fatorPrevidenciario.aplicar),1),E(s,{vertical:"",class:"q-mx-sm"}),q("div",YU,[Pt(" Fator: "+le(e.beneficio.fatorPrevidenciario.valor)+" ",1),e.beneficio.fatorPrevidenciario.nota?(w(),H("span",ZU," ("+le(e.beneficio.fatorPrevidenciario.nota)+")",1)):ge("",!0)])])])):ge("",!0)]),_:1})]),_:1},8,["titulo","cor-titulo","class"])}}}),tS=Object.assign(eS,{__name:"RppsBeneficio"}),hg=Ia("@fc/prev-rpps-gerar-textos-store",()=>{const e=la(),t=R(!0),o=R(!0),a=R("Cardinais"),i=R(!0),r=R(!0),A=R(!0),n=R(xa.NaoDefinido),s=R(!0),l=R(!0),c=R("Cardinais"),u={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:t,atualizar:M=>t.value=M,parametros:{nome:"separar-linhas-periodos",rotulo:"Separar linhas"}}},d={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:o,atualizar:M=>o.value=M,parametros:{nome:"numerar-periodos",rotulo:"Numerar"}}},m={tipo:mt.Campo,campo:{tipo:bt.Radio,ref:a,atualizar:M=>a.value=M,parametros:{nome:"numeracao-periodos",titulo:"Numeração",opcoes:[{value:"Cardinais",label:"Cardinais"},{value:"Ordinais",label:"Ordinais"},{value:"Romanos",label:"Romanos"},{value:"Letras",label:"Letras"}]}}},g={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:i,atualizar:M=>i.value=M,parametros:{nome:"incluir-descricao-periodos",rotulo:"descrição"}}},p={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:r,atualizar:M=>r.value=M,parametros:{nome:"incluir-forma-contagem-periodos",rotulo:"forma de contagem"}}},f={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:s,atualizar:M=>s.value=M,parametros:{nome:"separar-linhas-beneficios",rotulo:"Separar linhas"}}},v={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:l,atualizar:M=>l.value=M,parametros:{nome:"numerar-beneficios",rotulo:"Numerar"}}},h={tipo:mt.Campo,campo:{tipo:bt.Radio,ref:c,atualizar:M=>c.value=M,parametros:{nome:"numeracao-beneficios",titulo:"Numeração",opcoes:[{value:"Cardinais",label:"Cardinais"},{value:"Ordinais",label:"Ordinais"},{value:"Romanos",label:"Romanos"},{value:"Letras",label:"Letras"}]}}},B={titulo:"Texto Períodos",secoes:[{titulo:"Períodos",cor:"transparent",linhas:[[TA("Formato"),u,d],[m],[TA("Incluir"),g,p]]}]},b={titulo:"Texto Benefícios",secoes:[{titulo:"Benefícios",cor:"transparent",linhas:[[TA("Formato"),f,v],[h]]}]};function Q(M){if(!Array.isArray(M)||M.length===0)return{cabecalhos:[],linhas:[]};const X=[{titulo:"Seq."},{titulo:"Início"},{titulo:"Término"}];i.value&&X.push({titulo:"Descrição"}),r.value&&X.push({titulo:"Contagem"},{titulo:"Deficiência"}),X.push({titulo:"Simples",subtitulos:["Anos","Meses","Dias"]},{titulo:"Fator"},{titulo:"Convertido",subtitulos:["Anos","Meses","Dias"]},{titulo:"Carência"});const ae=M.map((L,j)=>{const{dataInicial:te,dataFinal:Fe,tempoSimples:he,fatorConversao:ve,tempoConvertido:Ce}=L,Te=e.anosMesesDias(he),fe=e.numero(ve,1),Ke=e.anosMesesDias(Ce),Lt=e.rotulo(L.grauDeficiencia,ke.obterOpcoes(),"-").replace("Deficiência","").trim(),Gt=e.rotulo(L.formaContagem,Qe.obterOpcoes(),"-"),Dt=[{valor:e.inteiro(j+1),estilos:{textAlign:"right"}},{valor:e.data(te,"-"),estilos:{textAlign:"center"}},{valor:e.data(Fe,"-"),estilos:{textAlign:"center"}}];if(i.value){let J="-";i.value&&L.descricao&&L.descricao.length>0&&L.descricao!=="-- sem descrição --"&&(J=L.descricao),Dt.push({valor:J,estilos:{textAlign:"left"}})}return r.value&&Dt.push({valor:Gt,estilos:{textAlign:"center"}},{valor:Lt,estilos:{textAlign:"center"}}),Dt.push({valor:`${Te.anos}`,estilos:{textAlign:"right"}},{valor:`${Te.meses}`,estilos:{textAlign:"right"}},{valor:`${Te.dias}`,estilos:{textAlign:"right"}},{valor:fe,estilos:{textAlign:"right"}},{valor:`${Ke.anos}`,estilos:{textAlign:"right"}},{valor:`${Ke.meses}`,estilos:{textAlign:"right"}},{valor:`${Ke.dias}`,estilos:{textAlign:"right"}}),Dt});return{cabecalhos:X,linhas:ae}}function y(M){return`${Object.entries(M).map(([X,ae])=>`${X.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${ae}`).join("; ").trim()};`}function I(M){const{cabecalhos:X,linhas:ae}=Q(M),L="border: 1px solid #dddddd; border-collapse: collapse; width: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 8px; letter-spacing: normal; orphans: 2; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;",j="border: 1px solid #dddddd; padding: 0.2rem 0.8rem; background-color: #f2f2f2; font-weight: bold;",te="border: 1px solid #dddddd; padding: 0.2rem 0.8rem; text-align: right;",Fe=X.map(Ce=>{const Te=Ce.estilos?y(Ce.estilos):"";return Ce.subtitulos&&Ce.subtitulos.length>0?`<th colspan="${Ce.subtitulos?.length}" style="${j};${Te}">${Ce.titulo}</th>`:`<th rowspan="2" style="${j};${Te}">${Ce.titulo}</th>`}).join(""),he=X.map(Ce=>{const Te=Ce.estilos?y(Ce.estilos):"";return Ce.subtitulos?.map(fe=>`<th style="${j};${Te}">${fe}</th>`).join("")||""}).join(""),ve=ae.map((Ce,Te)=>{const fe=Te%2===0?"#f9f9f9":"#ffffff";return`<tr>${Ce.map(Ke=>{const Lt=Ke.estilos?y(Ke.estilos):"";return`<td style="${te};${Lt}; background-color: ${fe};">${Ke.valor}</td>`}).join("")}</tr>`}).join("");return`
      <table style="${L}">
        <thead>
          <tr>${Fe}</tr>
          <tr>${he}</tr>
        </thead>
        <tbody>
          ${ve}
        </tbody>
      </table>
    `}function D(M){if(!o.value)return"";let X="";return a.value==="Ordinais"?X=`${M+1}º) `:a.value==="Romanos"?X=`${e.romanos(M+1)}) `:a.value==="Letras"?X=`${e.letras(M)}) `:X=`${M+1}) `,t.value?X:`(${X}`}function O(M){return!i.value||!M.descricao||M.descricao.length===0||M.descricao==="-- sem descrição --"?"":` (${M.descricao})`}function S(M){if(M===ke.SemDeficiencia)return"";let X;return M===ke.Leve?X="leve":M===ke.Moderado?X="moderada":X="grave",`, deficiência ${X}`}function k(M){if(!r.value)return"";const X=`, contado como ${Qe.obterRotulo(M.formaContagem)?.toLowerCase()??""}`,ae=S(M.grauDeficiencia);return X+ae}function W(M){return!A.value||M.motivoContagem===xa.NaoDefinido?"":`, por ${xa.obterRotulo(M.motivoContagem)?.toLowerCase()??""}`}function re(M){return M.filter(X=>!X.excluido&&X.formaContagem!==Qe.NaoComputar).filter(X=>n.value===void 0||n.value===xa.NaoDefinido?!0:X.motivoContagem===n.value)}function $(M,X){const ae=D(X),L=`de ${e.data(M.dataInicial,"-")} a ${e.data(M.dataFinal,"-")}`,j=O(M),te=k(M),Fe=W(M);return`${ae}${L}${j}${te}${Fe}`}function z(M){return!Array.isArray(M)||M.length===0?"":`${re(M).map($).join(t.value?`;
`:", ")}.`}function N(M,X=!0){const ae=M.dadosApuracao.naApuracao.valoresApurados;return ae?Object.values(ae).map(j=>{if(j){const te=j.resultado.cumprido;return X!==te?"":j.resultado.porExtenso}return""}).filter(j=>j.length>0).map((j,te,Fe)=>Fe.length>1?`(${e.romanos(te+1)}) ${j}`:j).join("; "):""}function x(M){return!Array.isArray(M)||M.length===0?"":`${M.map((ae,L)=>{const{temDireito:j,naApuracao:te}=ae.dadosApuracao,Fe=e.data(te.data);let he="";l.value&&M.length>1&&(c.value==="Ordinais"?he=`${L+1}º) `:c.value==="Romanos"?he=`${e.romanos(L+1)}) `:c.value==="Letras"?he=`${e.letras(L)}) `:he=`${L+1}) `,s.value||(he=`(${he}`));const ve=N(ae,j);return j?`${he}em ${Fe} tem direito ao benefício de ${ae.descricao.toLowerCase()}, com fundamento na ${sA.obterRotulo(ae.fundamento)}, pois ${ve}`:`${he}em ${Fe} não tem direito ao benefício de ${ae.descricao.toLowerCase()} de que trata a ${sA.obterRotulo(ae.fundamento)}, pois ${ve}`}).join(s.value?`;
`:", ")}.`}return{separarLinhasPeriodos:t,numerarPeriodos:o,numeracaoPeriodos:a,incluirDescricaoPeriodos:i,incluirFormaContagemPeriodos:r,incluirMotivoContagemPeriodos:A,filtroPeriodos:n,separarLinhasBeneficios:s,numerarBeneficios:l,numeracaoBeneficios:c,configEsquemaPeriodos:B,configEsquemaBeneficios:b,tabela:I,periodos:z,beneficios:x}},{persist:{omit:["configEsquemaPeriodos","configEsquemaBeneficios","tabela","periodos","beneficios"],serializer:{deserialize:e=>JSON.parse(e,ko),serialize:JSON.stringify}}});function oS(){const e=la(),t=Xa().classes.tabela;return[{nome:"ordem",rotulo:"",classes:"",classesCelula:"",estilos:{width:"30px",textAlign:"center"},estilosCelula:{width:"30px",textAlign:"right"},formatador:({valor:o})=>e.inteiro(o,"-")},{nome:"dataInicial",rotulo:"Início",classes:"",classesCelula:"",estilos:{width:"70px",textAlign:"center"},estilosCelula:{width:"70px",textAlign:"center"},formatador:({valor:o})=>e.data(o,"-")},{nome:"dataFinal",rotulo:"Término",classes:"",classesCelula:"",estilos:{width:"70px",textAlign:"center"},estilosCelula:{width:"70px",textAlign:"center"},formatador:({valor:o})=>e.data(o,"-")},{nome:"dias",rotulo:"Dias",classes:"",classesCelula:"",estilos:{width:"70px",textAlign:"right"},estilosCelula:{width:"70px",textAlign:"right"},formatador:({valor:o})=>e.numero(o,0,"-",!1)},{nome:"tipo",rotulo:"Tipo de Afastamento",classes:"",classesCelula:"",estilos:{width:"100%",maxWidth:"300px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"300px",textAlign:"left"},formatador:({valor:o})=>o||""},{nome:"cargoAtual",rotulo:"Cargo Atual",classes:"",classesCelula:({valor:o})=>o?"":t.valorModificado??"",estilos:{width:"100%",maxWidth:"100px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"100px",textAlign:"center"},formatador:({valor:o})=>e.opcao(o,"-")},{nome:"carreira",rotulo:"Carreira",classes:"",classesCelula:({valor:o})=>o?"":t.valorModificado??"",estilos:{width:"100%",maxWidth:"100px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"100px",textAlign:"center"},formatador:({valor:o})=>e.opcao(o,"-")},{nome:"servicoPublico",rotulo:"Serv. Público",classes:"",classesCelula:({valor:o})=>o?"":t.valorModificado??"",estilos:{width:"100%",maxWidth:"100px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"100px",textAlign:"center"},formatador:({valor:o})=>e.opcao(o,"-")},{nome:"paraAposentadoria",rotulo:"Aposentadoria",classes:"",classesCelula:({valor:o})=>o?"":t.valorModificado??"",estilos:{width:"100%",maxWidth:"100px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"100px",textAlign:"center"},formatador:({valor:o})=>e.opcao(o,"-")}]}function aS(){const e=la();return[{nome:"ordem",rotulo:"",classes:"",classesCelula:"",estilos:{width:"30px",textAlign:"center"},estilosCelula:{width:"30px",textAlign:"right"},formatador:({valor:t})=>e.inteiro(t,"-")},{nome:"idCtc",rotulo:"CTC nº",classes:"",classesCelula:"",estilos:{width:"100px",textAlign:"center"},estilosCelula:{width:"100px",textAlign:"left"},formatador:({valor:t})=>t||"-"},{nome:"totalCalculado",rotulo:"Total dias Calculado",classes:"",classesCelula:"",estilos:{width:"45px",textAlign:"center"},estilosCelula:{width:"45px",textAlign:"center"},formatador:({valor:t})=>e.numero(t,0,"-")},{nome:"totalCtc",rotulo:"Total dias CTC",classes:"",classesCelula:"",estilos:{width:"45px",textAlign:"center"},estilosCelula:{width:"45px",textAlign:"center"},formatador:({valor:t})=>e.numero(t,0,"-")},{nome:"diferencaComplementar",rotulo:"Complementação (diferença)",classes:"",classesCelula:"",estilos:{width:"45px",textAlign:"center"},estilosCelula:{width:"45px",textAlign:"center"},formatador:({valor:t})=>e.numero(t,0,"-")},{nome:"dataFinal",rotulo:"Computada Em",classes:"",classesCelula:"",estilos:{width:"70px",textAlign:"center"},estilosCelula:{width:"70px",textAlign:"center"},formatador:({valor:t})=>e.data(t,"-")}]}function iS(){const e=la(),t=Xa().classes.tabela;return[{nome:"ordem",rotulo:"",classes:"",classesCelula:"",estilos:{width:"30px",textAlign:"center"},estilosCelula:{width:"30px",textAlign:"right"},formatador:({valor:o})=>e.inteiro(o,"-")},{nome:"dataInicial",rotulo:"Início",classes:"",classesCelula:"",estilos:{width:"68px",textAlign:"center"},estilosCelula:{width:"68px",textAlign:"center"},formatador:({valor:o})=>e.data(o,"-")},{nome:"dataFinal",rotulo:"Término",classes:"",classesCelula:"",estilos:{width:"68px",textAlign:"center"},estilosCelula:{width:"68px",textAlign:"center"},formatador:({valor:o})=>e.data(o,"-")},{nome:"descricao",rotulo:"Descrição",classes:"",classesCelula:"",estilos:{width:"100%",maxWidth:"180px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"180px",textAlign:"left"},formatador:({valor:o})=>o||""},{nome:"formaContagem",rotulo:"Contagem",classes:"",classesCelula:({dadosPeriodo:o})=>o.formaContagem!==Qe.Comum?t.valorModificado??"":"",estilos:{width:"100%",maxWidth:"90px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"90px",textAlign:"center"},formatador:({valor:o})=>e.rotulo(o,Qe.obterOpcoes(),"-")},{nome:"grauDeficiencia",rotulo:"GD",classes:"",classesCelula:({dadosPeriodo:o})=>o.grauDeficiencia===ke.Grave?t.gradacaoAlta??"":o.grauDeficiencia===ke.Moderado?t.gradacaoMedia??"":o.grauDeficiencia===ke.Leve?t.gradacaoBaixa??"":"",estilos:{width:"35px",maxWidth:"35px",textAlign:"center"},estilosCelula:{width:"35px",maxWidth:"35px",textAlign:"center"},formatador:({dadosPeriodo:o})=>o.grauDeficiencia===ke.Grave?"G":o.grauDeficiencia===ke.Moderado?"M":o.grauDeficiencia===ke.Leve?"L":"-"},{nome:"totalDias",rotulo:["Total",["Bruto"]],classes:"",classesCelula:"",estilos:{width:"45px",textAlign:"center"},estilosCelula:{width:"45px",textAlign:"right"},formatador:({valor:o})=>e.numero(o,0,"-")},{nome:"tempoSimples",rotulo:["Simples",["Anos","Meses","Dias"]],classes:"",classesCelula:"",estilos:{width:"90px",padding:"0 0",textAlign:"center"},estilosCelula:{width:"30px",textAlign:"right"},formatador:({valor:o})=>e.tempoContribuicaoTabulado365(o,"-")},{nome:"fatorConversao",rotulo:"Fator",classes:"",classesCelula:({dadosPeriodo:o})=>o.formaContagem!==Qe.Comum?t.valorModificado??"":"",estilos:{width:"50px",textAlign:"center"},estilosCelula:{width:"50px",textAlign:"center"},formatador:({valor:o})=>e.numero(o,2,"-")},{nome:"tempoConvertido",rotulo:["Convertido",["Anos","Meses","Dias"]],classes:"",classesCelula:"",estilos:{width:"90px",padding:"0 0",textAlign:"center"},estilosCelula:{width:"30px",textAlign:"right"},formatador:({valor:o})=>e.tempoContribuicaoTabulado365(o,"-")},{nome:"totalDiasLiquido",rotulo:["Total",["Líq."]],classes:"",classesCelula:"",estilos:{width:"45px",textAlign:"center"},estilosCelula:{width:"45px",textAlign:"right"},formatador:({valor:o})=>e.numero(o,0,"-")},{nome:"metodoCalculoDias",rotulo:"Método",classes:"",classesCelula:"",estilos:{width:"100%",maxWidth:"90px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"90px",textAlign:"center"},formatador:({valor:o})=>e.rotulo(o,io.obterOpcoes(),"-")},{nome:"notaComputo",rotulo:"Computado",classes:"",classesCelula:"",estilos:{width:"100%",maxWidth:"105px",textAlign:"center"},estilosCelula:{width:"100%",maxWidth:"105px",textAlign:"center"},formatador:({valor:o})=>o}]}function Du(){const e=Zt(),t=ks(),o=hg();return Ia(`${e.nome}-config-store`,()=>{const i=R(!0),r=R(!0),A={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:r,atualizar:l=>r.value=l,parametros:{nome:"mostrar-observacoes",rotulo:"Mostrar observações nas notas"}}},n={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:i,atualizar:l=>i.value=l,parametros:{nome:"mostrar-alertas",rotulo:"Mostrar faixas de alerta de inconsistência"}}},s=F(()=>({titulo:"Contagem de Tempo",secoes:[{titulo:"Contagem de Tempo",cor:"transparent",linhas:[[A],[n]]}]}));return{mostrarAlertas:i,mostrarObservacoes:r,configEsquema:s,opcoesGerais:t,gerarTextos:o}},{persist:{omit:["configEsquema","opcoesGerais","gerarTextos"],serializer:{deserialize:i=>JSON.parse(i,ko),serialize:JSON.stringify}}})()}function xu(){const e=la(),t=ln(),o=sn(),a=cn(),i=Du(),r=Xa().classes.tabela,A=iS(),n=aS(),s=oS(),l=F(()=>i.opcoesGerais.opcaoTamanhoFonte===Ac.Pequena?220:i.opcoesGerais.opcaoTamanhoFonte===Ac.Media?190:150);function c(N){const x=o.der&&N&&To(N,o.der),M=o.derReafirmada&&N&&To(N,o.derReafirmada);return x||M?"Demonstrativo":"Demonstrativo (ESTIMATIVAS)"}function u(N){return`${i.opcoesGerais.identificador} (${N})`}function d(N){const x=[];if(!N)return x;const M=o.der&&N&&To(N,o.der),X=o.derReafirmada&&N&&To(N,o.derReafirmada),ae=M||X?"Data de apuração":"Projeção até";let L=N;return M?L=o.der:X&&(L=o.derReafirmada),x.push({titulo:"Servidor",bloco:{Nome:e.truncarTexto(t.nome??"não identificado",50),Sexo:e.rotulo(t.sexo,V.obterOpcoes(),"-"),Nascimento:e.data(t.nascimento,"-")}},{titulo:"Parâmetros",bloco:{"Opção pelo Funpresp":t.opcaoFunpresp?"Sim":"Não",[ae]:e.data(L,"-")}}),x}function m(){return"Em decorrência do critério convencionado para o RPPS (art. 186, VII e art. 5º, § 11, da Portaria MTP nº 1.467/2022), a saber, 1 ano = 365 dias e 1 mês = 30 dias, o resultado de 12 meses `não` representa um ano, pois 12 meses x 30 dias = 360 dias, ao passo que um ano deverá contar com 365 dias."}function g(N){const x=A.map(X=>{const{nome:ae,rotulo:L,classes:j,estilos:te}=X;return te.fontSize=i.opcoesGerais.tamanhoFonte.subtitulo,ae==="descricao"&&(te.maxWidth=`${l.value}px`),{nome:ae,rotulo:L,classes:j,estilos:te}}),M=N.map((X,ae)=>{const L=X.excluido||X.formaContagem===Qe.NaoComputar;return A.reduce((j,te)=>{const{nome:Fe,estilosCelula:he,classesCelula:ve,formatador:Ce}=te;let Te=X[Fe];Fe==="ordem"&&(Te=ae+1),Fe==="totalDias"&&(Te=X.tempoSimples),Fe==="totalDiasLiquido"&&(Te=X.tempoConvertido);const fe={valor:Te,dadosPeriodo:X,indiceLinha:ae,dadosPeriodos:N};let Ke="";return L?Ke=r.desabilitada??"":Po(ve)?Ke=ve(fe):typeof ve=="string"&&(Ke=ve),he.fontSize=i.opcoesGerais.tamanhoFonte.corpo,Fe==="descricao"&&(he.maxWidth=`${l.value}px`),j[Fe]={valor:Ce(fe),estilos:he,classes:Ke},j},{})});return{colunas:x,linhas:M,orientacao:"paisagem"}}function p(N){const x=n.map(X=>{const{nome:ae,rotulo:L,classes:j,estilos:te}=X;return te.fontSize=i.opcoesGerais.tamanhoFonte.subtitulo,ae==="descricao"&&(te.maxWidth=`${l.value}px`),{nome:ae,rotulo:L,classes:j,estilos:te}}),M=N.map((X,ae)=>n.reduce((L,j)=>{const{nome:te,estilosCelula:Fe,classesCelula:he,formatador:ve}=j;let Ce=X[te];te==="ordem"&&(Ce=ae+1);const Te={valor:Ce,dadoCtc:X,indiceLinha:ae};let fe="";return Po(he)?fe=he(Te):typeof he=="string"&&(fe=he),Fe.fontSize=i.opcoesGerais.tamanhoFonte.corpo,te==="descricao"&&(Fe.maxWidth=`${l.value}px`),L[te]={valor:ve(Te),estilos:Fe,classes:fe},L},{}));return{colunas:x,linhas:M,orientacao:"paisagem"}}function f(N){if(!N||N.length===0)return{colunas:[],linhas:[],orientacao:"paisagem"};const x=s.map(X=>{const{nome:ae,rotulo:L,classes:j,estilos:te}=X;return te.fontSize=i.opcoesGerais.tamanhoFonte.subtitulo,ae==="descricao"&&(te.maxWidth=`${l.value}px`),{nome:ae,rotulo:L,classes:j,estilos:te}}),M=N.map((X,ae)=>{const L=X.excluido;return s.reduce((j,te)=>{const{nome:Fe,estilosCelula:he,classesCelula:ve,formatador:Ce}=te;let Te=X[Fe];Fe==="ordem"&&(Te=ae+1);const fe={valor:Te,dadosAfastamento:X,indiceLinha:ae};let Ke="";return L?Ke=r.desabilitada??"":Po(ve)?Ke=ve(fe):typeof ve=="string"&&(Ke=ve),he.fontSize=i.opcoesGerais.tamanhoFonte.corpo,Fe==="descricao"&&(he.maxWidth=`${l.value}px`),j[Fe]={valor:Ce(fe),estilos:he,classes:Ke},j},{})});return{colunas:x,linhas:M,orientacao:"paisagem"}}function v(N){const{totalGeral:x=!1,destacar:M=!1,posicao:X="right"}=N;let ae="";x?ae="bg-blue-2":M&&(ae="bg-blue-1");const L=M||x?"text-bold":"",j=x?"text-left":`text-${X}`;return`${ae} ${L} ${j}`}function h(N){return N.map(M=>{let X={fontSize:i.opcoesGerais.tamanhoFonte.subtitulo};if(Re(M.tamanhoFonte)&&(X={fontSize:i.opcoesGerais.tamanhoFonte[M.tamanhoFonte]}),M.totais===void 0){const j=v({totalGeral:!0});return{titulo:{valor:M.titulo,colspan:13,classes:j,estilos:X}}}const ae=M.destacar,L={titulo:{valor:M.titulo,colspan:6,classes:v({destacar:ae,posicao:"left"}),estilos:X},totalDias:{valor:e.numero(M.totais.simples,0,"-"),classes:v({destacar:ae,posicao:"right"}),estilos:X},tempoSimples:{valor:e.tempoContribuicaoTabulado365(M.totais.simples,"-"),classes:v({destacar:ae,posicao:"right"}),estilos:X},fator:{valor:e.numero(M.totais.fator,2,"-"),classes:v({destacar:ae,posicao:"center"}),estilos:X},tempoConvertido:{valor:e.tempoContribuicaoTabulado365(M.totais.convertido,"-"),classes:v({destacar:ae,posicao:"right"}),estilos:X},totalDiasLiquido:{valor:e.numero(M.totais.convertido,0,"-"),classes:v({destacar:ae,posicao:"right"}),estilos:X}};return L.final={valor:"",colspan:4,classes:v({destacar:ae})},L})}function B(N,x=[],M){if(!N||!x||!M)return[];const X=o.der&&N&&To(N,o.der),ae=o.derReafirmada&&N&&To(N,o.derReafirmada),L=[];L.push({titulo:"Totais"});for(const[j,te]of x.entries()){if(Re(te)){L.push({titulo:te});continue}if(j===0){L.push({titulo:te.rotulo+(X||ae?" (Data Apuração)":""),destacar:!0,totais:te});continue}L.push({titulo:te.rotulo??"",totais:te})}return h(L)}function b(N){const x=[];for(const M of N){const{notas:X}=M;if(Array.isArray(X)&&X.length>0){const ae=[...X];if(Va(M.observacao)&&i.mostrarObservacoes&&ae.push(M.observacao),ae.length>0){const L=e.data(M.dataInicial),j=e.data(M.dataFinal),te=`- De ${L} a ${j}`,Fe=ae.length>1?`${te}: (1) ${ae[0]}; (2) ${ae[1]}.`:`${te}: ${ae[0]}.`;x.push(Fe)}}}return x}function Q(N,x){let M="";return x==="idade"||x==="idadePostergada"?M=e.tempoContribuicao365(N,"-"):x==="pedagio"||x==="tempoTotal"||x==="tempoServicoPublico"||x==="tempoCarreira"||x==="tempoCargo"||x==="tempoEspecial"||x==="tempoMagisterio"||x==="tempoPcd"||x==="tempoDeficiencia"?M=N>0?` ${e.tempoContribuicao365(N,"-")} (${e.numero(N,0)} dias)`:"-":x==="deficiencia"?M=e.opcao(!!N):x==="ingressoNoServicoPublico"?M=e.data(new Date(N)):x==="pontos"&&(M=`${e.inteiro(N/365,"-")} (${e.numero(N,0)} dias - ${e.tempoContribuicao365(N,"-")})`),M}function y(N,x=!1){const M=x?N.dadosApuracao.naImplementacao?.valoresApurados:N.dadosApuracao.naApuracao.valoresApurados;if(!M)return[[],[]];const X=[],ae=[];for(const[L,j]of Object.entries(M))if(j){const te=j.rotulo.charAt(0).toLocaleUpperCase()+j.rotulo.slice(1),Fe=Q(j.resultado.requisito,L),he=Q(j.resultado.apurado,L),ve=j.resultado.nota;X.push({rotulo:te,valor:he,nota:ve}),ae.push({rotulo:te,valor:Fe,nota:ve})}return[X,ae]}function I(N,x=!1){const M=x?N.dadosApuracao.naImplementacao?.coeficiente:N.dadosApuracao.naApuracao.coeficiente;if(M)return{valor:e.percentual(M.valor,0,"-"),nota:M.nota}}function D(N,x=!1){const M=x?N.dadosApuracao.naImplementacao?.baseProventos:N.dadosApuracao.naApuracao.baseProventos;if(M)return{base:fs.obterRotulo(M.base)??"-",limitadoTetoRgps:M.limitadoTetoRgps?"Sim":"Não",paridadeReajuste:M.paridadeReajuste?"Sim":"Não",nota:M.nota}}function O(N,x=!1){const M=`${N.descricao} (${sA.obterRotulo(N.fundamento)})`,X=N.dadosApuracao.temDireito,ae=x?N.dadosApuracao.naImplementacao.data:N.dadosApuracao.naApuracao.data,L=e.data(ae,"-"),[j,te]=y(N,x),Fe=I(N,x),he=D(N,x),ve=N.alerta;return{descricao:M,cumprido:X,apuradoEm:L,requisitos:te,apurados:j,coeficiente:Fe,baseProventos:he,alerta:ve,beneficioAnalisado:N}}function S(N){return O(N,!1)}function k(N){return O(N,!0)}function W(N,x){if(!N||!x)return{cumpridos:[],naoCumpridos:[],possivelReafirmacao:[],nasAlteracoes:[],regrasProgressivas:{cumpridos:[],naoCumpridos:[],possivelReafirmacao:[]}};const M=x.cumpridos.map(S).filter(he=>he!==void 0),X=x.naoCumpridos.map(S).filter(he=>he!==void 0),ae=x.possivelReafirmacao.map(k).filter(he=>he!==void 0),L=x.nasAlteracoes.map(he=>({rotulo:he.rotulo,beneficios:he.resultado.map(S).filter(ve=>ve!==void 0)})),j=x.regrasProgressivas.map(he=>({rotulo:he.rotulo,beneficios:he.cumpridos.map(S).filter(Ce=>Ce!==void 0)})),te=x.regrasProgressivas.map(he=>({rotulo:he.rotulo,beneficios:he.naoCumpridos.map(S).filter(Ce=>Ce!==void 0)})),Fe=x.regrasProgressivas.map(he=>({rotulo:he.rotulo,beneficios:he.possivelReafirmacao.map(S).filter(Ce=>Ce!==void 0)}));return{cumpridos:M,naoCumpridos:X,possivelReafirmacao:ae,nasAlteracoes:L,regrasProgressivas:{cumpridos:j,naoCumpridos:te,possivelReafirmacao:Fe}}}function re(){if(a.lista.length)return[{simbolo:"G",cor:"#ec999b",legenda:"Deficiência Grave"},{simbolo:"M",cor:"#fde0b4",legenda:"Deficiência Moderada"},{simbolo:"L",cor:"#c9e6ca",legenda:"Deficiência Leve"}]}function $(){return Object.values(oA.API).map(x=>({simbolo:oA.obterRotuloAbreviado(x),cor:"#e0e0e0",legenda:oA.obterRotulo(x)}))}function z(){return Object.values(io.obterOpcoes()).map(x=>({simbolo:x.valor,cor:"#e0e0e0",legenda:io.obterExplicacao(x.valor)}))}return{gerarTitulo:c,gerarNomeDoArquivo:u,gerarDadosTabela:g,gerarDadosTabelaCtc:p,gerarDadosTabelaAfastamentos:f,gerarBlocosInformacoes:d,gerarAvisoInconsistencia365:m,gerarLinhasTotais:B,gerarNotas:b,gerarDadosBeneficio:O,gerarDadosBeneficios:W,gerarLegendaPcd:re,gerarLegendaComputado:$,gerarLegendaMetodo:z}}const rS={key:2},AS={key:0},nS=we({__name:"RppsBeneficios",props:{dataApuracao:{},beneficios:{},cores:{},tamanhoFonte:{},mostrarAlertas:{type:Boolean}},emits:["reafirmar"],setup(e,{emit:t}){const o=t,a=hg(),{gerarDadosBeneficios:i}=xu(),r=F(()=>i(e.dataApuracao,e.beneficios));function A(n){return a.beneficios(n.map(({beneficioAnalisado:s})=>s))}return(n,s)=>{const l=MU,c=gg,u=tS;return w(),H(Se,null,[C(r).cumpridos.length||C(r).regrasProgressivas.cumpridos.length?(w(),H("div",{key:0,class:be(C($e).quebrarPagina)},[E(c,{subtitulo:"Requisitos Cumpridos","cor-fundo":e.cores.cumprido.fundo,"cor-borda":e.cores.cumprido.borda},{default:U(()=>[E(l,{titulo:"Requisitos cumpridos",conteudo:A(C(r).cumpridos),class:be([C($e).naoImprimir,"q-ml-sm"])},null,8,["conteudo","class"])]),_:1},8,["cor-fundo","cor-borda"]),(w(!0),H(Se,null,Ne(C(r).cumpridos,(d,m)=>(w(),K(u,{key:`cumpridos-${m}`,beneficio:d,cor:e.cores.cumprido.fundo,"rotulo-apuracao":"Apurado até","mostrar-alerta":e.mostrarAlertas,style:Ze({fontSize:e.tamanhoFonte})},null,8,["beneficio","cor","mostrar-alerta","style"]))),128)),C(r).regrasProgressivas.cumpridos.length?(w(!0),H(Se,{key:0},Ne(C(r).regrasProgressivas.cumpridos,d=>(w(),H(Se,{key:d.rotulo},[(w(!0),H(Se,null,Ne(d.beneficios,(m,g)=>(w(),K(c,{key:`regras-progressivas-cumpridos-${d.rotulo}-${g}`,subtitulo:d.rotulo,"cor-fundo":e.cores.cumprido.fundo,"cor-borda":e.cores.cumprido.borda},{default:U(()=>[E(l,{titulo:"Requisitos cumpridos",conteudo:A([m]),class:be([C($e).naoImprimir,"q-ml-sm"])},null,8,["conteudo","class"])]),_:2},1032,["subtitulo","cor-fundo","cor-borda"]))),128)),(w(!0),H(Se,null,Ne(d.beneficios,(m,g)=>(w(),K(u,{key:`regras-progressivas-cumpridos-${d.rotulo}-${g}`,beneficio:m,cor:e.cores.cumprido.fundo,"rotulo-apuracao":"Apurado até","mostrar-alerta":e.mostrarAlertas,style:Ze({fontSize:e.tamanhoFonte})},null,8,["beneficio","cor","mostrar-alerta","style"]))),128))],64))),128)):ge("",!0)],2)):ge("",!0),C(r).possivelReafirmacao.length||C(r).regrasProgressivas.possivelReafirmacao.length?(w(),H("div",{key:1,class:be(C($e).quebrarPagina)},[e.beneficios.possivelReafirmacao.length?(w(),K(c,{key:0,subtitulo:"Estimativas de Cumprimento","cor-fundo":e.cores.possivelReafirmacao.fundo,"cor-borda":e.cores.possivelReafirmacao.borda},null,8,["cor-fundo","cor-borda"])):ge("",!0),(w(!0),H(Se,null,Ne(C(r).possivelReafirmacao,(d,m)=>(w(),K(u,{key:`possivel-reafirmacao-${m}`,beneficio:d,cor:e.cores.possivelReafirmacao.fundo,"rotulo-apuracao":"Implementado em",style:Ze({fontSize:e.tamanhoFonte}),"botao-reafirmar":!0,"mostrar-alerta":e.mostrarAlertas,onReafirmar:g=>o("reafirmar",d)},null,8,["beneficio","cor","style","mostrar-alerta","onReafirmar"]))),128))],2)):ge("",!0),C(r).nasAlteracoes.length?(w(),H("div",rS,[(w(!0),H(Se,null,Ne(C(r).nasAlteracoes,d=>(w(),H(Se,{key:d.rotulo},[d.beneficios.length?(w(),H("div",AS,[E(c,{subtitulo:d.rotulo,"cor-fundo":e.cores.alteracoes.fundo,"cor-borda":e.cores.alteracoes.borda},{default:U(()=>[E(l,{titulo:"Requisitos cumpridos",conteudo:A(d.beneficios),class:be([C($e).naoImprimir,"q-ml-sm"])},null,8,["conteudo","class"])]),_:2},1032,["subtitulo","cor-fundo","cor-borda"]),(w(!0),H(Se,null,Ne(d.beneficios,(m,g)=>(w(),K(u,{key:`nas-alteracoes-${g}`,beneficio:m,cor:e.cores.alteracoes.fundo,"rotulo-apuracao":"Apurado até","mostrar-alerta":e.mostrarAlertas,style:Ze({fontSize:e.tamanhoFonte})},null,8,["beneficio","cor","mostrar-alerta","style"]))),128))])):ge("",!0)],64))),128))])):ge("",!0),C(r).naoCumpridos.length||C(r).regrasProgressivas.naoCumpridos.length?(w(),H("div",{key:3,class:be(C($e).quebrarPagina)},[E(c,{subtitulo:"Requisitos Não Cumpridos","cor-fundo":e.cores.naoCumprido.fundo,"cor-borda":e.cores.naoCumprido.borda},{default:U(()=>[E(l,{titulo:"Requisitos não cumpridos",conteudo:A(C(r).naoCumpridos),class:be([C($e).naoImprimir,"q-ml-sm"])},null,8,["conteudo","class"])]),_:1},8,["cor-fundo","cor-borda"]),(w(!0),H(Se,null,Ne(C(r).naoCumpridos,(d,m)=>(w(),K(u,{key:`nao-cumpridos-${m}`,beneficio:d,cor:e.cores.naoCumprido.fundo,"rotulo-apuracao":"Apurado até","mostrar-alerta":e.mostrarAlertas,style:Ze({fontSize:e.tamanhoFonte})},null,8,["beneficio","cor","mostrar-alerta","style"]))),128))],2)):ge("",!0)],64)}}}),sS=Object.assign(nS,{__name:"RppsBeneficios"}),lS={class:"row items-center"},cS={class:"text-h6 text-bold"},uS={key:0},dS=we({__name:"RppsDemonstrativoTempoGrupo",props:{dataApuracao:{},grupo:{},expandido:{type:Boolean,default:!1}},emits:["reafirmarDer","click"],setup(e,{emit:t}){const o=t,a=Du(),{gerarDadosTabela:i,gerarDadosTabelaCtc:r,gerarAvisoInconsistencia365:A,gerarNotas:n,gerarLinhasTotais:s,gerarLegendaPcd:l,gerarLegendaComputado:c,gerarLegendaMetodo:u}=xu(),d=F(()=>zi.obterRotulo(e.grupo.tipoAposentadoria)+(e.grupo.aplicarRegrasPcd?" PCD":"")),m=F(()=>e.expandido?$e.quebrarPagina:$e.naoImprimir),g=F(()=>(e.grupo.resultado?.cumpridos?.length??0)>0||e.grupo.resultado?.regrasProgressivas?.some(k=>(k.cumpridos?.length??0)>0)),p=F(()=>(e.grupo.resultado?.possivelReafirmacao?.length??0)>0||e.grupo.resultado?.regrasProgressivas?.some(k=>(k.possivelReafirmacao?.length??0)>0)),f=F(()=>!(g.value||p.value)),v=F(()=>l()),h=F(()=>c()),B=F(()=>u()),b=F(()=>i(e.grupo.dadosPeriodos)),Q=F(()=>r(e.grupo.dadosCtc)),y=F(()=>A()),I=F(()=>n(e.grupo.dadosPeriodos)),D=F(()=>s(e.dataApuracao,e.grupo.demonstrativo,e.grupo.dadosPeriodos)),O=F(()=>({cumprido:a.opcoesGerais.cores.verde,naoCumprido:a.opcoesGerais.cores.vermelho,possivelReafirmacao:a.opcoesGerais.cores.amarelo,regrasProgressivas:a.opcoesGerais.cores.cinzaAzulado,alteracoes:a.opcoesGerais.cores.cinzaAzulado}));function S(k){const W=new oe(k.apuradoEm);W.dataValida()&&o("reafirmarDer",W.nativo())}return(k,W)=>{const re=Nt,$=St,z=vg,N=CU,x=QU,M=UU,X=sS;return w(),H("div",null,[q("div",{class:be(["bg-blue-2 q-my-md q-mx-sm q-px-md q-py-sm",C(m)]),style:{position:"relative",cursor:"pointer","user-select":"none","border-left":"10px solid #4ea5f3"},onClick:W[0]||(W[0]=ae=>o("click"))},[q("div",lS,[q("div",cS,le(C(d)),1),q("div",{class:be(C($e).naoImprimir)},[C(g)?(w(),K(re,{key:0,name:"mdiCheckCircle"in k?k.mdiCheckCircle:C(df),color:"green-8",size:"22px","text-color":"white",class:"q-ml-md",title:"Requisitos cumpridos"},null,8,["name"])):ge("",!0),C(p)?(w(),K(re,{key:1,name:"mdiAlertCircle"in k?k.mdiAlertCircle:C(Ps),color:"orange-10",size:"22px","text-color":"white",class:"q-ml-md",title:"Estimativa de cumprimento"},null,8,["name"])):ge("",!0),C(f)?(w(),K(re,{key:2,name:"mdiCloseCircle"in k?k.mdiCloseCircle:C(zh),color:"red-8",size:"22px","text-color":"white",class:"q-ml-md",title:"Nenhum requisito cumprido"},null,8,["name"])):ge("",!0)],2)]),q("div",{class:be(C($e).naoImprimir),style:{position:"absolute",right:"0",top:"50%",transform:"translateY(-50%)"}},[E($,{flat:"",round:"",icon:e.expandido?"mdiChevronUp"in k?k.mdiChevronUp:C(ou):"mdiChevronDown"in k?k.mdiChevronDown:C(Ss),class:"q-mr-sm",title:e.expandido?"Recolher":"Expandir"},null,8,["icon","title"])],2)],2),e.expandido?(w(),H("div",uS,[E(z,{titulo:"Períodos Calculados",colunas:C(b).colunas,linhas:C(b).linhas,totais:C(D)},null,8,["colunas","linhas","totais"]),C(Q).linhas.length?(w(),K(z,{key:0,titulo:"",descritivo:"Detalhamento das Complementações de CTC (método INSS)",colunas:C(Q).colunas,linhas:C(Q).linhas},null,8,["colunas","linhas"])):ge("",!0),E(N,{mensagem:C(y),classes:"bg-grey-3 text-black"},null,8,["mensagem"]),C(v)?(w(),K(x,{key:1,titulo:"Legenda PCD",legenda:C(v)},null,8,["legenda"])):ge("",!0),C(I)&&C(I).length>0?(w(),K(M,{key:2,titulo:"Notas",notas:C(I)},null,8,["notas"])):ge("",!0),C(h)?(w(),K(x,{key:3,titulo:"Legenda 'Computado'",legenda:C(h)},null,8,["legenda"])):ge("",!0),C(B)?(w(),K(x,{key:4,titulo:"Métodos de Cálculo",legenda:C(B)},null,8,["legenda"])):ge("",!0),E(X,{"data-apuracao":e.dataApuracao,beneficios:e.grupo.resultado,cores:C(O),"mostrar-alertas":C(a).mostrarAlertas,"tamanho-fonte":C(a).opcoesGerais.tamanhoFonte.titulo,onReafirmar:S},null,8,["data-apuracao","beneficios","cores","mostrar-alertas","tamanho-fonte"])])):ge("",!0)])}}}),mS=Object.assign(dS,{__name:"RppsDemonstrativoTempoGrupo"}),fS={class:"text-red-10 text-bold q-ma-md"},pS=we({__name:"FcBannerErro",props:{mensagem:{}},setup(e){return(t,o)=>{const a=Nt,i=oC;return w(),H("div",fS,[E(i,{class:"bg-red-2",rounded:""},{avatar:U(()=>[E(a,{name:C(Ps),color:"negative"},null,8,["name"])]),default:U(()=>[Pt(" "+le(e.mensagem),1)]),_:1})])}}}),gS=Object.assign(pS,{__name:"FcBannerErro"}),vS={style:{display:"flex","align-items":"center","justify-content":"center","min-height":"40px"},class:"q-ma-lg"},hS={class:"q-ml-md text-subtitle1 text-blue-10"},BS=we({__name:"FcSpinnerCalculando",props:{mensagem:{}},setup(e){return(t,o)=>{const a=gb;return w(),H("div",vS,[E(a,{color:"primary",size:"40px"}),q("div",hS,le(e.mensagem),1)])}}}),CS=Object.assign(BS,{__name:"FcSpinnerCalculando"}),bS=""+new URL("cnj_preto.BGjiuJ5_.svg",import.meta.url).href,wS=""+new URL("pdpj_preto.CbPvfLYx.svg",import.meta.url).href,FS=we({__name:"FcDemonstrativoCabecalho",props:{titulo:{}},setup(e){const{classes:t}=Xa();return(o,a)=>(w(),H("div",{class:be(C(t).cabecalho?.container)},[q("div",{class:be(C(t).cabecalho?.logoEsquerda)},[...a[0]||(a[0]=[q("img",{src:bS,style:{height:"36px"},alt:"logo CNJ"},null,-1)])],2),q("div",{class:be(C(t).cabecalho?.titulo??"Demonstrativo")},le(e.titulo),3),q("div",{class:be(C(t).cabecalho?.logoDireita)},[...a[1]||(a[1]=[q("img",{src:wS,style:{height:"36px"},alt:"logo CNJ"},null,-1)])],2)],2))}}),QS=Object.assign(FS,{__name:"FcDemonstrativoCabecalho"}),ES=we({__name:"FcDemonstrativoIdentificacao",setup(e){const t=Eu(),o=ks(),a=la(),i=F(()=>{const r=[];return t.nomeCalculo?r.push({Cálculo:t.nomeCalculo,Processo:t.numero??"-",Autor:t.autor??"-"}):r.push({Processo:t.numero??"-",Autor:t.autor??"-"}),r.push({Protocolo:a.data(t.protocolo,"-"),Citação:a.data(t.citacao,"-")}),r});return(r,A)=>{const n=Uu;return w(),K(n,{blocos:C(i),style:Ze({fontSize:`${C(o).tamanhoFonte.titulo}`})},null,8,["blocos","style"])}}}),yS=Object.assign(ES,{__name:"FcDemonstrativoIdentificacao"}),IS=we({__name:"FcDemonstrativoRodape",setup(e){const t=Zt(),{classes:o}=Xa(),a=`${t.nome} v${t.versao}`,i=`${new Date().toLocaleDateString("pt-BR")} ${new Date().toLocaleTimeString("pt-BR")}`,r=`© Fábrica de Cálculos | ${a} | ${i}`;return(A,n)=>(w(),H("div",{class:be(`${C(o).pagina?.rodape} `)},[q("div",null,le(r))],2))}}),US=Object.assign(IS,{__name:"FcDemonstrativoRodape"});function kd(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),o.push.apply(o,a)}return o}function Rt(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(o),!0).forEach((function(a){ka(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):kd(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}function ka(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function SS(e,t){if(e==null)return{};var o,a,i=(function(A,n){if(A==null)return{};var s,l,c={},u=Object.keys(A);for(l=0;l<u.length;l++)s=u[l],n.indexOf(s)>=0||(c[s]=A[s]);return c})(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}function Mr(e){return(function(t){if(Array.isArray(t))return pl(t)})(e)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(e)||(function(t,o){if(t){if(typeof t=="string")return pl(t,o);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pl(t,o)}})(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function pl(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}var Kd,DS,hn,_o=(Kd=function(e){(function(){var t={}.hasOwnProperty;function o(){for(var a=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var A=typeof r;if(A==="string"||A==="number")a.push(r);else if(Array.isArray(r)){if(r.length){var n=o.apply(null,r);n&&a.push(n)}}else if(A==="object")if(r.toString===Object.prototype.toString)for(var s in r)t.call(r,s)&&r[s]&&a.push(s);else a.push(r.toString())}}return a.join(" ")}e.exports?(o.default=o,e.exports=o):window.classNames=o})()},Kd(hn={path:DS,exports:{},require:function(e,t){return(function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")})(t==null&&hn.path)}},hn.exports),hn.exports),Ai=function(e){return function(t,o){if(!t)return e;var a;typeof t=="string"?a=t:o=t;var i=e;return a&&(i+="__"+a),i+(o?Object.keys(o).reduce((function(r,A){var n=o[A];return n&&(r+=" "+(typeof n=="boolean"?i+"--"+A:i+"--"+A+"_"+n)),r}),""):"")}};function nc(e,t,o){var a,i,r,A,n;function s(){var c=Date.now()-A;c<t&&c>=0?a=setTimeout(s,t-c):(a=null,o||(n=e.apply(r,i),r=i=null))}t==null&&(t=100);var l=function(){r=this,i=arguments,A=Date.now();var c=o&&!a;return a||(a=setTimeout(s,t)),c&&(n=e.apply(r,i),r=i=null),n};return l.clear=function(){a&&(clearTimeout(a),a=null)},l.flush=function(){a&&(n=e.apply(r,i),r=i=null,clearTimeout(a),a=null)},l}nc.debounce=nc;var sc=nc,ze=function(){return ze=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ze.apply(this,arguments)};function Bg(e,t){var o,a;return e&&t?(o=""+e+t[0].toUpperCase()+t.slice(1),a=e+"-"+t):(o=e||t,a=e||t),{name:o,classname:a}}function Cg(e){return/^blob:/.test(e)}function zd(e){return Cg(e)||(function(t){return/^data:/.test(t)})(e)}function $r(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ho(e){return e===void 0}function Jn(e){return typeof e=="object"&&e!==null}function lc(e,t,o){var a={};return Jn(e)?(Object.keys(t).forEach((function(i){Ho(e[i])?a[i]=t[i]:Jn(t[i])?Jn(e[i])?a[i]=lc(e[i],t[i],o[i]):a[i]=e[i]?t[i]:o[i]:t[i]===!0||t[i]===!1?a[i]=!!e[i]:a[i]=e[i]})),a):e?t:o}function Bn(e){var t=Number(e);return Number.isNaN(t)?e:t}function Gd(e){return typeof(e=="number"||(function(t){return typeof t=="object"&&t!==null})(e)&&toString.call(e)=="[object Number]")&&!bg(e)}function bg(e){return e!=e}function wg(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var $A=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},xS=function(e,t){t===void 0&&(t={}),this.type="resize",this.directions=e,this.params=t},Pu=function(e){this.type="move",this.directions=e},PS=(function(){function e(t,o,a,i,r){this.type="drag",this.nativeEvent=t,this.position=a,this.previousPosition=i,this.element=o,this.anchor=r}return e.prototype.shift=function(){var t=this,o=t.element,a=t.anchor,i=t.position;if(o){var r=o.getBoundingClientRect(),A=r.left,n=r.top;return{left:i.left-A-a.left,top:i.top-n-a.top}}return{left:0,top:0}},e})(),_u={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&e.touches.length===1&&(this.touches=Mr(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce((function(t,o){return{clientX:t.clientX+o.clientX/e.touches.length,clientY:t.clientY+o.clientY/e.touches.length}}),{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),o=t.left,a=t.right,i=t.bottom,r=t.top;this.anchor={left:e.clientX-o,top:e.clientY-r,bottom:i-e.clientY,right:a-e.clientX}},processMove:function(e,t){var o=Mr(t);if(this.touches.length){if(this.touches.length===1&&o.length===1){var a=this.$refs.draggable;this.$emit("drag",new PS(e,a,{left:o[0].clientX,top:o[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=o}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};_u.render=function(e,t,o,a,i,r){return w(),K("div",{ref:"draggable",class:o.classname,onTouchstart:t[1]||(t[1]=function(){return r.onTouchStart&&r.onTouchStart.apply(r,arguments)}),onMousedown:t[2]||(t[2]=function(){return r.onMouseDown&&r.onMouseDown.apply(r,arguments)}),onMouseover:t[3]||(t[3]=function(){return r.onMouseOver&&r.onMouseOver.apply(r,arguments)}),onMouseleave:t[4]||(t[4]=function(){return r.onMouseLeave&&r.onMouseLeave.apply(r,arguments)})},[yt(e.$slots,"default")],34)};var gl=Ai("vue-handler-wrapper"),Fg={name:"HandlerWrapper",components:{DraggableElement:_u},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,o=Bg(this.horizontalPosition,this.verticalPosition);e=gl((ka(t={},o.classname,!0),ka(t,"disabled",this.disabled),t))}else e=gl({disabled:this.disabled});return{root:e,draggable:gl("draggable")}}},emits:["leave","enter","drag","drag-end"]};Fg.render=function(e,t,o,a,i,r){var A=Oi("DraggableElement");return w(),K("div",{class:r.classes.root},[E(A,{class:r.classes.draggable,onDrag:t[1]||(t[1]=function(n){return e.$emit("drag",n)}),onDragEnd:t[2]||(t[2]=function(n){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(n){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(n){return e.$emit("enter")})},{default:U((function(){return[yt(e.$slots,"default")]})),_:3},8,["class"])],2)};var _S=Ai("vue-line-wrapper"),Qg={name:"LineWrapper",components:{DraggableElement:_u},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return _S((ka(e={},this.position,!0),ka(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"]};Qg.render=function(e,t,o,a,i,r){var A=Oi("DraggableElement");return w(),K(A,{class:r.classname,onDrag:t[1]||(t[1]=function(n){return e.$emit("drag",n)}),onDragEnd:t[2]||(t[2]=function(n){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(n){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(n){return e.$emit("enter")})},{default:U((function(){return[yt(e.$slots,"default")]})),_:3},8,["class"])};var hi=["left","right","top","bottom"],OS=["left","right"],RS=["top","bottom"],MS=["left","top"],LS=["fill-area","fit-area","stencil","none"],jd={left:0,top:0,width:0,height:0};function Wd(e,t,o){return!(o=o||["width","height","left","top"]).some((function(a){return e[a]!==t[a]}))}function bi(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function lA(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Yo(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function JA(e,t){var o={left:0,top:0,right:0,bottom:0};return hi.forEach((function(a){var i=t[a],r=bi(e)[a];o[a]=i!==void 0&&r!==void 0?a==="left"||a==="top"?Math.max(0,i-r):Math.max(0,r-i):0})),o}function gi(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function Ks(e){return{left:-e.left,top:-e.top}}function Qa(e,t){return ze(ze({},e),{left:e.left+t.left,top:e.top+t.top})}function Ga(e,t,o,a){if(t!==1){if(o){var i=Yo(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(o.left-i.left)*(1-t),top:e.top+e.height*(1-t)/2+(o.top-i.top)*(1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function Mt(e){return e.width/e.height}function cA(e,t){return Math.min(t.right!==void 0&&t.left!==void 0?(t.right-t.left)/e.width:1/0,t.bottom!==void 0&&t.top!==void 0?(t.bottom-t.top)/e.height:1/0)}function uA(e,t){var o={left:0,top:0},a=JA(e,t);return a.left&&a.left>0?o.left=a.left:a.right&&a.right>0&&(o.left=-a.right),a.top&&a.top>0?o.top=a.top:a.bottom&&a.bottom>0&&(o.top=-a.bottom),o}function vl(e,t){var o;return t.minimum&&e<t.minimum?o=t.minimum:t.maximum&&e>t.maximum&&(o=t.maximum),o}function Eg(e,t){var o=Mt(e),a=Mt(t);return t.width<1/0&&t.height<1/0?o>a?{width:t.width,height:t.width/o}:{width:t.height*o,height:t.height}:t.width<1/0?{width:t.width,height:t.width/o}:t.height<1/0?{width:t.height*o,height:t.height}:e}function yg(e,t){var o=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(o))+Math.abs(e.height*Math.sin(o)),height:Math.abs(e.width*Math.sin(o))+Math.abs(e.height*Math.cos(o))}}function ki(e,t){var o=t*Math.PI/180;return{left:e.left*Math.cos(o)-e.top*Math.sin(o),top:e.left*Math.sin(o)+e.top*Math.cos(o)}}function zs(e,t){var o=JA(Zo(e,t),t);return o.left+o.right+o.top+o.bottom?o.left+o.right>o.top+o.bottom?Math.min((e.width+o.left+o.right)/e.width,cA(e,t)):Math.min((e.height+o.top+o.bottom)/e.height,cA(e,t)):1}function Zo(e,t,o){o===void 0&&(o=!1);var a=uA(e,t);return Qa(e,o?Ks(a):a)}function cc(e){return{width:e.right!==void 0&&e.left!==void 0?e.right-e.left:1/0,height:e.bottom!==void 0&&e.top!==void 0?e.bottom-e.top:1/0}}function HS(e,t){return ze(ze({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function Ig(e,t,o){o===void 0&&(o=!0);var a={};return hi.forEach((function(i){var r=e[i],A=t[i];r!==void 0&&A!==void 0?a[i]=i==="left"||i==="top"?o?Math.max(r,A):Math.min(r,A):o?Math.min(r,A):Math.max(r,A):A!==void 0?a[i]=A:r!==void 0&&(a[i]=r)})),a}function Gs(e,t){return Ig(e,t,!0)}function Jd(e){var t=e.size,o=e.aspectRatio,a=e.ignoreMinimum,i=e.sizeRestrictions;return!!((t.correctRatio||Mt(t)>=o.minimum&&Mt(t)<=o.maximum)&&t.height<=i.maxHeight&&t.width<=i.maxWidth&&t.width&&t.height&&(a||t.height>=i.minHeight&&t.width>=i.minWidth))}function Xd(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function _i(e){var t=e.width,o=e.height,a=e.sizeRestrictions,i={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},r={width:Math.max(a.minWidth,Math.min(a.maxWidth,t)),height:Math.max(a.minHeight,Math.min(a.maxHeight,o))};function A(l,c){return c===void 0&&(c=!1),l.reduce((function(u,d){return Jd({size:d,aspectRatio:i,sizeRestrictions:a,ignoreMinimum:c})&&(!u||Xd(d,{width:t,height:o})<Xd(u,{width:t,height:o}))?d:u}),null)}var n=[];i&&[i.minimum,i.maximum].forEach((function(l){l&&n.push({width:r.width,height:r.width/l,correctRatio:!0},{width:r.height*l,height:r.height,correctRatio:!0})})),Jd({size:r,aspectRatio:i,sizeRestrictions:a})&&n.push(r);var s=A(n)||A(n,!0);return s&&{width:s.width,height:s.height}}function uc(e){var t=e.event,o=e.coordinates,a=e.positionRestrictions,i=a===void 0?{}:a,r=Qa(o,t.directions);return Qa(r,uA(r,i))}function TS(e){var t=e.coordinates,o=e.transform,a=e.imageSize,i=e.sizeRestrictions,r=e.positionRestrictions,A=e.aspectRatio,n=e.visibleArea,s=function(c,u){return uc({coordinates:c,positionRestrictions:r,event:new Pu({left:u.left-c.left,top:u.top-c.top})})},l=ze({},t);return(Array.isArray(o)?o:[o]).forEach((function(c){var u={};Ho((u=typeof c=="function"?c({coordinates:l,imageSize:a,visibleArea:n}):c).width)&&Ho(u.height)||(l=(function(d,m){var g=ze(ze(ze({},d),_i({width:m.width,height:m.height,sizeRestrictions:i,aspectRatio:A})),{left:0,top:0});return s(g,{left:d.left,top:d.top})})(l,ze(ze({},l),u))),Ho(u.left)&&Ho(u.top)||(l=s(l,ze(ze({},l),u)))})),l}function $S(e){e.event;var t=e.getAreaRestrictions,o=e.boundaries,a=e.coordinates,i=e.visibleArea;e.aspectRatio;var r=e.stencilSize,A=e.sizeRestrictions,n=e.positionRestrictions;e.stencilReference;var s,l,c,u=ze({},a),d=ze({},i),m=ze({},r);s=Mt(m),l=Mt(u),c===void 0&&(c=.001),(s===0||l===0?Math.abs(l-s)<c:Math.abs(l/s)<1+c&&Math.abs(l/s)>1-c)||(u=ze(ze({},u),_i({sizeRestrictions:A,width:u.width,height:u.height,aspectRatio:{minimum:Mt(m),maximum:Mt(m)}})));var g=zs(d=Ga(d,u.width*o.width/(d.width*m.width)),t({visibleArea:d,type:"resize"}));return g!==1&&(d=Ga(d,g),u=Ga(u,g)),d=Zo(d=Qa(d,lA(Yo(u),Yo(d))),t({visibleArea:d,type:"move"})),{coordinates:u=Zo(u,Gs(bi(d),n)),visibleArea:d}}function VS(e){var t=e.event,o=e.getAreaRestrictions,a=e.boundaries,i=e.coordinates,r=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var A=e.positionRestrictions;e.stencilReference;var n=ze({},i),s=ze({},r);if(i&&r&&t.type!=="manipulateImage"){var l={width:0,height:0};s.width,a.width,Mt(a)>Mt(n)?(l.height=.8*a.height,l.width=l.height*Mt(n)):(l.width=.8*a.width,l.height=l.width*Mt(n));var c=zs(s=Ga(s,n.width*a.width/(s.width*l.width)),o({visibleArea:s,type:"resize"}));s=Ga(s,c),c!==1&&(l.height/=c,l.width/=c),s=Zo(s=Qa(s,lA(Yo(n),Yo(s))),o({visibleArea:s,type:"move"})),n=Zo(n,Gs(bi(s),A))}return{coordinates:n,visibleArea:s}}function NS(e){var t=e.event,o=e.coordinates,a=e.visibleArea,i=e.getAreaRestrictions,r=ze({},a),A=ze({},o);if(t.type==="setCoordinates"){var n=Math.max(0,A.width-r.width),s=Math.max(0,A.height-r.height);n>s?r=Ga(r,Math.min(A.width/r.width,cA(r,i({visibleArea:r,type:"resize"})))):s>n&&(r=Ga(r,Math.min(A.height/r.height,cA(r,i({visibleArea:r,type:"resize"}))))),r=Zo(r=Qa(r,Ks(uA(A,bi(r)))),i({visibleArea:r,type:"move"}))}return{visibleArea:r,coordinates:A}}function qS(e){var t=e.imageSize,o=e.visibleArea,a=e.coordinates,i=o||t;return{left:(o?o.left:0)+i.width/2-a.width/2,top:(o?o.top:0)+i.height/2-a.height/2}}function kS(e){var t=e.imageSize,o=e.visibleArea,a=e.aspectRatio,i=e.sizeRestrictions,r=o||t,A=Math.min(a.maximum||1/0,Math.max(a.minimum||0,Mt(r))),n=r.width<r.height?{width:.8*r.width,height:.8*r.width/A}:{height:.8*r.height,width:.8*r.height*A};return _i(ze(ze({},n),{aspectRatio:a,sizeRestrictions:i}))}function KS(e){var t,o,a=e.imageSize,i=e.visibleArea,r=e.boundaries,A=e.aspectRatio,n=e.sizeRestrictions,s=e.stencilSize,l=i||a;return Mt(l)>Mt(r)?o=(t=s.height*l.height/r.height)*Mt(s):t=(o=s.width*l.width/r.width)/Mt(s),_i({width:o,height:t,aspectRatio:A,sizeRestrictions:n})}function zS(e){var t=e.getAreaRestrictions,o=e.coordinates,a=e.imageSize,i=Mt(e.boundaries);if(o){var r={height:Math.max(o.height,a.height),width:Math.max(o.width,a.width)},A=Eg({width:Mt(r)>i?r.width:r.height*i,height:Mt(r)>i?r.width/i:r.height},cc(t())),n={left:o.left+o.width/2-A.width/2,top:o.top+o.height/2-A.height/2,width:A.width,height:A.height},s=JA(o,bi(ze({left:0,top:0},a))),l={};return!s.left&&!s.right&&n.width<=a.width&&(l.left=0,l.right=a.width),!s.top&&!s.bottom&&n.height<=a.height&&(l.top=0,l.bottom=a.height),Zo(n,l)}var c=Mt(a);return A={height:c>i?a.height:a.width/i,width:c>i?a.height*i:a.width},{left:a.width/2-A.width/2,top:a.height/2-A.height/2,width:A.width,height:A.height}}function Cn(e,t){return Ig(e,bi(t))}function GS(e){var t=e.event,o=e.coordinates,a=e.visibleArea,i=e.sizeRestrictions,r=e.getAreaRestrictions,A=e.positionRestrictions,n=e.adjustStencil,s=t.scale,l=t.move,c=ze({},a),u=ze({},o),d=1,m=1,g=s.factor&&Math.abs(s.factor-1)>.001;c=Qa(c,{left:l.left||0,top:l.top||0});var p={stencil:{minimum:Math.max(i.minWidth?i.minWidth/u.width:0,i.minHeight?i.minHeight/u.height:0),maximum:Math.min(i.maxWidth?i.maxWidth/u.width:1/0,i.maxHeight?i.maxHeight/u.height:1/0,cA(u,A))},area:{maximum:cA(c,r({visibleArea:c,type:"resize"}))}};s.factor&&g&&(s.factor<1?(m=Math.max(s.factor,p.stencil.minimum))>1&&(m=1):s.factor>1&&(m=Math.min(s.factor,Math.min(p.area.maximum,p.stencil.maximum)))<1&&(m=1)),m&&(c=Ga(c,m,s.center));var f=o.left-a.left,v=a.width+a.left-(o.width+o.left),h=o.top-a.top,B=a.height+a.top-(o.height+o.top);return c=Zo(c=Qa(c,uA(c,{left:A.left!==void 0?A.left-f*m:void 0,top:A.top!==void 0?A.top-h*m:void 0,bottom:A.bottom!==void 0?A.bottom+B*m:void 0,right:A.right!==void 0?A.right+v*m:void 0})),r({visibleArea:c,type:"move"})),u.width=u.width*m,u.height=u.height*m,u.left=c.left+f*m,u.top=c.top+h*m,u=Zo(u,Gs(bi(c),A)),s.factor&&g&&n&&(s.factor>1?d=Math.min(p.area.maximum,s.factor)/m:s.factor<1&&(d=Math.max(u.height/c.height,u.width/c.width,s.factor/m)),d!==1&&(c=Qa(c=Zo(c=Ga(c,d,s.factor>1?s.center:Yo(u)),r({visibleArea:c,type:"move"})),Ks(uA(u,bi(c)))))),{coordinates:u,visibleArea:c}}function jS(e){var t=e.aspectRatio,o=e.getAreaRestrictions,a=e.coordinates,i=e.visibleArea,r=e.sizeRestrictions,A=e.positionRestrictions,n=e.imageSize,s=e.previousImageSize,l=e.angle,c=ze({},a),u=ze({},i),d=ki(Yo(ze({left:0,top:0},s)),l);return(c=ze(ze({},_i({sizeRestrictions:r,aspectRatio:t,width:c.width,height:c.height})),ki(Yo(c),l))).left-=d.left-n.width/2+c.width/2,c.top-=d.top-n.height/2+c.height/2,u=Ga(u,zs(u,o({visibleArea:u,type:"resize"}))),{coordinates:c=Zo(c,A),visibleArea:u=Zo(u=Qa(u,lA(Yo(c),Yo(a))),o({visibleArea:u,type:"move"}))}}function WS(e){var t=e.flip,o=e.previousFlip,a=e.rotate,i=e.getAreaRestrictions,r=e.coordinates,A=e.visibleArea,n=e.imageSize,s=ze({},r),l=ze({},A),c=o.horizontal!==t.horizontal,u=o.vertical!==t.vertical;if(c||u){var d=ki({left:n.width/2,top:n.height/2},-a),m=ki(Yo(s),-a),g=ki({left:c?d.left-(m.left-d.left):m.left,top:u?d.top-(m.top-d.top):m.top},a);s=Qa(s,lA(g,Yo(s))),m=ki(Yo(l),-a),l=Zo(l=Qa(l,lA(g=ki({left:c?d.left-(m.left-d.left):m.left,top:u?d.top-(m.top-d.top):m.top},a),Yo(l))),i({visibleArea:l,type:"move"}))}return{coordinates:s,visibleArea:l}}function Yd(e){var t=e.directions,o=e.coordinates,a=e.positionRestrictions,i=a===void 0?{}:a,r=e.sizeRestrictions,A=e.preserveRatio,n=e.compensate,s=ze({},t),l=gi(o,s).width,c=gi(o,s).height;l<0&&(s.left<0&&s.right<0?(s.left=-(o.width-r.minWidth)/(s.left/s.right),s.right=-(o.width-r.minWidth)/(s.right/s.left)):s.left<0?s.left=-(o.width-r.minWidth):s.right<0&&(s.right=-(o.width-r.minWidth))),c<0&&(s.top<0&&s.bottom<0?(s.top=-(o.height-r.minHeight)/(s.top/s.bottom),s.bottom=-(o.height-r.minHeight)/(s.bottom/s.top)):s.top<0?s.top=-(o.height-r.minHeight):s.bottom<0&&(s.bottom=-(o.height-r.minHeight)));var u=JA(gi(o,s),i);n&&(u.left&&u.left>0&&u.right===0?(s.right+=u.left,s.left-=u.left):u.right&&u.right>0&&u.left===0&&(s.left+=u.right,s.right-=u.right),u.top&&u.top>0&&u.bottom===0?(s.bottom+=u.top,s.top-=u.top):u.bottom&&u.bottom>0&&u.top===0&&(s.top+=u.bottom,s.bottom-=u.bottom),u=JA(gi(o,s),i));var d={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(hi.forEach((function(p){var f=u[p];f&&s[p]&&(d[p]=Math.max(0,1-f/s[p]))})),A){var m=Math.min.apply(null,hi.map((function(p){return d[p]})));m!==1/0&&hi.forEach((function(p){s[p]*=m}))}else hi.forEach((function(p){d[p]!==1/0&&(s[p]*=d[p])}));if(l=gi(o,s).width,c=gi(o,s).height,s.right+s.left&&(l>r.maxWidth?d.width=(r.maxWidth-o.width)/(s.right+s.left):l<r.minWidth&&(d.width=(r.minWidth-o.width)/(s.right+s.left))),s.bottom+s.top&&(c>r.maxHeight?d.height=(r.maxHeight-o.height)/(s.bottom+s.top):c<r.minHeight&&(d.height=(r.minHeight-o.height)/(s.bottom+s.top))),A){var g=Math.min(d.width,d.height);g!==1/0&&hi.forEach((function(p){s[p]*=g}))}else d.width!==1/0&&OS.forEach((function(p){s[p]*=d.width})),d.height!==1/0&&RS.forEach((function(p){s[p]*=d.height}));return s}function bn(e,t,o){return t==0&&o==0?e/2:t==0?0:o==0?e:e*Math.abs(t/(t+o))}var JS=Ai("vue-simple-handler"),XS=Ai("vue-simple-handler-wrapper"),Ou={name:"SimpleHandler",components:{HandlerWrapper:Fg},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(ka(e={},this.horizontalPosition,!!this.horizontalPosition),ka(e,this.verticalPosition,!!this.verticalPosition),ka(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),ka(e,"hover",this.hover),e);return{default:_o(JS(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:_o(XS(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};Ou.render=function(e,t,o,a,i,r){var A=Oi("HandlerWrapper");return w(),K(A,{class:r.classes.wrapper,"vertical-position":o.verticalPosition,"horizontal-position":o.horizontalPosition,disabled:o.disabled,onDrag:r.onDrag,onDragEnd:r.onDragEnd,onEnter:r.onEnter,onLeave:r.onLeave},{default:U((function(){return[E("div",{class:r.classes.default},null,2)]})),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var YS=Ai("vue-simple-line"),ZS=Ai("vue-simple-line-wrapper"),Ru={name:"SimpleLine",components:{LineWrapper:Qg},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:_o(YS(ka({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:_o(ZS(ka({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};Ru.render=function(e,t,o,a,i,r){var A=Oi("LineWrapper");return w(),K(A,{class:r.classes.wrapper,position:o.position,disabled:o.disabled,onDrag:r.onDrag,onDragEnd:r.onDragEnd,onEnter:r.onEnter,onLeave:r.onLeave},{default:U((function(){return[E("div",{class:r.classes.root},null,2)]})),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var hl=Ai("vue-bounding-box"),eD=["east","west",null],tD=["south","north",null],Ug={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return Ou}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return Ru}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return eD.forEach((function(t){tD.forEach((function(o){if(t!==o){var a=Bg(t,o),i=a.name,r=a.classname;e.push({name:i,classname:r,verticalDirection:o,horizontalDirection:t})}}))})),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,o=this.linesClasses,a=this.linesWrappersClasses;return{root:hl(),handlers:e,handlersWrappers:t,lines:o,linesWrappers:a}},lineNodes:function(){var e=this,t=[];return this.points.forEach((function(o){o.horizontalDirection&&o.verticalDirection||!e.lines[o.name]||t.push({name:o.name,component:e.linesComponent,class:_o(e.classes.lines.default,e.classes.lines[o.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:_o(e.classes.linesWrappers.default,e.classes.linesWrappers[o.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:o.verticalDirection,horizontalDirection:o.horizontalDirection,disabled:!e.resizable})})),t},handlerNodes:function(){var e=this,t=[],o=this.width,a=this.height;return this.points.forEach((function(i){if(e.handlers[i.name]){var r={name:i.name,component:e.handlersComponent,class:_o(e.classes.handlers.default,e.classes.handlers[i.name]),wrapperClass:_o(e.classes.handlersWrappers.default,e.classes.handlersWrappers[i.name]),hoverClass:e.classes.handlers.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable};if(o&&a){var A=i.horizontalDirection,n=i.verticalDirection,s=A==="east"?o:A==="west"?0:o/2,l=n==="south"?a:n==="north"?0:a/2;r.wrapperClass=hl("handler"),r.wrapperStyle={transform:"translate(".concat(s,"px, ").concat(l,"px)")},e.transitions&&e.transitions.enabled&&(r.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else r.wrapperClass=hl("handler",ka({},i.classname,!0));t.push(r)}})),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,o){var a,i=e.shift(),r=i.left,A=i.top,n={left:0,right:0,top:0,bottom:0};t==="west"?n.left-=r:t==="east"&&(n.right+=r),o==="north"?n.top-=A:o==="south"&&(n.bottom+=A),!o&&t?a="width":o&&!t&&(a="height"),this.resizable&&this.$emit("resize",new xS(n,{allowedDirections:{left:t==="west"||!t,right:t==="east"||!t,bottom:o==="south"||!o,top:o==="north"||!o},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:a}))}},emits:["resize","resize-end"]};Ug.render=function(e,t,o,a,i,r){return w(),K("div",{ref:"box",class:r.classes.root,style:r.style},[yt(e.$slots,"default"),E("div",null,[(w(!0),K(Se,null,Ne(r.lineNodes,(function(A){return w(),K(rs(A.component),{key:A.name,"default-class":A.class,"hover-class":A.hoverClass,"wrapper-class":A.wrapperClass,position:A.name,disabled:A.disabled,onDrag:function(n){return r.onHandlerDrag(n,A.horizontalDirection,A.verticalDirection)},onDragEnd:t[1]||(t[1]=function(n){return r.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])})),128))]),(w(!0),K(Se,null,Ne(r.handlerNodes,(function(A){return w(),K("div",{key:A.name,style:A.wrapperStyle,class:A.wrapperClass},[(w(),K(rs(A.component),{"default-class":A.class,"hover-class":A.hoverClass,"wrapper-class":A.wrapperClass,"horizontal-position":A.horizontalDirection,"vertical-position":A.verticalDirection,disabled:A.disabled,onDrag:function(n){return r.onHandlerDrag(n,A.horizontalDirection,A.verticalDirection)},onDragEnd:t[2]||(t[2]=function(n){return r.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)})),128))],6)};var oD=Ai("vue-draggable-area"),Sg={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:oD()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&e.touches.length===1;t&&(this.touches=Mr(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):wg({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&e.button===0){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),o=t.left,a=t.top;this.anchor={x:e.clientX-o,y:e.clientY-a}},processMove:function(e,t){var o=Mr(t);if(this.touches.length){var a=this.$refs.container.getBoundingClientRect(),i=a.left,r=a.top;this.touches.length===1&&o.length===1&&this.$emit("move",new Pu({left:o[0].clientX-(i+this.anchor.x),top:o[0].clientY-(r+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};Sg.render=function(e,t,o,a,i,r){return w(),K("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return r.onTouchStart&&r.onTouchStart.apply(r,arguments)}),onMousedown:t[2]||(t[2]=function(){return r.onMouseDown&&r.onMouseDown.apply(r,arguments)})},[yt(e.$slots,"default")],544)};function Bl(e){var t,o;return{rotate:e.rotate||0,flip:{horizontal:((t=e?.flip)===null||t===void 0?void 0:t.horizontal)||!1,vertical:((o=e?.flip)===null||o===void 0?void 0:o.vertical)||!1}}}function aD(e){return new Promise((function(t,o){try{if(e)if(/^data:/i.test(e))t((function(s){s=s.replace(/^data:([^;]+);base64,/gim,"");for(var l=atob(s),c=l.length,u=new ArrayBuffer(c),d=new Uint8Array(u),m=0;m<c;m++)d[m]=l.charCodeAt(m);return u})(e));else if(/^blob:/i.test(e)){var a=new FileReader;a.onload=function(s){t(s.target.result)},r=e,A=function(s){a.readAsArrayBuffer(s)},(n=new XMLHttpRequest).open("GET",r,!0),n.responseType="blob",n.onload=function(){this.status!=200&&this.status!==0||A(this.response)},n.send()}else{var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===4&&(i.status===200||i.status===0?t(i.response):o("Warning: could not load an image to parse its orientation"),i=null)},i.onprogress=function(){i.getResponseHeader("content-type")!=="image/jpeg"&&i.abort()},i.withCredentials=!1,i.open("GET",e,!0),i.responseType="arraybuffer",i.send(null)}else o("Error: the image is empty")}catch(s){o(s)}var r,A,n}))}function Dg(e){var t=e.rotate,o=e.flip,a=e.scaleX,i=e.scaleY,r="";return r+=" rotate("+t+"deg) ",r+=" scaleX("+a*(o.horizontal?-1:1)+") ",r+=" scaleY("+i*(o.vertical?-1:1)+") "}function iD(e){try{var t,o=new DataView(e),a=void 0,i=void 0,r=void 0,A=void 0;if(o.getUint8(0)===255&&o.getUint8(1)===216)for(var n=o.byteLength,s=2;s+1<n;){if(o.getUint8(s)===255&&o.getUint8(s+1)===225){r=s;break}s++}if(r&&(a=r+10,(function(m,g,p){var f,v="";for(f=g,p+=g;f<p;f++)v+=String.fromCharCode(m.getUint8(f));return v})(o,r+4,4)==="Exif")){var l=o.getUint16(a);if(((i=l===18761)||l===19789)&&o.getUint16(a+2,i)===42){var c=o.getUint32(a+4,i);c>=8&&(A=a+c)}}if(A){for(var u=o.getUint16(A,i),d=0;d<u;d++)if(s=A+12*d+2,o.getUint16(s,i)===274){s+=8,t=o.getUint16(s,i),o.setUint16(s,1,i);break}}return t}catch{return null}}function Zd(e,t){var o=t.getBoundingClientRect(),a=o.left,i=o.top,r={left:0,top:0},A=0;return e.forEach((function(n){r.left+=(n.clientX-a)/e.length,r.top+=(n.clientY-i)/e.length})),e.forEach((function(n){A+=wg({x:r.left,y:r.top},{x:n.clientX-a,y:n.clientY-i})})),{centerMass:r,spread:A,count:e.length}}var xg={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=sc(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(this.touches.length===1&&t.length===1)this.$emit("move",new $A({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var o=Zd(t,this.$refs.container),a=this.oldGeometricProperties;a.count===o.count&&a.count>1&&this.$emit("resize",new $A({left:a.centerMass.left-o.centerMass.left,top:a.centerMass.top-o.centerMass.top},{factor:a.spread/o.spread,center:o.centerMass})),this.oldGeometricProperties=o}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?this.eventsFilter(e,this.transforming)!==!1:(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,o=t.getBoundingClientRect(),a=o.left,i=o.top,r=o.bottom,A=o.right;this.touches=Mr(e.touches).filter((function(n){return n.clientX>a&&n.clientX<A&&n.clientY>i&&n.clientY<r})),this.oldGeometricProperties=Zd(this.touches,t)}},onTouchEnd:function(e){e.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var o=Mr(e.touches).filter((function(a){return!a.identifier||t.touches.find((function(i){return i.identifier===a.identifier}))}));this.processEvent(e)&&(this.processMove(e,o),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&e.buttons===1&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),o=t.left,a=t.top,i=1+this.wheelResize.ratio*(A=e.deltaY||e.detail||e.wheelDelta,(n=+A)==0||bg(n)?n:n>0?1:-1),r={left:e.clientX-o,top:e.clientY-a};this.$emit("resize",new $A({},{factor:i,center:r})),this.touches.length||this.debouncedProcessEnd()}var A,n}},emits:["resize","move","transform-end"]};xg.render=function(e,t,o,a,i,r){return w(),K("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return r.onTouchStart&&r.onTouchStart.apply(r,arguments)}),onMousedown:t[2]||(t[2]=function(){return r.onMouseDown&&r.onMouseDown.apply(r,arguments)}),onWheel:t[3]||(t[3]=function(){return r.onWheel&&r.onWheel.apply(r,arguments)})},[yt(e.$slots,"default")],544)};var dc={components:{TransformableImage:xg},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};dc.render=function(e,t,o,a,i,r){var A=Oi("transformable-image");return w(),K(A,{"touch-move":o.touchMove,"touch-resize":o.touchResize,"mouse-move":o.mouseMove,"wheel-resize":o.wheelResize,onMove:t[1]||(t[1]=function(n){return e.$emit("move",n)}),onResize:t[2]||(t[2]=function(n){return e.$emit("resize",n)})},{default:U((function(){return[yt(e.$slots,"default")]})),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var wn=Ai("vue-preview"),Pg={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:wn({fill:this.fill}),wrapper:wn("wrapper"),imageWrapper:wn("image-wrapper"),image:_o(wn("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=Rt(Rt({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),o=this.imageSize.width,a=this.imageSize.height,i=yg({width:o,height:a},t.rotate),r={width:"".concat(o,"px"),height:"".concat(a,"px"),left:"0px",top:"0px"},A={rotate:{left:(o-i.width)*t.scaleX/2,top:(a-i.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*o/2,top:(1-t.scaleY)*a/2}};return r.transform=`translate(
				`.concat(-this.coordinates.left/e-A.rotate.left-A.scale.left,"px,").concat(-this.coordinates.top/e-A.rotate.top-A.scale.top,"px) ")+Dg(t),this.transitions&&this.transitions.enabled&&(r.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),r}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){e.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}};Pg.render=function(e,t,o,a,i,r){return w(),K("div",{ref:"root",class:r.classes.root,style:r.style},[E("div",{ref:"wrapper",class:r.classes.wrapper,style:r.wrapperStyle},[Vt(E("img",{ref:"image",src:o.image&&o.image.src,class:r.classes.image,style:r.imageStyle},null,14,["src"]),[[AA,o.image&&o.image.src]])],6)],6)};var _g={components:{Preview:Pg},inheritAttrs:!1};_g.render=function(e,t,o,a,i,r){var A=Oi("preview");return w(),K(A,Wa(e.$attrs,{fill:!0}),null,16)};var Cl=Ai("vue-rectangle-stencil"),Og={name:"RectangleStencil",components:{StencilPreview:_g,BoundingBox:Ug,DraggableArea:Sg},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return Ou}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Ru}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:_o(Cl({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:_o(Cl("preview"),this.previewClass),boundingBox:_o(Cl("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,o=e.width,a=e.left,i=e.top,r={width:"".concat(o,"px"),height:"".concat(t,"px"),transform:"translate(".concat(a,"px, ").concat(i,"px)")};return this.transitions&&this.transitions.enabled&&(r.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),r}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};Og.render=function(e,t,o,a,i,r){var A=Oi("stencil-preview"),n=Oi("draggable-area"),s=Oi("bounding-box");return w(),K("div",{class:r.classes.stencil,style:r.style},[E(s,{width:o.stencilCoordinates.width,height:o.stencilCoordinates.height,transitions:o.transitions,class:r.classes.boundingBox,handlers:o.handlers,"handlers-component":o.handlersComponent,"handlers-classes":o.handlersClasses,"handlers-wrappers-classes":o.handlersWrappersClasses,lines:o.lines,"lines-component":o.linesComponent,"lines-classes":o.linesClasses,"lines-wrappers-classes":o.linesWrappersClasses,resizable:o.resizable,onResize:r.onResize,onResizeEnd:r.onResizeEnd},{default:U((function(){return[E(n,{movable:o.movable,onMove:r.onMove,onMoveEnd:r.onMoveEnd},{default:U((function(){return[E(A,{image:o.image,coordinates:o.coordinates,width:o.stencilCoordinates.width,height:o.stencilCoordinates.height,class:r.classes.preview,transitions:o.transitions},null,8,["image","coordinates","width","height","class","transitions"])]})),_:1},8,["movable","onMove","onMoveEnd"])]})),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var rD=["transitions"],Si=Ai("vue-advanced-cropper"),Rg={name:"Cropper",components:{BackgroundWrapper:dc},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return Og}},backgroundWrapperComponent:{type:[Object,String],default:function(){return dc}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return LS.indexOf(e)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!(typeof e=="string"&&e!=="fill"&&e!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,o=e.coordinates,a=e.aspectRatio,i=e.positionRestrictions,r=e.sizeRestrictions,A=ze(ze({},o),{right:o.left+o.width,bottom:o.top+o.height}),n=t.params||{},s=ze({},t.directions),l=n.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};r.widthFrozen&&(s.left=0,s.right=0),r.heightFrozen&&(s.top=0,s.bottom=0),hi.forEach((function(b){l[b]||(s[b]=0)}));var c=gi(A,s=Yd({coordinates:A,directions:s,sizeRestrictions:r,positionRestrictions:i})).width,u=gi(A,s).height,d=n.preserveRatio?Mt(A):vl(c/u,a);if(d){var m=n.respectDirection;if(m||(m=A.width>=A.height||d===1?"width":"height"),m==="width"){var g=c/d-A.height;if(l.top&&l.bottom){var p=s.top,f=s.bottom;s.bottom=bn(g,f,p),s.top=bn(g,p,f)}else l.bottom?s.bottom=g:l.top?s.top=g:l.right?s.right=0:l.left&&(s.left=0)}else if(m==="height"){var v=A.width-u*d;if(l.left&&l.right){var h=s.left,B=s.right;s.left=-bn(v,h,B),s.right=-bn(v,B,h)}else l.left?s.left=-v:l.right?s.right=-v:l.top?s.top=0:l.bottom&&(s.bottom=0)}s=Yd({directions:s,coordinates:A,sizeRestrictions:r,positionRestrictions:i,preserveRatio:!0,compensate:n.compensate})}return c=gi(A,s).width,u=gi(A,s).height,(d=n.preserveRatio?Mt(A):vl(c/u,a))&&Math.abs(d-c/u)>.001&&hi.forEach((function(b){l[b]||(s[b]=0)})),uc({event:new Pu({left:-s.left,top:-s.top}),coordinates:{width:o.width+s.right+s.left,height:o.height+s.top+s.bottom,left:o.left,top:o.top},positionRestrictions:i})}},moveAlgorithm:{type:Function,default:uc},initStretcher:{type:Function,default:function(e){var t=e.stretcher,o=e.imageSize,a=Mt(o);t.style.width=o.width+"px",t.style.height=t.clientWidth/a+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,o=e.coordinates,a=e.aspectRatio,i=e.sizeRestrictions,r=e.positionRestrictions,A=ze(ze({},o),_i({width:o.width,height:o.height,aspectRatio:a,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,i.minHeight),minWidth:Math.min(t.width,i.minWidth)}}));return A=Zo(A=Qa(A,lA(Yo(o),Yo(A))),Gs(bi(t),r))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,o=e.boundaries,a=e.getAreaRestrictions,i=e.coordinates,r=ze({},t);r.height=r.width/Mt(o),r.top+=(t.height-r.height)/2,(i.height-r.height>0||i.width-r.width>0)&&(r=Ga(r,Math.max(i.height/r.height,i.width/r.width)));var A=Ks(uA(i,bi(r=Ga(r,zs(r,a({visibleArea:r,type:"resize"}))))));return r.width<i.width&&(A.left=0),r.height<i.height&&(A.top=0),r=Zo(r=Qa(r,A),a({visibleArea:r,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,o=e.boundaries,a=e.imageSize,i=e.imageRestriction,r=e.type,A={};return i==="fill-area"?A={left:0,top:0,right:a.width,bottom:a.height}:i==="fit-area"&&(Mt(o)>Mt(a)?(A={top:0,bottom:a.height},t&&r==="move"&&(t.width>a.width?(A.left=-(t.width-a.width)/2,A.right=a.width-A.left):(A.left=0,A.right=a.width))):(A={left:0,right:a.width},t&&r==="move"&&(t.height>a.height?(A.top=-(t.height-a.height)/2,A.bottom=a.height-A.top):(A.top=0,A.bottom=a.height)))),A}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,o={};return e.imageRestriction!=="none"&&(o={left:0,top:0,right:t.width,bottom:t.height}),o}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:Rt({},jd)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=(function(t){return t*Math.PI/180})(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var e=lc(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:lc(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:Ho(this.minWidth)?0:Bn(this.minWidth),minHeight:Ho(this.minHeight)?0:Bn(this.minHeight),maxWidth:Ho(this.maxWidth)?1/0:Bn(this.maxWidth),maxHeight:Ho(this.maxHeight)?1/0:Bn(this.maxHeight)});if(e=(function(a){var i=a.areaRestrictions,r=a.sizeRestrictions,A=a.boundaries,n=a.positionRestrictions,s=ze(ze({},r),{minWidth:r.minWidth!==void 0?r.minWidth:0,minHeight:r.minHeight!==void 0?r.minHeight:0,maxWidth:r.maxWidth!==void 0?r.maxWidth:1/0,maxHeight:r.maxHeight!==void 0?r.maxHeight:1/0});n.left!==void 0&&n.right!==void 0&&(s.maxWidth=Math.min(s.maxWidth,n.right-n.left)),n.bottom!==void 0&&n.top!==void 0&&(s.maxHeight=Math.min(s.maxHeight,n.bottom-n.top));var l=cc(i),c=Eg(A,l);return l.width<1/0&&(!s.maxWidth||s.maxWidth>c.width)&&(s.maxWidth=Math.min(s.maxWidth,c.width)),l.height<1/0&&(!s.maxHeight||s.maxHeight>c.height)&&(s.maxHeight=Math.min(s.maxHeight,c.height)),s.minWidth>s.maxWidth&&(s.minWidth=s.maxWidth,s.widthFrozen=!0),s.minHeight>s.maxHeight&&(s.minHeight=s.maxHeight,s.heightFrozen=!0),s})({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),o=cc(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,o.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,o.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:Si(),image:_o(Si("image"),this.imageClass),stencil:Si("stencil"),boundaries:_o(Si("boundaries"),this.boundariesClass),stretcher:_o(Si("stretcher")),background:_o(Si("background"),this.backgroundClass),foreground:_o(Si("foreground"),this.foregroundClass),imageWrapper:_o(Si("image-wrapper")),cropperWrapper:_o(Si("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,o=e.height,a=e.left,i=e.top;return{width:t/this.coefficient,height:o/this.coefficient,left:(a-this.visibleArea.left)/this.coefficient,top:(i-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},o={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},a=Rt(Rt({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),i={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-o.left-this.imageTransforms.translateX,"px, ").concat(-t.top-o.top-this.imageTransforms.translateY,"px)")+Dg(a)};return this.transitionsOptions.enabled&&(i.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),i}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick((function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()}))},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find((function(o){return e[o]!==t[o]}))&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=sc(this.update,this.debounce),this.debouncedDisableTransitions=sc(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(Rt({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:Rt({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var o=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?Rt({},this.visibleArea):null,imageTransforms:t,get canvas(){return o.canvas?o.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?Rt({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.transitions,i=a===void 0||a;this.onManipulateImage(new $A({},{factor:1/e,center:t}),{normalize:!1,transitions:i})},move:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.transitions,i=a===void 0||a;this.onManipulateImage(new $A({left:e||0,top:t||0}),{normalize:!1,transitions:i})},setCoordinates:function(e){var t=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.autoZoom,i=a===void 0||a,r=o.transitions,A=r===void 0||r;this.$nextTick((function(){t.imageLoaded?(t.transitionsActive||(A&&t.enableTransitions(),t.coordinates=t.applyTransform(e),i&&t.runAutoZoom("setCoordinates"),A&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e}))},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then((function(){e.onChange()})):this.resetVisibleArea().then((function(){e.onChange()}))},reset:function(){var e=this;return this.resetVisibleArea().then((function(){e.onChange(!1)}))},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick((function(){e(),t.awaiting=!1})))},prepareResult:function(e){return this.roundResult?(function(t){var o=t.coordinates,a=t.sizeRestrictions,i=t.positionRestrictions,r={width:Math.round(o.width),height:Math.round(o.height),left:Math.round(o.left),top:Math.round(o.top)};return r.width>a.maxWidth?r.width=Math.floor(o.width):r.width<a.minWidth&&(r.width=Math.ceil(o.width)),r.height>a.maxHeight?r.height=Math.floor(o.height):r.height<a.minHeight&&(r.height=Math.ceil(o.height)),Zo(r,i)})(Rt(Rt({},this.getPublicProperties()),{},{positionRestrictions:Cn(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,o,a){var i=this.autoZoomAlgorithm;i||(i=this.stencilSize?$S:this.autoZoom?VS:NS);var r=i({event:{type:e,params:a},visibleArea:t,coordinates:o,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return Rt(Rt({},r),{},{changed:!Wd(r.visibleArea,t)||!Wd(r.coordinates,o)})},runAutoZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.transitions,a=o!==void 0&&o,i=SS(t,rD),r=this.processAutoZoom(e,this.visibleArea,this.coordinates,i),A=r.visibleArea,n=r.coordinates,s=r.changed;a&&s&&this.enableTransitions(),this.visibleArea=A,this.coordinates=n,a&&s&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return(function(t){var o=t.event,a=t.visibleArea,i=t.coefficient;if(o.type==="manipulateImage")return ze(ze({},o),{move:{left:o.move&&o.move.left?i*o.move.left:0,top:o.move&&o.move.top?i*o.move.top:0},scale:{factor:o.scale&&o.scale.factor?o.scale.factor:1,center:o.scale&&o.scale.center?{left:o.scale.center.left*i+a.left,top:o.scale.center.top*i+a.top}:null}});if(o.type==="resize"){var r=ze(ze({},o),{directions:ze({},o.directions)});return hi.forEach((function(n){r.directions[n]*=i})),r}if(o.type==="move"){var A=ze(ze({},o),{directions:ze({},o.directions)});return MS.forEach((function(n){A.directions[n]*=i})),A}return o})(Rt(Rt({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,o=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?(function(n,s,l){var c=l.rotate,u=l.flip,d={width:s.naturalWidth,height:s.naturalHeight},m=yg(d,c),g=n.getContext("2d");n.height=m.height,n.width=m.width,g.save();var p=ki(Yo(ze({left:0,top:0},d)),c);return g.translate(-(p.left-m.width/2),-(p.top-m.height/2)),g.rotate(c*Math.PI/180),g.translate(u.horizontal?d.width:0,u.vertical?d.height:0),g.scale(u.horizontal?-1:1,u.vertical?-1:1),g.drawImage(s,0,0,d.width,d.height),g.restore(),n})(this.$refs.sourceCanvas,t,this.imageTransforms):t,a=Rt({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),i=function(n){return n.find((function(s){return l=s,!Number.isNaN(parseFloat(l))&&isFinite(l);var l}))},r=_i({sizeRestrictions:{minWidth:i([a.width,a.minWidth])||0,minHeight:i([a.height,a.minHeight])||0,maxWidth:i([a.width,a.maxWidth])||1/0,maxHeight:i([a.height,a.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(a.maxArea&&r.width*r.height>a.maxArea){var A=Math.sqrt(a.maxArea/(r.width*r.height));r={width:Math.round(A*r.width),height:Math.round(A*r.height)}}return(function(n,s,l,c,u){n.width=c?c.width:l.width,n.height=c?c.height:l.height;var d=n.getContext("2d");d.clearRect(0,0,n.width,n.height),u&&(u.imageSmoothingEnabled&&(d.imageSmoothingEnabled=u.imageSmoothingEnabled),u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),u.fillColor&&(d.fillStyle=u.fillColor,d.fillRect(0,0,n.width,n.height),d.save()));var m=l.left<0?-l.left:0,g=l.top<0?-l.top:0;d.drawImage(s,l.left+m,l.top+g,l.width,l.height,m*(n.width/l.width),g*(n.height/l.height),n.width,n.height)})(e,o,this.coordinates,r,a),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=this.visibleArea&&t?HS(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,a=this.visibleArea&&t?Cn(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return TS({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:o,positionRestrictions:a,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?KS:kS);var o=this.sizeRestrictions;o.minWidth,o.minHeight,o.maxWidth,o.maxHeight;var a=$r(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,i=this.defaultPosition||qS,r=[a,function(A){var n=A.coordinates;return Rt({},$r(i)?i({coordinates:n,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&r.push.apply(r,Mr(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(r,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout((function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}}),this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,o=this.$refs.cropper;return this.initStretcher({cropper:o,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then((function(){var a={cropper:o,imageSize:e.imageSize};if($r(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(a):e.defaultBoundaries==="fit"?e.boundaries=(function(i){var r=i.cropper,A=i.imageSize,n=r.clientHeight,s=r.clientWidth,l=n,c=A.width*n/A.height;return c>s&&(c=s,l=A.height*s/A.width),{width:c,height:l}})(a):e.boundaries=(function(i){var r=i.cropper;return{width:r.clientWidth,height:r.clientHeight}})(a),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")}))},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=Rt(Rt({},this.defaultImageTransforms),{},{flip:Rt({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then((function(){e.priority!=="visible-area"&&(e.visibleArea=null,e.resetCoordinates());var t,o,a,i,r,A,n=e.defaultVisibleArea||zS;e.visibleArea=$r(n)?n({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:e.priority!=="visible-area"?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},o=t.visibleArea,a=t.boundaries,i=t.getAreaRestrictions,r=ze({},o),A=Mt(a),r.width/r.height!==A&&(r.height=r.width/A),Zo(r,i({visibleArea:r,type:"move"}))),e.priority==="visible-area"?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")})).catch((function(){e.visibleArea=null}))},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then((function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")})).catch((function(){e.visibleArea=null}))},onChange:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if((function(i){if(zd(i))return!1;var r=window.location,A=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(i)||[],n={protocol:A[1]||"",host:A[2]||"",port:A[3]||""},s=function(l){return l.port||((l.protocol||r.protocol)==="http"?80:433)};return!(!n.protocol&&!n.host&&!n.port||n.protocol&&n.protocol==r.protocol&&n.host&&n.host==r.host&&n.host&&s(n)==s(r))})(this.src)){var o=Ho(this.crossOrigin)?this.canvas:this.crossOrigin;o===!0&&(o="anonymous"),this.imageAttributes.crossOrigin=o||null}if(this.checkOrientation){var a=(e=this.src,new Promise((function(i){aD(e).then((function(r){var A=iD(r);i(r?{source:e,arrayBuffer:r,orientation:A}:{source:e,arrayBuffer:null,orientation:null})})).catch((function(r){console.warn(r),i({source:e,arrayBuffer:null,orientation:null})}))})));setTimeout((function(){a.then(t.onParseImage)}),this.transitionTime)}else setTimeout((function(){t.onParseImage({source:t.src})}),this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then((function(){e.$emit("ready"),e.onChange(!1)})))},onParseImage:function(e){var t=this,o=e.source,a=e.arrayBuffer,i=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,a&&i&&i>1?Cg(o)||!zd(o)?(this.imageAttributes.src=URL.createObjectURL(new Blob([a])),this.imageAttributes.revoke=!0):this.imageAttributes.src=(function(r){for(var A=[],n=new Uint8Array(r);n.length>0;){var s=n.subarray(0,8192);A.push(String.fromCharCode.apply(null,Array.from?Array.from(s):s.slice())),n=n.subarray(8192)}return"data:image/jpeg;base64,"+btoa(A.join(""))})(a):this.imageAttributes.src=o,$r(this.defaultTransforms)?this.appliedImageTransforms=Bl(this.defaultTransforms()):Jn(this.defaultTransforms)?this.appliedImageTransforms=Bl(this.defaultTransforms):this.appliedImageTransforms=(function(r){var A=Bl({});if(r)switch(r){case 2:A.flip.horizontal=!0;break;case 3:A.rotate=-180;break;case 4:A.flip.vertical=!0;break;case 5:A.rotate=90,A.flip.vertical=!0;break;case 6:A.rotate=90;break;case 7:A.rotate=90,A.flip.horizontal=!0;break;case 8:A.rotate=-90}return A})(i),this.defaultImageTransforms=Rt(Rt({},this.appliedImageTransforms),{},{flip:Rt({},this.appliedImageTransforms.flip)}),this.$nextTick((function(){var r=t.$refs.image;r&&r.complete&&((function(A){return!!A.naturalWidth})(r)?t.onSuccessLoadImage():t.onFailLoadImage())}))},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender((function(){t.coordinates=t.moveAlgorithm(Rt(Rt({},t.getPublicProperties()),{},{positionRestrictions:Cn(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()}))},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender((function(){var o=t.sizeRestrictions,a=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(Rt(Rt({},t.getPublicProperties()),{},{positionRestrictions:Cn(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(o.maxWidth,t.visibleArea.width),maxHeight:Math.min(o.maxHeight,t.visibleArea.height),minWidth:Math.max(o.minWidth,a),minHeight:Math.max(o.minHeight,a)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1}))},onManipulateImage:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var o=t.transitions,a=o!==void 0&&o,i=t.normalize,r=i===void 0||i;a&&this.enableTransitions();var A=GS(Rt(Rt({},this.getPublicProperties()),{},{event:r?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),n=A.visibleArea,s=A.coordinates;this.visibleArea=n,this.coordinates=s,this.runAutoZoom("manipulateImage"),this.onChange(),a&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.visibleArea,o=e.type,a=o===void 0?"move":o;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:a})},getAspectRatio:function(e){var t,o,a=this.stencilProps,i=a.aspectRatio,r=a.minAspectRatio,A=a.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var n=this.$refs.stencil.aspectRatios();t=n.minimum,o=n.maximum}if(Ho(t)&&(t=Ho(i)?r:i),Ho(o)&&(o=Ho(i)?A:i),!e&&(Ho(t)||Ho(o))){var s=this.getStencilSize(),l=s?Mt(s):null;Ho(t)&&(t=Gd(l)?l:void 0),Ho(o)&&(o=Gd(l)?l:void 0)}return{minimum:t,maximum:o}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,o=e.stencilSize,a=e.aspectRatio,vl(Mt(i=$r(o)?o({boundaries:t,aspectRatio:a}):o),a)&&(i=_i({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:a.minimum,maximum:a.maximum}})),(i.width>t.width||i.height>t.height)&&(i=_i({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:Mt(i),maximum:Mt(i)}})),i;var e,t,o,a,i},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return Rt({},jd)},flip:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.transitions,i=a===void 0||a;if(!this.transitionsActive){i&&this.enableTransitions();var r=Rt({},this.imageTransforms.flip),A=WS({flip:{horizontal:e?!r.horizontal:r.horizontal,vertical:t?!r.vertical:r.vertical},previousFlip:r,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),n=A.visibleArea,s=A.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=n,this.coordinates=s,this.onChange(),i&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.transitions,a=o===void 0||o;if(!this.transitionsActive){a&&this.enableTransitions();var i=Rt({},this.imageSize);this.appliedImageTransforms.rotate+=e;var r=jS({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:i,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),A=r.visibleArea,n=r.coordinates,s=this.processAutoZoom("rotateImage",A,n);A=s.visibleArea,n=s.coordinates,this.visibleArea=A,this.coordinates=n,this.onChange(),a&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},AD={key:0,ref:"canvas",style:{display:"none"}},nD={key:1,ref:"sourceCanvas",style:{display:"none"}};Rg.render=function(e,t,o,a,i,r){return w(),K("div",{ref:"cropper",class:r.classes.cropper},[E("div",{ref:"stretcher",class:r.classes.stretcher},null,2),E("div",{class:r.classes.boundaries,style:r.boundariesStyle},[(w(),K(rs(o.backgroundWrapperComponent),{class:r.classes.cropperWrapper,"wheel-resize":r.settings.resizeImage.wheel,"touch-resize":r.settings.resizeImage.touch,"touch-move":r.settings.moveImage.touch,"mouse-move":r.settings.moveImage.mouse,onMove:r.onManipulateImage,onResize:r.onManipulateImage},{default:U((function(){return[E("div",{class:r.classes.background,style:r.boundariesStyle},null,6),E("div",{class:r.classes.imageWrapper},[E("img",{ref:"image",crossorigin:i.imageAttributes.crossOrigin,src:i.imageAttributes.src,class:r.classes.image,style:r.imageStyle,onMousedown:t[1]||(t[1]=ta((function(){}),["prevent"]))},null,46,["crossorigin","src"])],2),E("div",{class:r.classes.foreground,style:r.boundariesStyle},null,6),Vt((w(),K(rs(o.stencilComponent),Wa({ref:"stencil",image:r.image,coordinates:i.coordinates,"stencil-coordinates":r.stencilCoordinates,transitions:r.transitionsOptions},o.stencilProps,{onResize:r.onResize,onResizeEnd:r.onResizeEnd,onMove:r.onMove,onMoveEnd:r.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[AA,i.imageLoaded]]),o.canvas?(w(),K("canvas",AD,null,512)):ge("",!0),o.canvas?(w(),K("canvas",nD,null,512)):ge("",!0)]})),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};var mc=function(e,t){return mc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(o[i]=a[i])},mc(e,t)};function ni(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mc(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}var fc=function(){return fc=Object.assign||function(t){for(var o,a=1,i=arguments.length;a<i;a++){o=arguments[a];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},fc.apply(this,arguments)};function ca(e,t,o,a){function i(r){return r instanceof o?r:new o(function(A){A(r)})}return new(o||(o=Promise))(function(r,A){function n(c){try{l(a.next(c))}catch(u){A(u)}}function s(c){try{l(a.throw(c))}catch(u){A(u)}}function l(c){c.done?r(c.value):i(c.value).then(n,s)}l((a=a.apply(e,[])).next())})}function oa(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,i,r,A;return A={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function n(l){return function(c){return s([l,c])}}function s(l){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,i&&(r=l[0]&2?i.return:l[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,l[1])).done)return r;switch(i=0,r&&(l=[l[0]&2,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(l[0]===6&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(c){l=[6,c],i=0}finally{a=r=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Fn(e,t,o){if(arguments.length===2)for(var a=0,i=t.length,r;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||t)}var Hi=(function(){function e(t,o,a,i){this.left=t,this.top=o,this.width=a,this.height=i}return e.prototype.add=function(t,o,a,i){return new e(this.left+t,this.top+o,this.width+a,this.height+i)},e.fromClientRect=function(t,o){return new e(o.left+t.windowBounds.left,o.top+t.windowBounds.top,o.width,o.height)},e.fromDOMRectList=function(t,o){var a=Array.from(o).find(function(i){return i.width!==0});return a?new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),js=function(e,t){return Hi.fromClientRect(e,t.getBoundingClientRect())},sD=function(e){var t=e.body,o=e.documentElement;if(!t||!o)throw new Error("Unable to get document size");var a=Math.max(Math.max(t.scrollWidth,o.scrollWidth),Math.max(t.offsetWidth,o.offsetWidth),Math.max(t.clientWidth,o.clientWidth)),i=Math.max(Math.max(t.scrollHeight,o.scrollHeight),Math.max(t.offsetHeight,o.offsetHeight),Math.max(t.clientHeight,o.clientHeight));return new Hi(0,0,a,i)},Ws=function(e){for(var t=[],o=0,a=e.length;o<a;){var i=e.charCodeAt(o++);if(i>=55296&&i<=56319&&o<a){var r=e.charCodeAt(o++);(r&64512)===56320?t.push(((i&1023)<<10)+(r&1023)+65536):(t.push(i),o--)}else t.push(i)}return t},Io=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var o=e.length;if(!o)return"";for(var a=[],i=-1,r="";++i<o;){var A=e[i];A<=65535?a.push(A):(A-=65536,a.push((A>>10)+55296,A%1024+56320)),(i+1===o||a.length>16384)&&(r+=String.fromCharCode.apply(String,a),a.length=0)}return r},em="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qn=0;Qn<em.length;Qn++)lD[em.charCodeAt(Qn)]=Qn;var tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var En=0;En<tm.length;En++)xA[tm.charCodeAt(En)]=En;var cD=function(e){var t=e.length*.75,o=e.length,a,i=0,r,A,n,s;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(l)?l:new Uint8Array(l);for(a=0;a<o;a+=4)r=xA[e.charCodeAt(a)],A=xA[e.charCodeAt(a+1)],n=xA[e.charCodeAt(a+2)],s=xA[e.charCodeAt(a+3)],c[i++]=r<<2|A>>4,c[i++]=(A&15)<<4|n>>2,c[i++]=(n&3)<<6|s&63;return l},uD=function(e){for(var t=e.length,o=[],a=0;a<t;a+=2)o.push(e[a+1]<<8|e[a]);return o},dD=function(e){for(var t=e.length,o=[],a=0;a<t;a+=4)o.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return o},Dr=5,Mu=11,bl=2,mD=Mu-Dr,Mg=65536>>Dr,fD=1<<Dr,wl=fD-1,pD=1024>>Dr,gD=Mg+pD,vD=gD,hD=32,BD=vD+hD,CD=65536>>Mu,bD=1<<mD,wD=bD-1,om=function(e,t,o){return e.slice?e.slice(t,o):new Uint16Array(Array.prototype.slice.call(e,t,o))},FD=function(e,t,o){return e.slice?e.slice(t,o):new Uint32Array(Array.prototype.slice.call(e,t,o))},QD=function(e,t){var o=cD(e),a=Array.isArray(o)?dD(o):new Uint32Array(o),i=Array.isArray(o)?uD(o):new Uint16Array(o),r=24,A=om(i,r/2,a[4]/2),n=a[5]===2?om(i,(r+a[4])/2):FD(a,Math.ceil((r+a[4])/4));return new ED(a[0],a[1],a[2],a[3],A,n)},ED=(function(){function e(t,o,a,i,r,A){this.initialValue=t,this.errorValue=o,this.highStart=a,this.highValueIndex=i,this.index=r,this.data=A}return e.prototype.get=function(t){var o;if(t>=0){if(t<55296||t>56319&&t<=65535)return o=this.index[t>>Dr],o=(o<<bl)+(t&wl),this.data[o];if(t<=65535)return o=this.index[Mg+(t-55296>>Dr)],o=(o<<bl)+(t&wl),this.data[o];if(t<this.highStart)return o=BD-CD+(t>>Mu),o=this.index[o],o+=t>>Dr&wD,o=this.index[o],o=(o<<bl)+(t&wl),this.data[o];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),am="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yn=0;yn<am.length;yn++)yD[am.charCodeAt(yn)]=yn;var ID="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",im=50,UD=1,Lg=2,Hg=3,SD=4,DD=5,rm=7,Tg=8,Am=9,Gi=10,pc=11,nm=12,gc=13,xD=14,PA=15,vc=16,In=17,yA=18,PD=19,sm=20,hc=21,IA=22,Fl=23,Vr=24,Ua=25,_A=26,OA=27,Nr=28,_D=29,Fr=30,OD=31,Un=32,Sn=33,Bc=34,Cc=35,bc=36,XA=37,wc=38,Xn=39,Yn=40,Ql=41,$g=42,RD=43,MD=[9001,65288],Vg="!",Et="×",Dn="÷",Fc=QD(ID),Di=[Fr,bc],Qc=[UD,Lg,Hg,DD],Ng=[Gi,Tg],lm=[OA,_A],LD=Qc.concat(Ng),cm=[wc,Xn,Yn,Bc,Cc],HD=[PA,gc],TD=function(e,t){t===void 0&&(t="strict");var o=[],a=[],i=[];return e.forEach(function(r,A){var n=Fc.get(r);if(n>im?(i.push(!0),n-=im):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(r)!==-1)return a.push(A),o.push(vc);if(n===SD||n===pc){if(A===0)return a.push(A),o.push(Fr);var s=o[A-1];return LD.indexOf(s)===-1?(a.push(a[A-1]),o.push(s)):(a.push(A),o.push(Fr))}if(a.push(A),n===OD)return o.push(t==="strict"?hc:XA);if(n===$g||n===_D)return o.push(Fr);if(n===RD)return r>=131072&&r<=196605||r>=196608&&r<=262141?o.push(XA):o.push(Fr);o.push(n)}),[a,o,i]},El=function(e,t,o,a){var i=a[o];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var r=o;r<=a.length;){r++;var A=a[r];if(A===t)return!0;if(A!==Gi)break}if(i===Gi)for(var r=o;r>0;){r--;var n=a[r];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var s=o;s<=a.length;){s++;var A=a[s];if(A===t)return!0;if(A!==Gi)break}if(n!==Gi)break}return!1},um=function(e,t){for(var o=e;o>=0;){var a=t[o];if(a===Gi)o--;else return a}return 0},$D=function(e,t,o,a,i){if(o[a]===0)return Et;var r=a-1;if(Array.isArray(i)&&i[r]===!0)return Et;var A=r-1,n=r+1,s=t[r],l=A>=0?t[A]:0,c=t[n];if(s===Lg&&c===Hg)return Et;if(Qc.indexOf(s)!==-1)return Vg;if(Qc.indexOf(c)!==-1||Ng.indexOf(c)!==-1)return Et;if(um(r,t)===Tg)return Dn;if(Fc.get(e[r])===pc||(s===Un||s===Sn)&&Fc.get(e[n])===pc||s===rm||c===rm||s===Am||[Gi,gc,PA].indexOf(s)===-1&&c===Am||[In,yA,PD,Vr,Nr].indexOf(c)!==-1||um(r,t)===IA||El(Fl,IA,r,t)||El([In,yA],hc,r,t)||El(nm,nm,r,t))return Et;if(s===Gi)return Dn;if(s===Fl||c===Fl)return Et;if(c===vc||s===vc)return Dn;if([gc,PA,hc].indexOf(c)!==-1||s===xD||l===bc&&HD.indexOf(s)!==-1||s===Nr&&c===bc||c===sm||Di.indexOf(c)!==-1&&s===Ua||Di.indexOf(s)!==-1&&c===Ua||s===OA&&[XA,Un,Sn].indexOf(c)!==-1||[XA,Un,Sn].indexOf(s)!==-1&&c===_A||Di.indexOf(s)!==-1&&lm.indexOf(c)!==-1||lm.indexOf(s)!==-1&&Di.indexOf(c)!==-1||[OA,_A].indexOf(s)!==-1&&(c===Ua||[IA,PA].indexOf(c)!==-1&&t[n+1]===Ua)||[IA,PA].indexOf(s)!==-1&&c===Ua||s===Ua&&[Ua,Nr,Vr].indexOf(c)!==-1)return Et;if([Ua,Nr,Vr,In,yA].indexOf(c)!==-1)for(var u=r;u>=0;){var d=t[u];if(d===Ua)return Et;if([Nr,Vr].indexOf(d)!==-1)u--;else break}if([OA,_A].indexOf(c)!==-1)for(var u=[In,yA].indexOf(s)!==-1?A:r;u>=0;){var d=t[u];if(d===Ua)return Et;if([Nr,Vr].indexOf(d)!==-1)u--;else break}if(wc===s&&[wc,Xn,Bc,Cc].indexOf(c)!==-1||[Xn,Bc].indexOf(s)!==-1&&[Xn,Yn].indexOf(c)!==-1||[Yn,Cc].indexOf(s)!==-1&&c===Yn||cm.indexOf(s)!==-1&&[sm,_A].indexOf(c)!==-1||cm.indexOf(c)!==-1&&s===OA||Di.indexOf(s)!==-1&&Di.indexOf(c)!==-1||s===Vr&&Di.indexOf(c)!==-1||Di.concat(Ua).indexOf(s)!==-1&&c===IA&&MD.indexOf(e[n])===-1||Di.concat(Ua).indexOf(c)!==-1&&s===yA)return Et;if(s===Ql&&c===Ql){for(var m=o[r],g=1;m>0&&(m--,t[m]===Ql);)g++;if(g%2!==0)return Et}return s===Un&&c===Sn?Et:Dn},VD=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var o=TD(e,t.lineBreak),a=o[0],i=o[1],r=o[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(n){return[Ua,Fr,$g].indexOf(n)!==-1?XA:n}));var A=t.wordBreak==="keep-all"?r.map(function(n,s){return n&&e[s]>=19968&&e[s]<=40959}):void 0;return[a,i,A]},ND=(function(){function e(t,o,a,i){this.codePoints=t,this.required=o===Vg,this.start=a,this.end=i}return e.prototype.slice=function(){return Io.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),qD=function(e,t){var o=Ws(e),a=VD(o,t),i=a[0],r=a[1],A=a[2],n=o.length,s=0,l=0;return{next:function(){if(l>=n)return{done:!0,value:null};for(var c=Et;l<n&&(c=$D(o,r,i,++l,A))===Et;);if(c!==Et||l===n){var u=new ND(o,c,s,l);return s=l,{value:u,done:!1}}return{done:!0,value:null}}}},kD=1,KD=2,un=4,dm=8,vs=10,mm=47,VA=92,zD=9,GD=32,xn=34,UA=61,jD=35,WD=36,JD=37,Pn=39,_n=40,SA=41,XD=95,Ba=45,YD=33,ZD=60,ex=62,tx=64,ox=91,ax=93,ix=61,rx=123,On=63,Ax=125,fm=124,nx=126,sx=128,pm=65533,yl=42,Er=43,lx=44,cx=58,ux=59,YA=46,dx=0,mx=8,fx=11,px=14,gx=31,vx=127,ci=-1,qg=48,kg=97,Kg=101,hx=102,Bx=117,Cx=122,zg=65,Gg=69,jg=70,bx=85,wx=90,ia=function(e){return e>=qg&&e<=57},Fx=function(e){return e>=55296&&e<=57343},qr=function(e){return ia(e)||e>=zg&&e<=jg||e>=kg&&e<=hx},Qx=function(e){return e>=kg&&e<=Cx},Ex=function(e){return e>=zg&&e<=wx},yx=function(e){return Qx(e)||Ex(e)},Ix=function(e){return e>=sx},Rn=function(e){return e===vs||e===zD||e===GD},hs=function(e){return yx(e)||Ix(e)||e===XD},gm=function(e){return hs(e)||ia(e)||e===Ba},Ux=function(e){return e>=dx&&e<=mx||e===fx||e>=px&&e<=gx||e===vx},qi=function(e,t){return e!==VA?!1:t!==vs},Mn=function(e,t,o){return e===Ba?hs(t)||qi(t,o):hs(e)?!0:!!(e===VA&&qi(e,t))},Il=function(e,t,o){return e===Er||e===Ba?ia(t)?!0:t===YA&&ia(o):ia(e===YA?t:e)},Sx=function(e){var t=0,o=1;(e[t]===Er||e[t]===Ba)&&(e[t]===Ba&&(o=-1),t++);for(var a=[];ia(e[t]);)a.push(e[t++]);var i=a.length?parseInt(Io.apply(void 0,a),10):0;e[t]===YA&&t++;for(var r=[];ia(e[t]);)r.push(e[t++]);var A=r.length,n=A?parseInt(Io.apply(void 0,r),10):0;(e[t]===Gg||e[t]===Kg)&&t++;var s=1;(e[t]===Er||e[t]===Ba)&&(e[t]===Ba&&(s=-1),t++);for(var l=[];ia(e[t]);)l.push(e[t++]);var c=l.length?parseInt(Io.apply(void 0,l),10):0;return o*(i+n*Math.pow(10,-A))*Math.pow(10,s*c)},Dx={type:2},xx={type:3},Px={type:4},_x={type:13},Ox={type:8},Rx={type:21},Mx={type:9},Lx={type:10},Hx={type:11},Tx={type:12},$x={type:14},Ln={type:23},Vx={type:1},Nx={type:25},qx={type:24},kx={type:26},Kx={type:27},zx={type:28},Gx={type:29},jx={type:31},Ec={type:32},Wg=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Ws(t))},e.prototype.read=function(){for(var t=[],o=this.consumeToken();o!==Ec;)t.push(o),o=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case xn:return this.consumeStringToken(xn);case jD:var o=this.peekCodePoint(0),a=this.peekCodePoint(1),i=this.peekCodePoint(2);if(gm(o)||qi(a,i)){var r=Mn(o,a,i)?KD:kD,A=this.consumeName();return{type:5,value:A,flags:r}}break;case WD:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),_x;break;case Pn:return this.consumeStringToken(Pn);case _n:return Dx;case SA:return xx;case yl:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),$x;break;case Er:if(Il(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case lx:return Px;case Ba:var n=t,s=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Il(n,s,l))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Mn(n,s,l))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(s===Ba&&l===ex)return this.consumeCodePoint(),this.consumeCodePoint(),qx;break;case YA:if(Il(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case mm:if(this.peekCodePoint(0)===yl)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===yl&&(c=this.consumeCodePoint(),c===mm))return this.consumeToken();if(c===ci)return this.consumeToken()}break;case cx:return kx;case ux:return Kx;case ZD:if(this.peekCodePoint(0)===YD&&this.peekCodePoint(1)===Ba&&this.peekCodePoint(2)===Ba)return this.consumeCodePoint(),this.consumeCodePoint(),Nx;break;case tx:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),m=this.peekCodePoint(2);if(Mn(u,d,m)){var A=this.consumeName();return{type:7,value:A}}break;case ox:return zx;case VA:if(qi(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case ax:return Gx;case ix:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),Ox;break;case rx:return Hx;case Ax:return Tx;case Bx:case bx:var g=this.peekCodePoint(0),p=this.peekCodePoint(1);return g===Er&&(qr(p)||p===On)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case fm:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),Mx;if(this.peekCodePoint(0)===fm)return this.consumeCodePoint(),Rx;break;case nx:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),Lx;break;case ci:return Ec}return Rn(t)?(this.consumeWhiteSpace(),jx):ia(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):hs(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Io(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],o=this.consumeCodePoint();qr(o)&&t.length<6;)t.push(o),o=this.consumeCodePoint();for(var a=!1;o===On&&t.length<6;)t.push(o),o=this.consumeCodePoint(),a=!0;if(a){var i=parseInt(Io.apply(void 0,t.map(function(s){return s===On?qg:s})),16),r=parseInt(Io.apply(void 0,t.map(function(s){return s===On?jg:s})),16);return{type:30,start:i,end:r}}var A=parseInt(Io.apply(void 0,t),16);if(this.peekCodePoint(0)===Ba&&qr(this.peekCodePoint(1))){this.consumeCodePoint(),o=this.consumeCodePoint();for(var n=[];qr(o)&&n.length<6;)n.push(o),o=this.consumeCodePoint();var r=parseInt(Io.apply(void 0,n),16);return{type:30,start:A,end:r}}else return{type:30,start:A,end:A}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===_n?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===_n?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ci)return{type:22,value:""};var o=this.peekCodePoint(0);if(o===Pn||o===xn){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ci||this.peekCodePoint(0)===SA)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),Ln)}for(;;){var i=this.consumeCodePoint();if(i===ci||i===SA)return{type:22,value:Io.apply(void 0,t)};if(Rn(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ci||this.peekCodePoint(0)===SA?(this.consumeCodePoint(),{type:22,value:Io.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Ln);if(i===xn||i===Pn||i===_n||Ux(i))return this.consumeBadUrlRemnants(),Ln;if(i===VA)if(qi(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ln;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;Rn(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===SA||t===ci)return;qi(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var o=5e4,a="";t>0;){var i=Math.min(o,t);a+=Io.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),a},e.prototype.consumeStringToken=function(t){var o="",a=0;do{var i=this._value[a];if(i===ci||i===void 0||i===t)return o+=this.consumeStringSlice(a),{type:0,value:o};if(i===vs)return this._value.splice(0,a),Vx;if(i===VA){var r=this._value[a+1];r!==ci&&r!==void 0&&(r===vs?(o+=this.consumeStringSlice(a),a=-1,this._value.shift()):qi(i,r)&&(o+=this.consumeStringSlice(a),o+=Io(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var t=[],o=un,a=this.peekCodePoint(0);for((a===Er||a===Ba)&&t.push(this.consumeCodePoint());ia(this.peekCodePoint(0));)t.push(this.consumeCodePoint());a=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(a===YA&&ia(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),o=dm;ia(this.peekCodePoint(0));)t.push(this.consumeCodePoint());a=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((a===Gg||a===Kg)&&((i===Er||i===Ba)&&ia(r)||ia(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),o=dm;ia(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Sx(t),o]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),o=t[0],a=t[1],i=this.peekCodePoint(0),r=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Mn(i,r,A)){var n=this.consumeName();return{type:15,number:o,flags:a,unit:n}}return i===JD?(this.consumeCodePoint(),{type:16,number:o,flags:a}):{type:17,number:o,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(qr(t)){for(var o=Io(t);qr(this.peekCodePoint(0))&&o.length<6;)o+=Io(this.consumeCodePoint());Rn(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(o,16);return a===0||Fx(a)||a>1114111?pm:a}return t===ci?pm:t},e.prototype.consumeName=function(){for(var t="";;){var o=this.consumeCodePoint();if(gm(o))t+=Io(o);else if(qi(o,this.peekCodePoint(0)))t+=Io(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(o),t}},e})(),Jg=(function(){function e(t){this._tokens=t}return e.create=function(t){var o=new Wg;return o.write(t),new e(o.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var o=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return o;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var o=this.consumeComponentValue();if(o.type===32)return t;t.push(o),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var o={type:t,values:[]},a=this.consumeToken();;){if(a.type===32||Jx(a,t))return o;this.reconsumeToken(a),o.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var o={name:t.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return o;this.reconsumeToken(a),o.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Ec:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),dn=function(e){return e.type===15},vA=function(e){return e.type===17},Yt=function(e){return e.type===20},Wx=function(e){return e.type===0},yc=function(e,t){return Yt(e)&&e.value===t},Xg=function(e){return e.type!==31},dA=function(e){return e.type!==31&&e.type!==4},yi=function(e){var t=[],o=[];return e.forEach(function(a){if(a.type===4){if(o.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(o),o=[];return}a.type!==31&&o.push(a)}),o.length&&t.push(o),t},Jx=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},nr=function(e){return e.type===17||e.type===15},Do=function(e){return e.type===16||nr(e)},Yg=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ea={type:17,number:0,flags:un},Lu={type:16,number:50,flags:un},ji={type:16,number:100,flags:un},RA=function(e,t,o){var a=e[0],i=e[1];return[lo(a,t),lo(typeof i<"u"?i:a,o)]},lo=function(e,t){if(e.type===16)return e.number/100*t;if(dn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Zg="deg",ev="grad",tv="rad",ov="turn",Js={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Zg:return Math.PI*t.number/180;case ev:return Math.PI/200*t.number;case tv:return t.number;case ov:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},av=function(e){return e.type===15&&(e.unit===Zg||e.unit===ev||e.unit===tv||e.unit===ov)},iv=function(e){var t=e.filter(Yt).map(function(o){return o.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ea,ea];case"to top":case"bottom":return Ka(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ea,ji];case"to right":case"left":return Ka(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ji,ji];case"to bottom":case"top":return Ka(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ji,ea];case"to left":case"right":return Ka(270)}return 0},Ka=function(e){return Math.PI*e/180},Zi={name:"color",parse:function(e,t){if(t.type===18){var o=Xx[t.name];if(typeof o>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return o(e,t.values)}if(t.type===5){if(t.value.length===3){var a=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);return Wi(parseInt(a+a,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(t.value.length===4){var a=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3),A=t.value.substring(3,4);return Wi(parseInt(a+a,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(A+A,16)/255)}if(t.value.length===6){var a=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6);return Wi(parseInt(a,16),parseInt(i,16),parseInt(r,16),1)}if(t.value.length===8){var a=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),A=t.value.substring(6,8);return Wi(parseInt(a,16),parseInt(i,16),parseInt(r,16),parseInt(A,16)/255)}}if(t.type===20){var n=Ri[t.value.toUpperCase()];if(typeof n<"u")return n}return Ri.TRANSPARENT}},er=function(e){return(255&e)===0},Lo=function(e){var t=255&e,o=255&e>>8,a=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+a+","+o+","+t/255+")":"rgb("+i+","+a+","+o+")"},Wi=function(e,t,o,a){return(e<<24|t<<16|o<<8|Math.round(a*255)<<0)>>>0},vm=function(e,t){if(e.type===17)return e.number;if(e.type===16){var o=t===3?1:255;return t===3?e.number/100*o:Math.round(e.number/100*o)}return 0},hm=function(e,t){var o=t.filter(dA);if(o.length===3){var a=o.map(vm),i=a[0],r=a[1],A=a[2];return Wi(i,r,A,1)}if(o.length===4){var n=o.map(vm),i=n[0],r=n[1],A=n[2],s=n[3];return Wi(i,r,A,s)}return 0};function Ul(e,t,o){return o<0&&(o+=1),o>=1&&(o-=1),o<1/6?(t-e)*o*6+e:o<1/2?t:o<2/3?(t-e)*6*(2/3-o)+e:e}var Bm=function(e,t){var o=t.filter(dA),a=o[0],i=o[1],r=o[2],A=o[3],n=(a.type===17?Ka(a.number):Js.parse(e,a))/(Math.PI*2),s=Do(i)?i.number/100:0,l=Do(r)?r.number/100:0,c=typeof A<"u"&&Do(A)?lo(A,1):1;if(s===0)return Wi(l*255,l*255,l*255,1);var u=l<=.5?l*(s+1):l+s-l*s,d=l*2-u,m=Ul(d,u,n+1/3),g=Ul(d,u,n),p=Ul(d,u,n-1/3);return Wi(m*255,g*255,p*255,c)},Xx={hsl:Bm,hsla:Bm,rgb:hm,rgba:hm},NA=function(e,t){return Zi.parse(e,Jg.create(t).parseComponentValue())},Ri={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Yx={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(o){if(Yt(o))switch(o.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Zx={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xs=function(e,t){var o=Zi.parse(e,t[0]),a=t[1];return a&&Do(a)?{color:o,stop:a}:{color:o,stop:null}},Cm=function(e,t){var o=e[0],a=e[e.length-1];o.stop===null&&(o.stop=ea),a.stop===null&&(a.stop=ji);for(var i=[],r=0,A=0;A<e.length;A++){var n=e[A].stop;if(n!==null){var s=lo(n,t);s>r?i.push(s):i.push(r),r=s}else i.push(null)}for(var l=null,A=0;A<i.length;A++){var c=i[A];if(c===null)l===null&&(l=A);else if(l!==null){for(var u=A-l,d=i[l-1],m=(c-d)/(u+1),g=1;g<=u;g++)i[l+g-1]=m*g;l=null}}return e.map(function(p,f){var v=p.color;return{color:v,stop:Math.max(Math.min(1,i[f]/t),0)}})},eP=function(e,t,o){var a=t/2,i=o/2,r=lo(e[0],t)-a,A=i-lo(e[1],o);return(Math.atan2(A,r)+Math.PI*2)%(Math.PI*2)},tP=function(e,t,o){var a=typeof e=="number"?e:eP(e,t,o),i=Math.abs(t*Math.sin(a))+Math.abs(o*Math.cos(a)),r=t/2,A=o/2,n=i/2,s=Math.sin(a-Math.PI/2)*n,l=Math.cos(a-Math.PI/2)*n;return[i,r-l,r+l,A-s,A+s]},Za=function(e,t){return Math.sqrt(e*e+t*t)},bm=function(e,t,o,a,i){var r=[[0,0],[0,t],[e,0],[e,t]];return r.reduce(function(A,n){var s=n[0],l=n[1],c=Za(o-s,a-l);return(i?c<A.optimumDistance:c>A.optimumDistance)?{optimumCorner:n,optimumDistance:c}:A},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},oP=function(e,t,o,a,i){var r=0,A=0;switch(e.size){case 0:e.shape===0?r=A=Math.min(Math.abs(t),Math.abs(t-a),Math.abs(o),Math.abs(o-i)):e.shape===1&&(r=Math.min(Math.abs(t),Math.abs(t-a)),A=Math.min(Math.abs(o),Math.abs(o-i)));break;case 2:if(e.shape===0)r=A=Math.min(Za(t,o),Za(t,o-i),Za(t-a,o),Za(t-a,o-i));else if(e.shape===1){var n=Math.min(Math.abs(o),Math.abs(o-i))/Math.min(Math.abs(t),Math.abs(t-a)),s=bm(a,i,t,o,!0),l=s[0],c=s[1];r=Za(l-t,(c-o)/n),A=n*r}break;case 1:e.shape===0?r=A=Math.max(Math.abs(t),Math.abs(t-a),Math.abs(o),Math.abs(o-i)):e.shape===1&&(r=Math.max(Math.abs(t),Math.abs(t-a)),A=Math.max(Math.abs(o),Math.abs(o-i)));break;case 3:if(e.shape===0)r=A=Math.max(Za(t,o),Za(t,o-i),Za(t-a,o),Za(t-a,o-i));else if(e.shape===1){var n=Math.max(Math.abs(o),Math.abs(o-i))/Math.max(Math.abs(t),Math.abs(t-a)),u=bm(a,i,t,o,!1),l=u[0],c=u[1];r=Za(l-t,(c-o)/n),A=n*r}break}return Array.isArray(e.size)&&(r=lo(e.size[0],a),A=e.size.length===2?lo(e.size[1],i):r),[r,A]},aP=function(e,t){var o=Ka(180),a=[];return yi(t).forEach(function(i,r){if(r===0){var A=i[0];if(A.type===20&&A.value==="to"){o=iv(i);return}else if(av(A)){o=Js.parse(e,A);return}}var n=Xs(e,i);a.push(n)}),{angle:o,stops:a,type:1}},Hn=function(e,t){var o=Ka(180),a=[];return yi(t).forEach(function(i,r){if(r===0){var A=i[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){o=iv(i);return}else if(av(A)){o=(Js.parse(e,A)+Ka(270))%Ka(360);return}}var n=Xs(e,i);a.push(n)}),{angle:o,stops:a,type:1}},iP=function(e,t){var o=Ka(180),a=[],i=1,r=0,A=3,n=[];return yi(t).forEach(function(s,l){var c=s[0];if(l===0){if(Yt(c)&&c.value==="linear"){i=1;return}else if(Yt(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=Zi.parse(e,c.values[0]);a.push({stop:ea,color:u})}else if(c.name==="to"){var u=Zi.parse(e,c.values[0]);a.push({stop:ji,color:u})}else if(c.name==="color-stop"){var d=c.values.filter(dA);if(d.length===2){var u=Zi.parse(e,d[1]),m=d[0];vA(m)&&a.push({stop:{type:16,number:m.number*100,flags:m.flags},color:u})}}}}),i===1?{angle:(o+Ka(180))%Ka(360),stops:a,type:i}:{size:A,shape:r,stops:a,position:n,type:i}},rv="closest-side",Av="farthest-side",nv="closest-corner",sv="farthest-corner",lv="circle",cv="ellipse",uv="cover",dv="contain",rP=function(e,t){var o=0,a=3,i=[],r=[];return yi(t).forEach(function(A,n){var s=!0;if(n===0){var l=!1;s=A.reduce(function(u,d){if(l)if(Yt(d))switch(d.value){case"center":return r.push(Lu),u;case"top":case"left":return r.push(ea),u;case"right":case"bottom":return r.push(ji),u}else(Do(d)||nr(d))&&r.push(d);else if(Yt(d))switch(d.value){case lv:return o=0,!1;case cv:return o=1,!1;case"at":return l=!0,!1;case rv:return a=0,!1;case uv:case Av:return a=1,!1;case dv:case nv:return a=2,!1;case sv:return a=3,!1}else if(nr(d)||Do(d))return Array.isArray(a)||(a=[]),a.push(d),!1;return u},s)}if(s){var c=Xs(e,A);i.push(c)}}),{size:a,shape:o,stops:i,position:r,type:2}},Tn=function(e,t){var o=0,a=3,i=[],r=[];return yi(t).forEach(function(A,n){var s=!0;if(n===0?s=A.reduce(function(c,u){if(Yt(u))switch(u.value){case"center":return r.push(Lu),!1;case"top":case"left":return r.push(ea),!1;case"right":case"bottom":return r.push(ji),!1}else if(Do(u)||nr(u))return r.push(u),!1;return c},s):n===1&&(s=A.reduce(function(c,u){if(Yt(u))switch(u.value){case lv:return o=0,!1;case cv:return o=1,!1;case dv:case rv:return a=0,!1;case Av:return a=1,!1;case nv:return a=2,!1;case uv:case sv:return a=3,!1}else if(nr(u)||Do(u))return Array.isArray(a)||(a=[]),a.push(u),!1;return c},s)),s){var l=Xs(e,A);i.push(l)}}),{size:a,shape:o,stops:i,position:r,type:2}},AP=function(e){return e.type===1},nP=function(e){return e.type===2},Hu={name:"image",parse:function(e,t){if(t.type===22){var o={url:t.value,type:0};return e.cache.addImage(t.value),o}if(t.type===18){var a=mv[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return a(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function sP(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!mv[e.name])}var mv={"linear-gradient":aP,"-moz-linear-gradient":Hn,"-ms-linear-gradient":Hn,"-o-linear-gradient":Hn,"-webkit-linear-gradient":Hn,"radial-gradient":rP,"-moz-radial-gradient":Tn,"-ms-radial-gradient":Tn,"-o-radial-gradient":Tn,"-webkit-radial-gradient":Tn,"-webkit-gradient":iP},lP={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var o=t[0];return o.type===20&&o.value==="none"?[]:t.filter(function(a){return dA(a)&&sP(a)}).map(function(a){return Hu.parse(e,a)})}},cP={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(o){if(Yt(o))switch(o.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uP={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return yi(t).map(function(o){return o.filter(Do)}).map(Yg)}},dP={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return yi(t).map(function(o){return o.filter(Yt).map(function(a){return a.value}).join(" ")}).map(mP)}},mP=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},aA;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(aA||(aA={}));var fP={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return yi(t).map(function(o){return o.filter(pP)})}},pP=function(e){return Yt(e)||Do(e)},Ys=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},gP=Ys("top"),vP=Ys("right"),hP=Ys("bottom"),BP=Ys("left"),Zs=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,o){return Yg(o.filter(Do))}}},CP=Zs("top-left"),bP=Zs("top-right"),wP=Zs("bottom-right"),FP=Zs("bottom-left"),el=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,o){switch(o){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},QP=el("top"),EP=el("right"),yP=el("bottom"),IP=el("left"),tl=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,o){return dn(o)?o.number:0}}},UP=tl("top"),SP=tl("right"),DP=tl("bottom"),xP=tl("left"),PP={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_P={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return t==="rtl"?1:0}},OP={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Yt).reduce(function(o,a){return o|RP(a.value)},0)}},RP=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},MP={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},LP={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Bs;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Bs||(Bs={}));var HP={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return t==="strict"?Bs.STRICT:Bs.NORMAL}},TP={name:"line-height",initialValue:"normal",prefix:!1,type:4},wm=function(e,t){return Yt(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Do(e)?lo(e,t):t},$P={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Hu.parse(e,t)}},VP={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return t==="inside"?0:1}},Ic={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ol=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},NP=ol("top"),qP=ol("right"),kP=ol("bottom"),KP=ol("left"),zP={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Yt).map(function(o){switch(o.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},GP={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return t==="break-word"?"break-word":"normal"}},al=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jP=al("top"),WP=al("right"),JP=al("bottom"),XP=al("left"),YP={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},ZP={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},e2={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&yc(t[0],"none")?[]:yi(t).map(function(o){for(var a={color:Ri.TRANSPARENT,offsetX:ea,offsetY:ea,blur:ea},i=0,r=0;r<o.length;r++){var A=o[r];nr(A)?(i===0?a.offsetX=A:i===1?a.offsetY=A:a.blur=A,i++):a.color=Zi.parse(e,A)}return a})}},t2={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},o2={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var o=r2[t.name];if(typeof o>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return o(t.values)}return null}},a2=function(e){var t=e.filter(function(o){return o.type===17}).map(function(o){return o.number});return t.length===6?t:null},i2=function(e){var t=e.filter(function(s){return s.type===17}).map(function(s){return s.number}),o=t[0],a=t[1];t[2],t[3];var i=t[4],r=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var A=t[12],n=t[13];return t[14],t[15],t.length===16?[o,a,i,r,A,n]:null},r2={matrix:a2,matrix3d:i2},Fm={type:16,number:50,flags:un},A2=[Fm,Fm],n2={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var o=t.filter(Do);return o.length!==2?A2:[o[0],o[1]]}},s2={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}},qA;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(qA||(qA={}));var l2={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return qA.BREAK_ALL;case"keep-all":return qA.KEEP_ALL;default:return qA.NORMAL}}},c2={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(vA(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},fv={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},u2={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return vA(t)?t.number:1}},d2={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},m2={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Yt).map(function(o){switch(o.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(o){return o!==0})}},f2={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var o=[],a=[];return t.forEach(function(i){switch(i.type){case 20:case 0:o.push(i.value);break;case 17:o.push(i.number.toString());break;case 4:a.push(o.join(" ")),o.length=0;break}}),o.length&&a.push(o.join(" ")),a.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},p2={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},g2={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return vA(t)?t.number:Yt(t)&&t.value==="bold"?700:400}},v2={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Yt).map(function(o){return o.value})}},h2={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Oo=function(e,t){return(e&t)!==0},B2={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var o=t[0];return o.type===20&&o.value==="none"?[]:t}},C2={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var o=t[0];if(o.type===20&&o.value==="none")return null;for(var a=[],i=t.filter(Xg),r=0;r<i.length;r++){var A=i[r],n=i[r+1];if(A.type===20){var s=n&&vA(n)?n.number:1;a.push({counter:A.value,increment:s})}}return a}},b2={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var o=[],a=t.filter(Xg),i=0;i<a.length;i++){var r=a[i],A=a[i+1];if(Yt(r)&&r.value!=="none"){var n=A&&vA(A)?A.number:0;o.push({counter:r.value,reset:n})}}return o}},w2={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(dn).map(function(o){return fv.parse(e,o)})}},F2={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var o=t[0];if(o.type===20&&o.value==="none")return null;var a=[],i=t.filter(Wx);if(i.length%2!==0)return null;for(var r=0;r<i.length;r+=2){var A=i[r].value,n=i[r+1].value;a.push({open:A,close:n})}return a}},Qm=function(e,t,o){if(!e)return"";var a=e[Math.min(t,e.length-1)];return a?o?a.open:a.close:""},Q2={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&yc(t[0],"none")?[]:yi(t).map(function(o){for(var a={color:255,offsetX:ea,offsetY:ea,blur:ea,spread:ea,inset:!1},i=0,r=0;r<o.length;r++){var A=o[r];yc(A,"inset")?a.inset=!0:nr(A)?(i===0?a.offsetX=A:i===1?a.offsetY=A:i===2?a.blur=A:a.spread=A,i++):a.color=Zi.parse(e,A)}return a})}},E2={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var o=[0,1,2],a=[];return t.filter(Yt).forEach(function(i){switch(i.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),o.forEach(function(i){a.indexOf(i)===-1&&a.push(i)}),a}},y2={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},I2={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return dn(t)?t.number:0}},U2=(function(){function e(t,o){var a,i;this.animationDuration=Oe(t,w2,o.animationDuration),this.backgroundClip=Oe(t,Yx,o.backgroundClip),this.backgroundColor=Oe(t,Zx,o.backgroundColor),this.backgroundImage=Oe(t,lP,o.backgroundImage),this.backgroundOrigin=Oe(t,cP,o.backgroundOrigin),this.backgroundPosition=Oe(t,uP,o.backgroundPosition),this.backgroundRepeat=Oe(t,dP,o.backgroundRepeat),this.backgroundSize=Oe(t,fP,o.backgroundSize),this.borderTopColor=Oe(t,gP,o.borderTopColor),this.borderRightColor=Oe(t,vP,o.borderRightColor),this.borderBottomColor=Oe(t,hP,o.borderBottomColor),this.borderLeftColor=Oe(t,BP,o.borderLeftColor),this.borderTopLeftRadius=Oe(t,CP,o.borderTopLeftRadius),this.borderTopRightRadius=Oe(t,bP,o.borderTopRightRadius),this.borderBottomRightRadius=Oe(t,wP,o.borderBottomRightRadius),this.borderBottomLeftRadius=Oe(t,FP,o.borderBottomLeftRadius),this.borderTopStyle=Oe(t,QP,o.borderTopStyle),this.borderRightStyle=Oe(t,EP,o.borderRightStyle),this.borderBottomStyle=Oe(t,yP,o.borderBottomStyle),this.borderLeftStyle=Oe(t,IP,o.borderLeftStyle),this.borderTopWidth=Oe(t,UP,o.borderTopWidth),this.borderRightWidth=Oe(t,SP,o.borderRightWidth),this.borderBottomWidth=Oe(t,DP,o.borderBottomWidth),this.borderLeftWidth=Oe(t,xP,o.borderLeftWidth),this.boxShadow=Oe(t,Q2,o.boxShadow),this.color=Oe(t,PP,o.color),this.direction=Oe(t,_P,o.direction),this.display=Oe(t,OP,o.display),this.float=Oe(t,MP,o.cssFloat),this.fontFamily=Oe(t,f2,o.fontFamily),this.fontSize=Oe(t,p2,o.fontSize),this.fontStyle=Oe(t,h2,o.fontStyle),this.fontVariant=Oe(t,v2,o.fontVariant),this.fontWeight=Oe(t,g2,o.fontWeight),this.letterSpacing=Oe(t,LP,o.letterSpacing),this.lineBreak=Oe(t,HP,o.lineBreak),this.lineHeight=Oe(t,TP,o.lineHeight),this.listStyleImage=Oe(t,$P,o.listStyleImage),this.listStylePosition=Oe(t,VP,o.listStylePosition),this.listStyleType=Oe(t,Ic,o.listStyleType),this.marginTop=Oe(t,NP,o.marginTop),this.marginRight=Oe(t,qP,o.marginRight),this.marginBottom=Oe(t,kP,o.marginBottom),this.marginLeft=Oe(t,KP,o.marginLeft),this.opacity=Oe(t,u2,o.opacity);var r=Oe(t,zP,o.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=Oe(t,GP,o.overflowWrap),this.paddingTop=Oe(t,jP,o.paddingTop),this.paddingRight=Oe(t,WP,o.paddingRight),this.paddingBottom=Oe(t,JP,o.paddingBottom),this.paddingLeft=Oe(t,XP,o.paddingLeft),this.paintOrder=Oe(t,E2,o.paintOrder),this.position=Oe(t,ZP,o.position),this.textAlign=Oe(t,YP,o.textAlign),this.textDecorationColor=Oe(t,d2,(a=o.textDecorationColor)!==null&&a!==void 0?a:o.color),this.textDecorationLine=Oe(t,m2,(i=o.textDecorationLine)!==null&&i!==void 0?i:o.textDecoration),this.textShadow=Oe(t,e2,o.textShadow),this.textTransform=Oe(t,t2,o.textTransform),this.transform=Oe(t,o2,o.transform),this.transformOrigin=Oe(t,n2,o.transformOrigin),this.visibility=Oe(t,s2,o.visibility),this.webkitTextStrokeColor=Oe(t,y2,o.webkitTextStrokeColor),this.webkitTextStrokeWidth=Oe(t,I2,o.webkitTextStrokeWidth),this.wordBreak=Oe(t,l2,o.wordBreak),this.zIndex=Oe(t,c2,o.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return er(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Oo(this.display,4)||Oo(this.display,33554432)||Oo(this.display,268435456)||Oo(this.display,536870912)||Oo(this.display,67108864)||Oo(this.display,134217728)},e})(),S2=(function(){function e(t,o){this.content=Oe(t,B2,o.content),this.quotes=Oe(t,F2,o.quotes)}return e})(),Em=(function(){function e(t,o){this.counterIncrement=Oe(t,C2,o.counterIncrement),this.counterReset=Oe(t,b2,o.counterReset)}return e})(),Oe=function(e,t,o){var a=new Wg,i=o!==null&&typeof o<"u"?o.toString():t.initialValue;a.write(i);var r=new Jg(a.read());switch(t.type){case 2:var A=r.parseComponentValue();return t.parse(e,Yt(A)?A.value:t.initialValue);case 0:return t.parse(e,r.parseComponentValue());case 1:return t.parse(e,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(t.format){case"angle":return Js.parse(e,r.parseComponentValue());case"color":return Zi.parse(e,r.parseComponentValue());case"image":return Hu.parse(e,r.parseComponentValue());case"length":var n=r.parseComponentValue();return nr(n)?n:ea;case"length-percentage":var s=r.parseComponentValue();return Do(s)?s:ea;case"time":return fv.parse(e,r.parseComponentValue())}break}},D2="data-html2canvas-debug",x2=function(e){var t=e.getAttribute(D2);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Uc=function(e,t){var o=x2(e);return o===1||t===o},Ii=(function(){function e(t,o){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Uc(o,3))debugger;this.styles=new U2(t,window.getComputedStyle(o,null)),xc(o)&&(this.styles.animationDuration.some(function(a){return a>0})&&(o.style.animationDuration="0s"),this.styles.transform!==null&&(o.style.transform="none")),this.bounds=js(this.context,o),Uc(o,4)&&(this.flags|=16)}return e})(),P2="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ym="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $n=0;$n<ym.length;$n++)MA[ym.charCodeAt($n)]=$n;var _2=function(e){var t=e.length*.75,o=e.length,a,i=0,r,A,n,s;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(l)?l:new Uint8Array(l);for(a=0;a<o;a+=4)r=MA[e.charCodeAt(a)],A=MA[e.charCodeAt(a+1)],n=MA[e.charCodeAt(a+2)],s=MA[e.charCodeAt(a+3)],c[i++]=r<<2|A>>4,c[i++]=(A&15)<<4|n>>2,c[i++]=(n&3)<<6|s&63;return l},O2=function(e){for(var t=e.length,o=[],a=0;a<t;a+=2)o.push(e[a+1]<<8|e[a]);return o},R2=function(e){for(var t=e.length,o=[],a=0;a<t;a+=4)o.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return o},xr=5,Tu=11,Sl=2,M2=Tu-xr,pv=65536>>xr,L2=1<<xr,Dl=L2-1,H2=1024>>xr,T2=pv+H2,$2=T2,V2=32,N2=$2+V2,q2=65536>>Tu,k2=1<<M2,K2=k2-1,Im=function(e,t,o){return e.slice?e.slice(t,o):new Uint16Array(Array.prototype.slice.call(e,t,o))},z2=function(e,t,o){return e.slice?e.slice(t,o):new Uint32Array(Array.prototype.slice.call(e,t,o))},G2=function(e,t){var o=_2(e),a=Array.isArray(o)?R2(o):new Uint32Array(o),i=Array.isArray(o)?O2(o):new Uint16Array(o),r=24,A=Im(i,r/2,a[4]/2),n=a[5]===2?Im(i,(r+a[4])/2):z2(a,Math.ceil((r+a[4])/4));return new j2(a[0],a[1],a[2],a[3],A,n)},j2=(function(){function e(t,o,a,i,r,A){this.initialValue=t,this.errorValue=o,this.highStart=a,this.highValueIndex=i,this.index=r,this.data=A}return e.prototype.get=function(t){var o;if(t>=0){if(t<55296||t>56319&&t<=65535)return o=this.index[t>>xr],o=(o<<Sl)+(t&Dl),this.data[o];if(t<=65535)return o=this.index[pv+(t-55296>>xr)],o=(o<<Sl)+(t&Dl),this.data[o];if(t<this.highStart)return o=N2-q2+(t>>Tu),o=this.index[o],o+=t>>xr&K2,o=this.index[o],o=(o<<Sl)+(t&Dl),this.data[o];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),Um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vn=0;Vn<Um.length;Vn++)W2[Um.charCodeAt(Vn)]=Vn;var J2=1,xl=2,Pl=3,Sm=4,Dm=5,X2=7,xm=8,_l=9,Ol=10,Pm=11,_m=12,Om=13,Rm=14,Rl=15,Y2=function(e){for(var t=[],o=0,a=e.length;o<a;){var i=e.charCodeAt(o++);if(i>=55296&&i<=56319&&o<a){var r=e.charCodeAt(o++);(r&64512)===56320?t.push(((i&1023)<<10)+(r&1023)+65536):(t.push(i),o--)}else t.push(i)}return t},Z2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var o=e.length;if(!o)return"";for(var a=[],i=-1,r="";++i<o;){var A=e[i];A<=65535?a.push(A):(A-=65536,a.push((A>>10)+55296,A%1024+56320)),(i+1===o||a.length>16384)&&(r+=String.fromCharCode.apply(String,a),a.length=0)}return r},e_=G2(P2),Ma="×",Ml="÷",t_=function(e){return e_.get(e)},o_=function(e,t,o){var a=o-2,i=t[a],r=t[o-1],A=t[o];if(r===xl&&A===Pl)return Ma;if(r===xl||r===Pl||r===Sm||A===xl||A===Pl||A===Sm)return Ml;if(r===xm&&[xm,_l,Pm,_m].indexOf(A)!==-1||(r===Pm||r===_l)&&(A===_l||A===Ol)||(r===_m||r===Ol)&&A===Ol||A===Om||A===Dm||A===X2||r===J2)return Ma;if(r===Om&&A===Rm){for(;i===Dm;)i=t[--a];if(i===Rm)return Ma}if(r===Rl&&A===Rl){for(var n=0;i===Rl;)n++,i=t[--a];if(n%2===0)return Ma}return Ml},a_=function(e){var t=Y2(e),o=t.length,a=0,i=0,r=t.map(t_);return{next:function(){if(a>=o)return{done:!0,value:null};for(var A=Ma;a<o&&(A=o_(t,r,++a))===Ma;);if(A!==Ma||a===o){var n=Z2.apply(null,t.slice(i,a));return i=a,{value:n,done:!1}}return{done:!0,value:null}}}},i_=function(e){for(var t=a_(e),o=[],a;!(a=t.next()).done;)a.value&&o.push(a.value.slice());return o},r_=function(e){var t=123;if(e.createRange){var o=e.createRange();if(o.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=t+"px",a.style.display="block",e.body.appendChild(a),o.selectNode(a);var i=o.getBoundingClientRect(),r=Math.round(i.height);if(e.body.removeChild(a),r===t)return!0}}return!1},A_=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var o=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=t.firstChild,i=Ws(a.data).map(function(s){return Io(s)}),r=0,A={},n=i.every(function(s,l){o.setStart(a,r),o.setEnd(a,r+s.length);var c=o.getBoundingClientRect();r+=s.length;var u=c.x>A.x||c.y>A.y;return A=c,l===0?!0:u});return e.body.removeChild(t),n},n_=function(){return typeof new Image().crossOrigin<"u"},s_=function(){return typeof new XMLHttpRequest().responseType=="string"},l_=function(e){var t=new Image,o=e.createElement("canvas"),a=o.getContext("2d");if(!a)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(t,0,0),o.toDataURL()}catch{return!1}return!0},Mm=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},c_=function(e){var t=e.createElement("canvas"),o=100;t.width=o,t.height=o;var a=t.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,o,o);var i=new Image,r=t.toDataURL();i.src=r;var A=Sc(o,o,0,0,i);return a.fillStyle="red",a.fillRect(0,0,o,o),Lm(A).then(function(n){a.drawImage(n,0,0);var s=a.getImageData(0,0,o,o).data;a.fillStyle="red",a.fillRect(0,0,o,o);var l=e.createElement("div");return l.style.backgroundImage="url("+r+")",l.style.height=o+"px",Mm(s)?Lm(Sc(o,o,0,0,l)):Promise.reject(!1)}).then(function(n){return a.drawImage(n,0,0),Mm(a.getImageData(0,0,o,o).data)}).catch(function(){return!1})},Sc=function(e,t,o,a,i){var r="http://www.w3.org/2000/svg",A=document.createElementNS(r,"svg"),n=document.createElementNS(r,"foreignObject");return A.setAttributeNS(null,"width",e.toString()),A.setAttributeNS(null,"height",t.toString()),n.setAttributeNS(null,"width","100%"),n.setAttributeNS(null,"height","100%"),n.setAttributeNS(null,"x",o.toString()),n.setAttributeNS(null,"y",a.toString()),n.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(n),n.appendChild(i),A},Lm=function(e){return new Promise(function(t,o){var a=new Image;a.onload=function(){return t(a)},a.onerror=o,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Jo={get SUPPORT_RANGE_BOUNDS(){var e=r_(document);return Object.defineProperty(Jo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Jo.SUPPORT_RANGE_BOUNDS&&A_(document);return Object.defineProperty(Jo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=l_(document);return Object.defineProperty(Jo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?c_(document):Promise.resolve(!1);return Object.defineProperty(Jo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=n_();return Object.defineProperty(Jo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=s_();return Object.defineProperty(Jo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Jo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Jo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},kA=(function(){function e(t,o){this.text=t,this.bounds=o}return e})(),u_=function(e,t,o,a){var i=f_(t,o),r=[],A=0;return i.forEach(function(n){if(o.textDecorationLine.length||n.trim().length>0)if(Jo.SUPPORT_RANGE_BOUNDS){var s=Hm(a,A,n.length).getClientRects();if(s.length>1){var l=$u(n),c=0;l.forEach(function(d){r.push(new kA(d,Hi.fromDOMRectList(e,Hm(a,c+A,d.length).getClientRects()))),c+=d.length})}else r.push(new kA(n,Hi.fromDOMRectList(e,s)))}else{var u=a.splitText(n.length);r.push(new kA(n,d_(e,a))),a=u}else Jo.SUPPORT_RANGE_BOUNDS||(a=a.splitText(n.length));A+=n.length}),r},d_=function(e,t){var o=t.ownerDocument;if(o){var a=o.createElement("html2canvaswrapper");a.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(a,t);var r=js(e,a);return a.firstChild&&i.replaceChild(a.firstChild,a),r}}return Hi.EMPTY},Hm=function(e,t,o){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var i=a.createRange();return i.setStart(e,t),i.setEnd(e,t+o),i},$u=function(e){if(Jo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(o){return o.segment})}return i_(e)},m_=function(e,t){if(Jo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var o=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(o.segment(e)).map(function(a){return a.segment})}return g_(e,t)},f_=function(e,t){return t.letterSpacing!==0?$u(e):m_(e,t)},p_=[32,160,4961,65792,65793,4153,4241],g_=function(e,t){for(var o=qD(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),a=[],i,r=function(){if(i.value){var A=i.value.slice(),n=Ws(A),s="";n.forEach(function(l){p_.indexOf(l)===-1?s+=Io(l):(s.length&&a.push(s),a.push(Io(l)),s="")}),s.length&&a.push(s)}};!(i=o.next()).done;)r();return a},v_=(function(){function e(t,o,a){this.text=h_(o.data,a.textTransform),this.textBounds=u_(t,this.text,a,o)}return e})(),h_=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(B_,C_);case 2:return e.toUpperCase();default:return e}},B_=/(^|\s|:|-|\(|\))([a-z])/g,C_=function(e,t,o){return e.length>0?t+o.toUpperCase():e},gv=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;return i.src=a.currentSrc||a.src,i.intrinsicWidth=a.naturalWidth,i.intrinsicHeight=a.naturalHeight,i.context.cache.addImage(i.src),i}return t})(Ii),vv=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;return i.canvas=a,i.intrinsicWidth=a.width,i.intrinsicHeight=a.height,i}return t})(Ii),hv=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this,r=new XMLSerializer,A=js(o,a);return a.setAttribute("width",A.width+"px"),a.setAttribute("height",A.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(a)),i.intrinsicWidth=a.width.baseVal.value,i.intrinsicHeight=a.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t})(Ii),Bv=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;return i.value=a.value,i}return t})(Ii),Dc=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;return i.start=a.start,i.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,i}return t})(Ii),b_=[{type:15,flags:0,unit:"px",number:3}],w_=[{type:16,flags:0,number:50}],F_=function(e){return e.width>e.height?new Hi(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Hi(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Q_=function(e){var t=e.type===E_?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},Cs="checkbox",bs="radio",E_="password",Tm=707406591,Vu=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;switch(i.type=a.type.toLowerCase(),i.checked=a.checked,i.value=Q_(a),(i.type===Cs||i.type===bs)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=F_(i.bounds)),i.type){case Cs:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=b_;break;case bs:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=w_;break}return i}return t})(Ii),Cv=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this,r=a.options[a.selectedIndex||0];return i.value=r&&r.text||"",i}return t})(Ii),bv=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;return i.value=a.value,i}return t})(Ii),wv=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;i.src=a.src,i.width=parseInt(a.width,10)||0,i.height=parseInt(a.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){i.tree=Qv(o,a.contentWindow.document.documentElement);var r=a.contentWindow.document.documentElement?NA(o,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):Ri.TRANSPARENT,A=a.contentWindow.document.body?NA(o,getComputedStyle(a.contentWindow.document.body).backgroundColor):Ri.TRANSPARENT;i.backgroundColor=er(r)?er(A)?i.styles.backgroundColor:A:r}}catch{}return i}return t})(Ii),y_=["OL","UL","MENU"],Zn=function(e,t,o,a){for(var i=t.firstChild,r=void 0;i;i=r)if(r=i.nextSibling,Ev(i)&&i.data.trim().length>0)o.textNodes.push(new v_(e,i,o.styles));else if(Xr(i))if(Sv(i)&&i.assignedNodes)i.assignedNodes().forEach(function(n){return Zn(e,n,o,a)});else{var A=Fv(e,i);A.styles.isVisible()&&(I_(i,A,a)?A.flags|=4:U_(A.styles)&&(A.flags|=2),y_.indexOf(i.tagName)!==-1&&(A.flags|=8),o.elements.push(A),i.slot,i.shadowRoot?Zn(e,i.shadowRoot,A,a):!ws(i)&&!yv(i)&&!Fs(i)&&Zn(e,i,A,a))}},Fv=function(e,t){return Pc(t)?new gv(e,t):Iv(t)?new vv(e,t):yv(t)?new hv(e,t):S_(t)?new Bv(e,t):D_(t)?new Dc(e,t):x_(t)?new Vu(e,t):Fs(t)?new Cv(e,t):ws(t)?new bv(e,t):Uv(t)?new wv(e,t):new Ii(e,t)},Qv=function(e,t){var o=Fv(e,t);return o.flags|=4,Zn(e,t,o,o),o},I_=function(e,t,o){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Nu(e)&&o.styles.isTransparent()},U_=function(e){return e.isPositioned()||e.isFloating()},Ev=function(e){return e.nodeType===Node.TEXT_NODE},Xr=function(e){return e.nodeType===Node.ELEMENT_NODE},xc=function(e){return Xr(e)&&typeof e.style<"u"&&!es(e)},es=function(e){return typeof e.className=="object"},S_=function(e){return e.tagName==="LI"},D_=function(e){return e.tagName==="OL"},x_=function(e){return e.tagName==="INPUT"},P_=function(e){return e.tagName==="HTML"},yv=function(e){return e.tagName==="svg"},Nu=function(e){return e.tagName==="BODY"},Iv=function(e){return e.tagName==="CANVAS"},$m=function(e){return e.tagName==="VIDEO"},Pc=function(e){return e.tagName==="IMG"},Uv=function(e){return e.tagName==="IFRAME"},Vm=function(e){return e.tagName==="STYLE"},__=function(e){return e.tagName==="SCRIPT"},ws=function(e){return e.tagName==="TEXTAREA"},Fs=function(e){return e.tagName==="SELECT"},Sv=function(e){return e.tagName==="SLOT"},Nm=function(e){return e.tagName.indexOf("-")>0},O_=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var o=this.counters[t];return o&&o.length?o[o.length-1]:1},e.prototype.getCounterValues=function(t){var o=this.counters[t];return o||[]},e.prototype.pop=function(t){var o=this;t.forEach(function(a){return o.counters[a].pop()})},e.prototype.parse=function(t){var o=this,a=t.counterIncrement,i=t.counterReset,r=!0;a!==null&&a.forEach(function(n){var s=o.counters[n.counter];s&&n.increment!==0&&(r=!1,s.length||s.push(1),s[Math.max(0,s.length-1)]+=n.increment)});var A=[];return r&&i.forEach(function(n){var s=o.counters[n.counter];A.push(n.counter),s||(s=o.counters[n.counter]=[]),s.push(n.reset)}),A},e})(),qm={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},km={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},R_={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},M_={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},kr=function(e,t,o,a,i,r){return e<t||e>o?ZA(e,i,r.length>0):a.integers.reduce(function(A,n,s){for(;e>=n;)e-=n,A+=a.values[s];return A},"")+r},Dv=function(e,t,o,a){var i="";do o||e--,i=a(e)+i,e/=t;while(e*t>=t);return i},yo=function(e,t,o,a,i){var r=o-t+1;return(e<0?"-":"")+(Dv(Math.abs(e),r,a,function(A){return Io(Math.floor(A%r)+t)})+i)},mr=function(e,t,o){o===void 0&&(o=". ");var a=t.length;return Dv(Math.abs(e),a,!1,function(i){return t[Math.floor(i%a)]})+o},Gr=1,Vi=2,Ni=4,LA=8,xi=function(e,t,o,a,i,r){if(e<-9999||e>9999)return ZA(e,4,i.length>0);var A=Math.abs(e),n=i;if(A===0)return t[0]+n;for(var s=0;A>0&&s<=4;s++){var l=A%10;l===0&&Oo(r,Gr)&&n!==""?n=t[l]+n:l>1||l===1&&s===0||l===1&&s===1&&Oo(r,Vi)||l===1&&s===1&&Oo(r,Ni)&&e>100||l===1&&s>1&&Oo(r,LA)?n=t[l]+(s>0?o[s-1]:"")+n:l===1&&s>0&&(n=o[s-1]+n),A=Math.floor(A/10)}return(e<0?a:"")+n},Km="十百千萬",zm="拾佰仟萬",Gm="マイナス",Ll="마이너스",ZA=function(e,t,o){var a=o?". ":"",i=o?"、":"",r=o?", ":"",A=o?" ":"";switch(t){case 0:return"•"+A;case 1:return"◦"+A;case 2:return"◾"+A;case 5:var n=yo(e,48,57,!0,a);return n.length<4?"0"+n:n;case 4:return mr(e,"〇一二三四五六七八九",i);case 6:return kr(e,1,3999,qm,3,a).toLowerCase();case 7:return kr(e,1,3999,qm,3,a);case 8:return yo(e,945,969,!1,a);case 9:return yo(e,97,122,!1,a);case 10:return yo(e,65,90,!1,a);case 11:return yo(e,1632,1641,!0,a);case 12:case 49:return kr(e,1,9999,km,3,a);case 35:return kr(e,1,9999,km,3,a).toLowerCase();case 13:return yo(e,2534,2543,!0,a);case 14:case 30:return yo(e,6112,6121,!0,a);case 15:return mr(e,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return mr(e,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return xi(e,"零一二三四五六七八九",Km,"負",i,Vi|Ni|LA);case 47:return xi(e,"零壹貳參肆伍陸柒捌玖",zm,"負",i,Gr|Vi|Ni|LA);case 42:return xi(e,"零一二三四五六七八九",Km,"负",i,Vi|Ni|LA);case 41:return xi(e,"零壹贰叁肆伍陆柒捌玖",zm,"负",i,Gr|Vi|Ni|LA);case 26:return xi(e,"〇一二三四五六七八九","十百千万",Gm,i,0);case 25:return xi(e,"零壱弐参四伍六七八九","拾百千万",Gm,i,Gr|Vi|Ni);case 31:return xi(e,"영일이삼사오육칠팔구","십백천만",Ll,r,Gr|Vi|Ni);case 33:return xi(e,"零一二三四五六七八九","十百千萬",Ll,r,0);case 32:return xi(e,"零壹貳參四五六七八九","拾百千",Ll,r,Gr|Vi|Ni);case 18:return yo(e,2406,2415,!0,a);case 20:return kr(e,1,19999,M_,3,a);case 21:return yo(e,2790,2799,!0,a);case 22:return yo(e,2662,2671,!0,a);case 22:return kr(e,1,10999,R_,3,a);case 23:return mr(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return mr(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return yo(e,3302,3311,!0,a);case 28:return mr(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return mr(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return yo(e,3792,3801,!0,a);case 37:return yo(e,6160,6169,!0,a);case 38:return yo(e,4160,4169,!0,a);case 39:return yo(e,2918,2927,!0,a);case 40:return yo(e,1776,1785,!0,a);case 43:return yo(e,3046,3055,!0,a);case 44:return yo(e,3174,3183,!0,a);case 45:return yo(e,3664,3673,!0,a);case 46:return yo(e,3872,3881,!0,a);default:return yo(e,48,57,!0,a)}},xv="data-html2canvas-ignore",jm=(function(){function e(t,o,a){if(this.context=t,this.options=a,this.scrolledElements=[],this.referenceElement=o,this.counters=new O_,this.quoteDepth=0,!o.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(o.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,o){var a=this,i=L_(t,o);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var r=t.defaultView.pageXOffset,A=t.defaultView.pageYOffset,n=i.contentWindow,s=n.document,l=$_(i).then(function(){return ca(a,void 0,void 0,function(){var c,u;return oa(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(k_),n&&(n.scrollTo(o.left,o.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(n.scrollY!==o.top||n.scrollX!==o.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(n.scrollX-o.left,n.scrollY-o.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:s.fonts&&s.fonts.ready?[4,s.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,T_(s)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(s,u)}).then(function(){return i})]:[2,i]}})})});return s.open(),s.write(N_(document.doctype)+"<html></html>"),q_(this.referenceElement.ownerDocument,r,A),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),s.close(),l},e.prototype.createElementClone=function(t){if(Uc(t,2))debugger;if(Iv(t))return this.createCanvasClone(t);if($m(t))return this.createVideoClone(t);if(Vm(t))return this.createStyleClone(t);var o=t.cloneNode(!1);return Pc(o)&&(Pc(t)&&t.currentSrc&&t.currentSrc!==t.src&&(o.src=t.currentSrc,o.srcset=""),o.loading==="lazy"&&(o.loading="eager")),Nm(o)?this.createCustomElementClone(o):o},e.prototype.createCustomElementClone=function(t){var o=document.createElement("html2canvascustomelement");return Hl(t.style,o),o},e.prototype.createStyleClone=function(t){try{var o=t.sheet;if(o&&o.cssRules){var a=[].slice.call(o.cssRules,0).reduce(function(r,A){return A&&typeof A.cssText=="string"?r+A.cssText:r},""),i=t.cloneNode(!1);return i.textContent=a,i}}catch(r){if(this.context.logger.error("Unable to access cssRules property",r),r.name!=="SecurityError")throw r}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var o;if(this.options.inlineImages&&t.ownerDocument){var a=t.ownerDocument.createElement("img");try{return a.src=t.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var r=t.getContext("2d"),A=i.getContext("2d");if(A)if(!this.options.allowTaint&&r)A.putImageData(r.getImageData(0,0,t.width,t.height),0,0);else{var n=(o=t.getContext("webgl2"))!==null&&o!==void 0?o:t.getContext("webgl");if(n){var s=n.getContextAttributes();s?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}A.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var o=t.ownerDocument.createElement("canvas");o.width=t.offsetWidth,o.height=t.offsetHeight;var a=o.getContext("2d");try{return a&&(a.drawImage(t,0,0,o.width,o.height),this.options.allowTaint||a.getImageData(0,0,o.width,o.height)),o}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,o,a){(!Xr(o)||!__(o)&&!o.hasAttribute(xv)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(o)))&&(!this.options.copyStyles||!Xr(o)||!Vm(o))&&t.appendChild(this.cloneNode(o,a))},e.prototype.cloneChildNodes=function(t,o,a){for(var i=this,r=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;r;r=r.nextSibling)if(Xr(r)&&Sv(r)&&typeof r.assignedNodes=="function"){var A=r.assignedNodes();A.length&&A.forEach(function(n){return i.appendChildNode(o,n,a)})}else this.appendChildNode(o,r,a)},e.prototype.cloneNode=function(t,o){if(Ev(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var a=t.ownerDocument.defaultView;if(a&&Xr(t)&&(xc(t)||es(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var r=a.getComputedStyle(t),A=a.getComputedStyle(t,":before"),n=a.getComputedStyle(t,":after");this.referenceElement===t&&xc(i)&&(this.clonedReferenceElement=i),Nu(i)&&G_(i);var s=this.counters.parse(new Em(this.context,r)),l=this.resolvePseudoContent(t,i,A,KA.BEFORE);Nm(t)&&(o=!0),$m(t)||this.cloneChildNodes(t,i,o),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(t,i,n,KA.AFTER);return c&&i.appendChild(c),this.counters.pop(s),(r&&(this.options.copyStyles||es(t))&&!Uv(t)||o)&&Hl(r,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(ws(t)||Fs(t))&&(ws(i)||Fs(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,o,a,i){var r=this;if(a){var A=a.content,n=o.ownerDocument;if(!(!n||!A||A==="none"||A==="-moz-alt-content"||a.display==="none")){this.counters.parse(new Em(this.context,a));var s=new S2(this.context,a),l=n.createElement("html2canvaspseudoelement");Hl(a,l),s.content.forEach(function(u){if(u.type===0)l.appendChild(n.createTextNode(u.value));else if(u.type===22){var d=n.createElement("img");d.src=u.value,d.style.opacity="1",l.appendChild(d)}else if(u.type===18){if(u.name==="attr"){var m=u.values.filter(Yt);m.length&&l.appendChild(n.createTextNode(t.getAttribute(m[0].value)||""))}else if(u.name==="counter"){var g=u.values.filter(dA),p=g[0],f=g[1];if(p&&Yt(p)){var v=r.counters.getCounterValue(p.value),h=f&&Yt(f)?Ic.parse(r.context,f.value):3;l.appendChild(n.createTextNode(ZA(v,h,!1)))}}else if(u.name==="counters"){var B=u.values.filter(dA),p=B[0],b=B[1],f=B[2];if(p&&Yt(p)){var Q=r.counters.getCounterValues(p.value),y=f&&Yt(f)?Ic.parse(r.context,f.value):3,I=b&&b.type===0?b.value:"",D=Q.map(function(k){return ZA(k,y,!1)}).join(I);l.appendChild(n.createTextNode(D))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(n.createTextNode(Qm(s.quotes,r.quoteDepth++,!0)));break;case"close-quote":l.appendChild(n.createTextNode(Qm(s.quotes,--r.quoteDepth,!1)));break;default:l.appendChild(n.createTextNode(u.value))}}),l.className=_c+" "+Oc;var c=i===KA.BEFORE?" "+_c:" "+Oc;return es(o)?o.className.baseValue+=c:o.className+=c,l}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),KA;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(KA||(KA={}));var L_=function(e,t){var o=e.createElement("iframe");return o.className="html2canvas-container",o.style.visibility="hidden",o.style.position="fixed",o.style.left="-10000px",o.style.top="0px",o.style.border="0",o.width=t.width.toString(),o.height=t.height.toString(),o.scrolling="no",o.setAttribute(xv,"true"),e.body.appendChild(o),o},H_=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},T_=function(e){return Promise.all([].slice.call(e.images,0).map(H_))},$_=function(e){return new Promise(function(t,o){var a=e.contentWindow;if(!a)return o("No window assigned for iframe");var i=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var r=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(r),t(e))},50)}})},V_=["all","d","content"],Hl=function(e,t){for(var o=e.length-1;o>=0;o--){var a=e.item(o);V_.indexOf(a)===-1&&t.style.setProperty(a,e.getPropertyValue(a))}return t},N_=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},q_=function(e,t,o){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||o!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,o)},k_=function(e){var t=e[0],o=e[1],a=e[2];t.scrollLeft=o,t.scrollTop=a},K_=":before",z_=":after",_c="___html2canvas___pseudoelement_before",Oc="___html2canvas___pseudoelement_after",Wm=`{
    content: "" !important;
    display: none !important;
}`,G_=function(e){j_(e,"."+_c+K_+Wm+`
         .`+Oc+z_+Wm)},j_=function(e,t){var o=e.ownerDocument;if(o){var a=o.createElement("style");a.textContent=t,e.appendChild(a)}},Pv=(function(){function e(){}return e.getOrigin=function(t){var o=e._link;return o?(o.href=t,o.href=o.href,o.protocol+o.hostname+o.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),W_=(function(){function e(t,o){this.context=t,this._options=o,this._cache={}}return e.prototype.addImage=function(t){var o=Promise.resolve();return this.has(t)||($l(t)||Z_(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),o},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ca(this,void 0,void 0,function(){var o,a,i,r,A=this;return oa(this,function(n){switch(n.label){case 0:return o=Pv.isSameOrigin(t),a=!Tl(t)&&this._options.useCORS===!0&&Jo.SUPPORT_CORS_IMAGES&&!o,i=!Tl(t)&&!o&&!$l(t)&&typeof this._options.proxy=="string"&&Jo.SUPPORT_CORS_XHR&&!a,!o&&this._options.allowTaint===!1&&!Tl(t)&&!$l(t)&&!i&&!a?[2]:(r=t,i?[4,this.proxy(r)]:[3,2]);case 1:r=n.sent(),n.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(s,l){var c=new Image;c.onload=function(){return s(c)},c.onerror=l,(eO(r)||a)&&(c.crossOrigin="anonymous"),c.src=r,c.complete===!0&&setTimeout(function(){return s(c)},500),A._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,n.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var o=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(r,A){var n=Jo.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(s.status===200)if(n==="text")r(s.response);else{var u=new FileReader;u.addEventListener("load",function(){return r(u.result)},!1),u.addEventListener("error",function(d){return A(d)},!1),u.readAsDataURL(s.response)}else A("Failed to proxy resource "+i+" with status code "+s.status)},s.onerror=A;var l=a.indexOf("?")>-1?"&":"?";if(s.open("GET",""+a+l+"url="+encodeURIComponent(t)+"&responseType="+n),n!=="text"&&s instanceof XMLHttpRequest&&(s.responseType=n),o._options.imageTimeout){var c=o._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return A("Timed out ("+c+"ms) proxying "+i)}}s.send()})},e})(),J_=/^data:image\/svg\+xml/i,X_=/^data:image\/.*;base64,/i,Y_=/^data:image\/.*/i,Z_=function(e){return Jo.SUPPORT_SVG_DRAWING||!tO(e)},Tl=function(e){return Y_.test(e)},eO=function(e){return X_.test(e)},$l=function(e){return e.substr(0,4)==="blob"},tO=function(e){return e.substr(-3).toLowerCase()==="svg"||J_.test(e)},xe=(function(){function e(t,o){this.type=0,this.x=t,this.y=o}return e.prototype.add=function(t,o){return new e(this.x+t,this.y+o)},e})(),Kr=function(e,t,o){return new xe(e.x+(t.x-e.x)*o,e.y+(t.y-e.y)*o)},Nn=(function(){function e(t,o,a,i){this.type=1,this.start=t,this.startControl=o,this.endControl=a,this.end=i}return e.prototype.subdivide=function(t,o){var a=Kr(this.start,this.startControl,t),i=Kr(this.startControl,this.endControl,t),r=Kr(this.endControl,this.end,t),A=Kr(a,i,t),n=Kr(i,r,t),s=Kr(A,n,t);return o?new e(this.start,a,A,s):new e(s,n,r,this.end)},e.prototype.add=function(t,o){return new e(this.start.add(t,o),this.startControl.add(t,o),this.endControl.add(t,o),this.end.add(t,o))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),Ha=function(e){return e.type===1},oO=(function(){function e(t){var o=t.styles,a=t.bounds,i=RA(o.borderTopLeftRadius,a.width,a.height),r=i[0],A=i[1],n=RA(o.borderTopRightRadius,a.width,a.height),s=n[0],l=n[1],c=RA(o.borderBottomRightRadius,a.width,a.height),u=c[0],d=c[1],m=RA(o.borderBottomLeftRadius,a.width,a.height),g=m[0],p=m[1],f=[];f.push((r+s)/a.width),f.push((g+u)/a.width),f.push((A+p)/a.height),f.push((l+d)/a.height);var v=Math.max.apply(Math,f);v>1&&(r/=v,A/=v,s/=v,l/=v,u/=v,d/=v,g/=v,p/=v);var h=a.width-s,B=a.height-d,b=a.width-u,Q=a.height-p,y=o.borderTopWidth,I=o.borderRightWidth,D=o.borderBottomWidth,O=o.borderLeftWidth,S=lo(o.paddingTop,t.bounds.width),k=lo(o.paddingRight,t.bounds.width),W=lo(o.paddingBottom,t.bounds.width),re=lo(o.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||A>0?vo(a.left+O/3,a.top+y/3,r-O/3,A-y/3,$t.TOP_LEFT):new xe(a.left+O/3,a.top+y/3),this.topRightBorderDoubleOuterBox=r>0||A>0?vo(a.left+h,a.top+y/3,s-I/3,l-y/3,$t.TOP_RIGHT):new xe(a.left+a.width-I/3,a.top+y/3),this.bottomRightBorderDoubleOuterBox=u>0||d>0?vo(a.left+b,a.top+B,u-I/3,d-D/3,$t.BOTTOM_RIGHT):new xe(a.left+a.width-I/3,a.top+a.height-D/3),this.bottomLeftBorderDoubleOuterBox=g>0||p>0?vo(a.left+O/3,a.top+Q,g-O/3,p-D/3,$t.BOTTOM_LEFT):new xe(a.left+O/3,a.top+a.height-D/3),this.topLeftBorderDoubleInnerBox=r>0||A>0?vo(a.left+O*2/3,a.top+y*2/3,r-O*2/3,A-y*2/3,$t.TOP_LEFT):new xe(a.left+O*2/3,a.top+y*2/3),this.topRightBorderDoubleInnerBox=r>0||A>0?vo(a.left+h,a.top+y*2/3,s-I*2/3,l-y*2/3,$t.TOP_RIGHT):new xe(a.left+a.width-I*2/3,a.top+y*2/3),this.bottomRightBorderDoubleInnerBox=u>0||d>0?vo(a.left+b,a.top+B,u-I*2/3,d-D*2/3,$t.BOTTOM_RIGHT):new xe(a.left+a.width-I*2/3,a.top+a.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||p>0?vo(a.left+O*2/3,a.top+Q,g-O*2/3,p-D*2/3,$t.BOTTOM_LEFT):new xe(a.left+O*2/3,a.top+a.height-D*2/3),this.topLeftBorderStroke=r>0||A>0?vo(a.left+O/2,a.top+y/2,r-O/2,A-y/2,$t.TOP_LEFT):new xe(a.left+O/2,a.top+y/2),this.topRightBorderStroke=r>0||A>0?vo(a.left+h,a.top+y/2,s-I/2,l-y/2,$t.TOP_RIGHT):new xe(a.left+a.width-I/2,a.top+y/2),this.bottomRightBorderStroke=u>0||d>0?vo(a.left+b,a.top+B,u-I/2,d-D/2,$t.BOTTOM_RIGHT):new xe(a.left+a.width-I/2,a.top+a.height-D/2),this.bottomLeftBorderStroke=g>0||p>0?vo(a.left+O/2,a.top+Q,g-O/2,p-D/2,$t.BOTTOM_LEFT):new xe(a.left+O/2,a.top+a.height-D/2),this.topLeftBorderBox=r>0||A>0?vo(a.left,a.top,r,A,$t.TOP_LEFT):new xe(a.left,a.top),this.topRightBorderBox=s>0||l>0?vo(a.left+h,a.top,s,l,$t.TOP_RIGHT):new xe(a.left+a.width,a.top),this.bottomRightBorderBox=u>0||d>0?vo(a.left+b,a.top+B,u,d,$t.BOTTOM_RIGHT):new xe(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=g>0||p>0?vo(a.left,a.top+Q,g,p,$t.BOTTOM_LEFT):new xe(a.left,a.top+a.height),this.topLeftPaddingBox=r>0||A>0?vo(a.left+O,a.top+y,Math.max(0,r-O),Math.max(0,A-y),$t.TOP_LEFT):new xe(a.left+O,a.top+y),this.topRightPaddingBox=s>0||l>0?vo(a.left+Math.min(h,a.width-I),a.top+y,h>a.width+I?0:Math.max(0,s-I),Math.max(0,l-y),$t.TOP_RIGHT):new xe(a.left+a.width-I,a.top+y),this.bottomRightPaddingBox=u>0||d>0?vo(a.left+Math.min(b,a.width-O),a.top+Math.min(B,a.height-D),Math.max(0,u-I),Math.max(0,d-D),$t.BOTTOM_RIGHT):new xe(a.left+a.width-I,a.top+a.height-D),this.bottomLeftPaddingBox=g>0||p>0?vo(a.left+O,a.top+Math.min(Q,a.height-D),Math.max(0,g-O),Math.max(0,p-D),$t.BOTTOM_LEFT):new xe(a.left+O,a.top+a.height-D),this.topLeftContentBox=r>0||A>0?vo(a.left+O+re,a.top+y+S,Math.max(0,r-(O+re)),Math.max(0,A-(y+S)),$t.TOP_LEFT):new xe(a.left+O+re,a.top+y+S),this.topRightContentBox=s>0||l>0?vo(a.left+Math.min(h,a.width+O+re),a.top+y+S,h>a.width+O+re?0:s-O+re,l-(y+S),$t.TOP_RIGHT):new xe(a.left+a.width-(I+k),a.top+y+S),this.bottomRightContentBox=u>0||d>0?vo(a.left+Math.min(b,a.width-(O+re)),a.top+Math.min(B,a.height+y+S),Math.max(0,u-(I+k)),d-(D+W),$t.BOTTOM_RIGHT):new xe(a.left+a.width-(I+k),a.top+a.height-(D+W)),this.bottomLeftContentBox=g>0||p>0?vo(a.left+O+re,a.top+Q,Math.max(0,g-(O+re)),p-(D+W),$t.BOTTOM_LEFT):new xe(a.left+O+re,a.top+a.height-(D+W))}return e})(),$t;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})($t||($t={}));var vo=function(e,t,o,a,i){var r=4*((Math.sqrt(2)-1)/3),A=o*r,n=a*r,s=e+o,l=t+a;switch(i){case $t.TOP_LEFT:return new Nn(new xe(e,l),new xe(e,l-n),new xe(s-A,t),new xe(s,t));case $t.TOP_RIGHT:return new Nn(new xe(e,t),new xe(e+A,t),new xe(s,l-n),new xe(s,l));case $t.BOTTOM_RIGHT:return new Nn(new xe(s,t),new xe(s,t+n),new xe(e+A,l),new xe(e,l));case $t.BOTTOM_LEFT:default:return new Nn(new xe(s,l),new xe(s-A,l),new xe(e,t+n),new xe(e,t))}},Qs=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},aO=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Es=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},iO=(function(){function e(t,o,a){this.offsetX=t,this.offsetY=o,this.matrix=a,this.type=0,this.target=6}return e})(),qn=(function(){function e(t,o){this.path=t,this.target=o,this.type=1}return e})(),rO=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),AO=function(e){return e.type===0},_v=function(e){return e.type===1},nO=function(e){return e.type===2},Jm=function(e,t){return e.length===t.length?e.some(function(o,a){return o===t[a]}):!1},sO=function(e,t,o,a,i){return e.map(function(r,A){switch(A){case 0:return r.add(t,o);case 1:return r.add(t+a,o);case 2:return r.add(t+a,o+i);case 3:return r.add(t,o+i)}return r})},Ov=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),Rv=(function(){function e(t,o){if(this.container=t,this.parent=o,this.effects=[],this.curves=new oO(this.container),this.container.styles.opacity<1&&this.effects.push(new rO(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new iO(a,i,r))}if(this.container.styles.overflowX!==0){var A=Qs(this.curves),n=Es(this.curves);Jm(A,n)?this.effects.push(new qn(A,6)):(this.effects.push(new qn(A,2)),this.effects.push(new qn(n,4)))}}return e.prototype.getEffects=function(t){for(var o=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,i=this.effects.slice(0);a;){var r=a.effects.filter(function(s){return!_v(s)});if(o||a.container.styles.position!==0||!a.parent){if(i.unshift.apply(i,r),o=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var A=Qs(a.curves),n=Es(a.curves);Jm(A,n)||i.unshift(new qn(n,6))}}else i.unshift.apply(i,r);a=a.parent}return i.filter(function(s){return Oo(s.target,t)})},e})(),Rc=function(e,t,o,a){e.container.elements.forEach(function(i){var r=Oo(i.flags,4),A=Oo(i.flags,2),n=new Rv(i,e);Oo(i.styles.display,2048)&&a.push(n);var s=Oo(i.flags,8)?[]:a;if(r||A){var l=r||i.styles.isPositioned()?o:t,c=new Ov(n);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;l.negativeZIndex.some(function(g,p){return u>g.element.container.styles.zIndex.order?(d=p,!1):d>0}),l.negativeZIndex.splice(d,0,c)}else if(u>0){var m=0;l.positiveZIndex.some(function(g,p){return u>=g.element.container.styles.zIndex.order?(m=p+1,!1):m>0}),l.positiveZIndex.splice(m,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Rc(n,c,r?c:o,s)}else i.styles.isInlineLevel()?t.inlineLevel.push(n):t.nonInlineLevel.push(n),Rc(n,t,o,s);Oo(i.flags,8)&&Mv(i,s)})},Mv=function(e,t){for(var o=e instanceof Dc?e.start:1,a=e instanceof Dc?e.reversed:!1,i=0;i<t.length;i++){var r=t[i];r.container instanceof Bv&&typeof r.container.value=="number"&&r.container.value!==0&&(o=r.container.value),r.listValue=ZA(o,r.container.styles.listStyleType,!0),o+=a?-1:1}},lO=function(e){var t=new Rv(e,null),o=new Ov(t),a=[];return Rc(t,o,o,a),Mv(t.container,a),o},Xm=function(e,t){switch(t){case 0:return za(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return za(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return za(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return za(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},cO=function(e,t){switch(t){case 0:return za(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return za(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return za(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return za(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},uO=function(e,t){switch(t){case 0:return za(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return za(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return za(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return za(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},dO=function(e,t){switch(t){case 0:return kn(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return kn(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return kn(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return kn(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},kn=function(e,t){var o=[];return Ha(e)?o.push(e.subdivide(.5,!1)):o.push(e),Ha(t)?o.push(t.subdivide(.5,!0)):o.push(t),o},za=function(e,t,o,a){var i=[];return Ha(e)?i.push(e.subdivide(.5,!1)):i.push(e),Ha(o)?i.push(o.subdivide(.5,!0)):i.push(o),Ha(a)?i.push(a.subdivide(.5,!0).reverse()):i.push(a),Ha(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Lv=function(e){var t=e.bounds,o=e.styles;return t.add(o.borderLeftWidth,o.borderTopWidth,-(o.borderRightWidth+o.borderLeftWidth),-(o.borderTopWidth+o.borderBottomWidth))},ys=function(e){var t=e.styles,o=e.bounds,a=lo(t.paddingLeft,o.width),i=lo(t.paddingRight,o.width),r=lo(t.paddingTop,o.width),A=lo(t.paddingBottom,o.width);return o.add(a+t.borderLeftWidth,r+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+a+i),-(t.borderTopWidth+t.borderBottomWidth+r+A))},mO=function(e,t){return e===0?t.bounds:e===2?ys(t):Lv(t)},fO=function(e,t){return e===0?t.bounds:e===2?ys(t):Lv(t)},Vl=function(e,t,o){var a=mO(jr(e.styles.backgroundOrigin,t),e),i=fO(jr(e.styles.backgroundClip,t),e),r=pO(jr(e.styles.backgroundSize,t),o,a),A=r[0],n=r[1],s=RA(jr(e.styles.backgroundPosition,t),a.width-A,a.height-n),l=gO(jr(e.styles.backgroundRepeat,t),s,r,a,i),c=Math.round(a.left+s[0]),u=Math.round(a.top+s[1]);return[l,c,u,A,n]},zr=function(e){return Yt(e)&&e.value===aA.AUTO},Kn=function(e){return typeof e=="number"},pO=function(e,t,o){var a=t[0],i=t[1],r=t[2],A=e[0],n=e[1];if(!A)return[0,0];if(Do(A)&&n&&Do(n))return[lo(A,o.width),lo(n,o.height)];var s=Kn(r);if(Yt(A)&&(A.value===aA.CONTAIN||A.value===aA.COVER)){if(Kn(r)){var l=o.width/o.height;return l<r!=(A.value===aA.COVER)?[o.width,o.width/r]:[o.height*r,o.height]}return[o.width,o.height]}var c=Kn(a),u=Kn(i),d=c||u;if(zr(A)&&(!n||zr(n))){if(c&&u)return[a,i];if(!s&&!d)return[o.width,o.height];if(d&&s){var m=c?a:i*r,g=u?i:a/r;return[m,g]}var p=c?a:o.width,f=u?i:o.height;return[p,f]}if(s){var v=0,h=0;return Do(A)?v=lo(A,o.width):Do(n)&&(h=lo(n,o.height)),zr(A)?v=h*r:(!n||zr(n))&&(h=v/r),[v,h]}var B=null,b=null;if(Do(A)?B=lo(A,o.width):n&&Do(n)&&(b=lo(n,o.height)),B!==null&&(!n||zr(n))&&(b=c&&u?B/a*i:o.height),b!==null&&zr(A)&&(B=c&&u?b/i*a:o.width),B!==null&&b!==null)return[B,b];throw new Error("Unable to calculate background-size for element")},jr=function(e,t){var o=e[t];return typeof o>"u"?e[0]:o},gO=function(e,t,o,a,i){var r=t[0],A=t[1],n=o[0],s=o[1];switch(e){case 2:return[new xe(Math.round(a.left),Math.round(a.top+A)),new xe(Math.round(a.left+a.width),Math.round(a.top+A)),new xe(Math.round(a.left+a.width),Math.round(s+a.top+A)),new xe(Math.round(a.left),Math.round(s+a.top+A))];case 3:return[new xe(Math.round(a.left+r),Math.round(a.top)),new xe(Math.round(a.left+r+n),Math.round(a.top)),new xe(Math.round(a.left+r+n),Math.round(a.height+a.top)),new xe(Math.round(a.left+r),Math.round(a.height+a.top))];case 1:return[new xe(Math.round(a.left+r),Math.round(a.top+A)),new xe(Math.round(a.left+r+n),Math.round(a.top+A)),new xe(Math.round(a.left+r+n),Math.round(a.top+A+s)),new xe(Math.round(a.left+r),Math.round(a.top+A+s))];default:return[new xe(Math.round(i.left),Math.round(i.top)),new xe(Math.round(i.left+i.width),Math.round(i.top)),new xe(Math.round(i.left+i.width),Math.round(i.height+i.top)),new xe(Math.round(i.left),Math.round(i.height+i.top))]}},vO="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ym="Hidden Text",hO=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,o){var a=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),A=this._document.body;a.style.visibility="hidden",a.style.fontFamily=t,a.style.fontSize=o,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",A.appendChild(a),i.src=vO,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=t,r.style.fontSize=o,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(Ym)),a.appendChild(r),a.appendChild(i);var n=i.offsetTop-r.offsetTop+2;a.removeChild(r),a.appendChild(this._document.createTextNode(Ym)),a.style.lineHeight="normal",i.style.verticalAlign="super";var s=i.offsetTop-a.offsetTop+2;return A.removeChild(a),{baseline:n,middle:s}},e.prototype.getMetrics=function(t,o){var a=t+" "+o;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(t,o)),this._data[a]},e})(),Hv=(function(){function e(t,o){this.context=t,this.options=o}return e})(),BO=1e4,CO=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;return i._activeEffects=[],i.canvas=a.canvas?a.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),a.canvas||(i.canvas.width=Math.floor(a.width*a.scale),i.canvas.height=Math.floor(a.height*a.scale),i.canvas.style.width=a.width+"px",i.canvas.style.height=a.height+"px"),i.fontMetrics=new hO(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-a.x,-a.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),i}return t.prototype.applyEffects=function(o){for(var a=this;this._activeEffects.length;)this.popEffect();o.forEach(function(i){return a.applyEffect(i)})},t.prototype.applyEffect=function(o){this.ctx.save(),nO(o)&&(this.ctx.globalAlpha=o.opacity),AO(o)&&(this.ctx.translate(o.offsetX,o.offsetY),this.ctx.transform(o.matrix[0],o.matrix[1],o.matrix[2],o.matrix[3],o.matrix[4],o.matrix[5]),this.ctx.translate(-o.offsetX,-o.offsetY)),_v(o)&&(this.path(o.path),this.ctx.clip()),this._activeEffects.push(o)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(o){return ca(this,void 0,void 0,function(){var a;return oa(this,function(i){switch(i.label){case 0:return a=o.element.container.styles,a.isVisible()?[4,this.renderStackContent(o)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(o){return ca(this,void 0,void 0,function(){return oa(this,function(a){switch(a.label){case 0:if(Oo(o.container.flags,16))debugger;return o.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(o)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(o,a,i){var r=this;if(a===0)this.ctx.fillText(o.text,o.bounds.left,o.bounds.top+i);else{var A=$u(o.text);A.reduce(function(n,s){return r.ctx.fillText(s,n,o.bounds.top+i),n+r.ctx.measureText(s).width},o.bounds.left)}},t.prototype.createFontStyle=function(o){var a=o.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),i=EO(o.fontFamily).join(", "),r=dn(o.fontSize)?""+o.fontSize.number+o.fontSize.unit:o.fontSize.number+"px";return[[o.fontStyle,a,o.fontWeight,r,i].join(" "),i,r]},t.prototype.renderTextNode=function(o,a){return ca(this,void 0,void 0,function(){var i,r,A,n,s,l,c,u,d=this;return oa(this,function(m){return i=this.createFontStyle(a),r=i[0],A=i[1],n=i[2],this.ctx.font=r,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(A,n),l=s.baseline,c=s.middle,u=a.paintOrder,o.textBounds.forEach(function(g){u.forEach(function(p){switch(p){case 0:d.ctx.fillStyle=Lo(a.color),d.renderTextWithLetterSpacing(g,a.letterSpacing,l);var f=a.textShadow;f.length&&g.text.trim().length&&(f.slice(0).reverse().forEach(function(v){d.ctx.shadowColor=Lo(v.color),d.ctx.shadowOffsetX=v.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=v.offsetY.number*d.options.scale,d.ctx.shadowBlur=v.blur.number,d.renderTextWithLetterSpacing(g,a.letterSpacing,l)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),a.textDecorationLine.length&&(d.ctx.fillStyle=Lo(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(v){switch(v){case 1:d.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+l),g.bounds.width,1);break;case 2:d.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:d.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+c),g.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&g.text.trim().length&&(d.ctx.strokeStyle=Lo(a.webkitTextStrokeColor),d.ctx.lineWidth=a.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+l)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(o,a,i){if(i&&o.intrinsicWidth>0&&o.intrinsicHeight>0){var r=ys(o),A=Es(a);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,o.intrinsicWidth,o.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(o){return ca(this,void 0,void 0,function(){var a,i,r,A,n,s,h,h,l,c,u,d,b,m,g,Q,p,f,v,h,B,b,Q;return oa(this,function(y){switch(y.label){case 0:this.applyEffects(o.getEffects(4)),a=o.container,i=o.curves,r=a.styles,A=0,n=a.textNodes,y.label=1;case 1:return A<n.length?(s=n[A],[4,this.renderTextNode(s,r)]):[3,4];case 2:y.sent(),y.label=3;case 3:return A++,[3,1];case 4:if(!(a instanceof gv))return[3,8];y.label=5;case 5:return y.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return h=y.sent(),this.renderReplacedElement(a,i,h),[3,8];case 7:return y.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof vv&&this.renderReplacedElement(a,i,a.canvas),!(a instanceof hv))return[3,12];y.label=9;case 9:return y.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return h=y.sent(),this.renderReplacedElement(a,i,h),[3,12];case 11:return y.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof wv&&a.tree?(l=new t(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,l.render(a.tree)]):[3,14];case 13:c=y.sent(),a.width&&a.height&&this.ctx.drawImage(c,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),y.label=14;case 14:if(a instanceof Vu&&(u=Math.min(a.bounds.width,a.bounds.height),a.type===Cs?a.checked&&(this.ctx.save(),this.path([new xe(a.bounds.left+u*.39363,a.bounds.top+u*.79),new xe(a.bounds.left+u*.16,a.bounds.top+u*.5549),new xe(a.bounds.left+u*.27347,a.bounds.top+u*.44071),new xe(a.bounds.left+u*.39694,a.bounds.top+u*.5649),new xe(a.bounds.left+u*.72983,a.bounds.top+u*.23),new xe(a.bounds.left+u*.84,a.bounds.top+u*.34085),new xe(a.bounds.left+u*.39363,a.bounds.top+u*.79)]),this.ctx.fillStyle=Lo(Tm),this.ctx.fill(),this.ctx.restore()):a.type===bs&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+u/2,a.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Lo(Tm),this.ctx.fill(),this.ctx.restore())),bO(a)&&a.value.length){switch(d=this.createFontStyle(r),b=d[0],m=d[1],g=this.fontMetrics.getMetrics(b,m).baseline,this.ctx.font=b,this.ctx.fillStyle=Lo(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=FO(a.styles.textAlign),Q=ys(a),p=0,a.styles.textAlign){case 1:p+=Q.width/2;break;case 2:p+=Q.width;break}f=Q.add(p,0,0,-Q.height/2+1),this.ctx.save(),this.path([new xe(Q.left,Q.top),new xe(Q.left+Q.width,Q.top),new xe(Q.left+Q.width,Q.top+Q.height),new xe(Q.left,Q.top+Q.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new kA(a.value,f),r.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Oo(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(v=a.styles.listStyleImage,v.type!==0)return[3,18];h=void 0,B=v.url,y.label=15;case 15:return y.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return h=y.sent(),this.ctx.drawImage(h,a.bounds.left-(h.width+10),a.bounds.top),[3,18];case 17:return y.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:o.listValue&&a.styles.listStyleType!==-1&&(b=this.createFontStyle(r)[0],this.ctx.font=b,this.ctx.fillStyle=Lo(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Q=new Hi(a.bounds.left,a.bounds.top+lo(a.styles.paddingTop,a.bounds.width),a.bounds.width,wm(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new kA(o.listValue,Q),r.letterSpacing,wm(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),y.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(o){return ca(this,void 0,void 0,function(){var a,i,v,r,A,v,n,s,v,l,c,v,u,d,v,m,g,v,p,f,v;return oa(this,function(h){switch(h.label){case 0:if(Oo(o.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(o.element)];case 1:h.sent(),a=0,i=o.negativeZIndex,h.label=2;case 2:return a<i.length?(v=i[a],[4,this.renderStack(v)]):[3,5];case 3:h.sent(),h.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(o.element)];case 6:h.sent(),r=0,A=o.nonInlineLevel,h.label=7;case 7:return r<A.length?(v=A[r],[4,this.renderNode(v)]):[3,10];case 8:h.sent(),h.label=9;case 9:return r++,[3,7];case 10:n=0,s=o.nonPositionedFloats,h.label=11;case 11:return n<s.length?(v=s[n],[4,this.renderStack(v)]):[3,14];case 12:h.sent(),h.label=13;case 13:return n++,[3,11];case 14:l=0,c=o.nonPositionedInlineLevel,h.label=15;case 15:return l<c.length?(v=c[l],[4,this.renderStack(v)]):[3,18];case 16:h.sent(),h.label=17;case 17:return l++,[3,15];case 18:u=0,d=o.inlineLevel,h.label=19;case 19:return u<d.length?(v=d[u],[4,this.renderNode(v)]):[3,22];case 20:h.sent(),h.label=21;case 21:return u++,[3,19];case 22:m=0,g=o.zeroOrAutoZIndexOrTransformedOrOpacity,h.label=23;case 23:return m<g.length?(v=g[m],[4,this.renderStack(v)]):[3,26];case 24:h.sent(),h.label=25;case 25:return m++,[3,23];case 26:p=0,f=o.positiveZIndex,h.label=27;case 27:return p<f.length?(v=f[p],[4,this.renderStack(v)]):[3,30];case 28:h.sent(),h.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(o){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(o.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(o){this.ctx.beginPath(),this.formatPath(o),this.ctx.closePath()},t.prototype.formatPath=function(o){var a=this;o.forEach(function(i,r){var A=Ha(i)?i.start:i;r===0?a.ctx.moveTo(A.x,A.y):a.ctx.lineTo(A.x,A.y),Ha(i)&&a.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(o,a,i,r){this.path(o),this.ctx.fillStyle=a,this.ctx.translate(i,r),this.ctx.fill(),this.ctx.translate(-i,-r)},t.prototype.resizeImage=function(o,a,i){var r;if(o.width===a&&o.height===i)return o;var A=(r=this.canvas.ownerDocument)!==null&&r!==void 0?r:document,n=A.createElement("canvas");n.width=Math.max(1,a),n.height=Math.max(1,i);var s=n.getContext("2d");return s.drawImage(o,0,0,o.width,o.height,0,0,a,i),n},t.prototype.renderBackgroundImage=function(o){return ca(this,void 0,void 0,function(){var a,i,r,A,n,s;return oa(this,function(l){switch(l.label){case 0:a=o.styles.backgroundImage.length-1,i=function(c){var u,d,m,S,N,x,re,$,D,g,S,N,x,re,$,p,f,v,h,B,b,Q,y,I,D,O,S,k,W,re,$,z,N,x,M,X,ae,L,j,te,Fe,he;return oa(this,function(ve){switch(ve.label){case 0:if(c.type!==0)return[3,5];u=void 0,d=c.url,ve.label=1;case 1:return ve.trys.push([1,3,,4]),[4,r.context.cache.match(d)];case 2:return u=ve.sent(),[3,4];case 3:return ve.sent(),r.context.logger.error("Error loading background-image "+d),[3,4];case 4:return u&&(m=Vl(o,a,[u.width,u.height,u.width/u.height]),S=m[0],N=m[1],x=m[2],re=m[3],$=m[4],D=r.ctx.createPattern(r.resizeImage(u,re,$),"repeat"),r.renderRepeat(S,D,N,x)),[3,6];case 5:AP(c)?(g=Vl(o,a,[null,null,null]),S=g[0],N=g[1],x=g[2],re=g[3],$=g[4],p=tP(c.angle,re,$),f=p[0],v=p[1],h=p[2],B=p[3],b=p[4],Q=document.createElement("canvas"),Q.width=re,Q.height=$,y=Q.getContext("2d"),I=y.createLinearGradient(v,B,h,b),Cm(c.stops,f).forEach(function(Ce){return I.addColorStop(Ce.stop,Lo(Ce.color))}),y.fillStyle=I,y.fillRect(0,0,re,$),re>0&&$>0&&(D=r.ctx.createPattern(Q,"repeat"),r.renderRepeat(S,D,N,x))):nP(c)&&(O=Vl(o,a,[null,null,null]),S=O[0],k=O[1],W=O[2],re=O[3],$=O[4],z=c.position.length===0?[Lu]:c.position,N=lo(z[0],re),x=lo(z[z.length-1],$),M=oP(c,N,x,re,$),X=M[0],ae=M[1],X>0&&ae>0&&(L=r.ctx.createRadialGradient(k+N,W+x,0,k+N,W+x,X),Cm(c.stops,X*2).forEach(function(Ce){return L.addColorStop(Ce.stop,Lo(Ce.color))}),r.path(S),r.ctx.fillStyle=L,X!==ae?(j=o.bounds.left+.5*o.bounds.width,te=o.bounds.top+.5*o.bounds.height,Fe=ae/X,he=1/Fe,r.ctx.save(),r.ctx.translate(j,te),r.ctx.transform(1,0,0,Fe,0,0),r.ctx.translate(-j,-te),r.ctx.fillRect(k,he*(W-te)+te,re,$*he),r.ctx.restore()):r.ctx.fill())),ve.label=6;case 6:return a--,[2]}})},r=this,A=0,n=o.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return A<n.length?(s=n[A],[5,i(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(o,a,i){return ca(this,void 0,void 0,function(){return oa(this,function(r){return this.path(Xm(i,a)),this.ctx.fillStyle=Lo(o),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(o,a,i,r){return ca(this,void 0,void 0,function(){var A,n;return oa(this,function(s){switch(s.label){case 0:return a<3?[4,this.renderSolidBorder(o,i,r)]:[3,2];case 1:return s.sent(),[2];case 2:return A=cO(r,i),this.path(A),this.ctx.fillStyle=Lo(o),this.ctx.fill(),n=uO(r,i),this.path(n),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(o){return ca(this,void 0,void 0,function(){var a,i,r,A,n,s,l,c,u=this;return oa(this,function(d){switch(d.label){case 0:return this.applyEffects(o.getEffects(2)),a=o.container.styles,i=!er(a.backgroundColor)||a.backgroundImage.length,r=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],A=wO(jr(a.backgroundClip,0),o.curves),i||a.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),er(a.backgroundColor)||(this.ctx.fillStyle=Lo(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(o.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(m){u.ctx.save();var g=Qs(o.curves),p=m.inset?0:BO,f=sO(g,-p+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(u.path(g),u.ctx.clip(),u.mask(f)):(u.mask(g),u.ctx.clip(),u.path(f)),u.ctx.shadowOffsetX=m.offsetX.number+p,u.ctx.shadowOffsetY=m.offsetY.number,u.ctx.shadowColor=Lo(m.color),u.ctx.shadowBlur=m.blur.number,u.ctx.fillStyle=m.inset?Lo(m.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),d.label=2;case 2:n=0,s=0,l=r,d.label=3;case 3:return s<l.length?(c=l[s],c.style!==0&&!er(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,n,o.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,n,o.curves,3)];case 6:return d.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,n,o.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,n,o.curves)];case 10:d.sent(),d.label=11;case 11:n++,d.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(o,a,i,r,A){return ca(this,void 0,void 0,function(){var n,s,l,c,u,d,m,g,p,f,v,h,B,b,Q,y,Q,y;return oa(this,function(I){return this.ctx.save(),n=dO(r,i),s=Xm(r,i),A===2&&(this.path(s),this.ctx.clip()),Ha(s[0])?(l=s[0].start.x,c=s[0].start.y):(l=s[0].x,c=s[0].y),Ha(s[1])?(u=s[1].end.x,d=s[1].end.y):(u=s[1].x,d=s[1].y),i===0||i===2?m=Math.abs(l-u):m=Math.abs(c-d),this.ctx.beginPath(),A===3?this.formatPath(n):this.formatPath(s.slice(0,2)),g=a<3?a*3:a*2,p=a<3?a*2:a,A===3&&(g=a,p=a),f=!0,m<=g*2?f=!1:m<=g*2+p?(v=m/(2*g+p),g*=v,p*=v):(h=Math.floor((m+p)/(g+p)),B=(m-h*g)/(h-1),b=(m-(h+1)*g)/h,p=b<=0||Math.abs(p-B)<Math.abs(p-b)?B:b),f&&(A===3?this.ctx.setLineDash([0,g+p]):this.ctx.setLineDash([g,p])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=Lo(o),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(Ha(s[0])&&(Q=s[3],y=s[0],this.ctx.beginPath(),this.formatPath([new xe(Q.end.x,Q.end.y),new xe(y.start.x,y.start.y)]),this.ctx.stroke()),Ha(s[1])&&(Q=s[1],y=s[2],this.ctx.beginPath(),this.formatPath([new xe(Q.end.x,Q.end.y),new xe(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(o){return ca(this,void 0,void 0,function(){var a;return oa(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Lo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=lO(o),[4,this.renderStack(a)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(Hv),bO=function(e){return e instanceof bv||e instanceof Cv?!0:e instanceof Vu&&e.type!==bs&&e.type!==Cs},wO=function(e,t){switch(e){case 0:return Qs(t);case 2:return aO(t);default:return Es(t)}},FO=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},QO=["-apple-system","system-ui"],EO=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return QO.indexOf(t)===-1}):e},yO=(function(e){ni(t,e);function t(o,a){var i=e.call(this,o,a)||this;return i.canvas=a.canvas?a.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=a,i.canvas.width=Math.floor(a.width*a.scale),i.canvas.height=Math.floor(a.height*a.scale),i.canvas.style.width=a.width+"px",i.canvas.style.height=a.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-a.x,-a.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),i}return t.prototype.render=function(o){return ca(this,void 0,void 0,function(){var a,i;return oa(this,function(r){switch(r.label){case 0:return a=Sc(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,o),[4,IO(a)];case 1:return i=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Lo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(Hv),IO=function(e){return new Promise(function(t,o){var a=new Image;a.onload=function(){t(a)},a.onerror=o,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},UO=(function(){function e(t){var o=t.id,a=t.enabled;this.id=o,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Fn([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Fn([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Fn([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Fn([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),SO=(function(){function e(t,o){var a;this.windowBounds=o,this.instanceName="#"+e.instanceCount++,this.logger=new UO({id:this.instanceName,enabled:t.logging}),this.cache=(a=t.cache)!==null&&a!==void 0?a:new W_(this,t)}return e.instanceCount=1,e})(),DO=function(e,t){return t===void 0&&(t={}),xO(e,t)};typeof window<"u"&&Pv.setContext(window);var xO=function(e,t){return ca(void 0,void 0,void 0,function(){var o,a,i,r,A,n,s,l,c,u,d,m,g,p,f,v,h,B,b,Q,I,y,I,D,O,S,k,W,re,$,z,N,x,M,X,ae,L,j,te,Fe;return oa(this,function(he){switch(he.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(o=e.ownerDocument,!o)throw new Error("Element is not attached to a Document");if(a=o.defaultView,!a)throw new Error("Document is not attached to a Window");return i={allowTaint:(D=t.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(O=t.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:t.proxy,useCORS:(S=t.useCORS)!==null&&S!==void 0?S:!1},r=fc({logging:(k=t.logging)!==null&&k!==void 0?k:!0,cache:t.cache},i),A={windowWidth:(W=t.windowWidth)!==null&&W!==void 0?W:a.innerWidth,windowHeight:(re=t.windowHeight)!==null&&re!==void 0?re:a.innerHeight,scrollX:($=t.scrollX)!==null&&$!==void 0?$:a.pageXOffset,scrollY:(z=t.scrollY)!==null&&z!==void 0?z:a.pageYOffset},n=new Hi(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),s=new SO(r,n),l=(N=t.foreignObjectRendering)!==null&&N!==void 0?N:!1,c={allowTaint:(x=t.allowTaint)!==null&&x!==void 0?x:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:l,copyStyles:l},s.logger.debug("Starting document clone with size "+n.width+"x"+n.height+" scrolled to "+-n.left+","+-n.top),u=new jm(s,e,c),d=u.clonedReferenceElement,d?[4,u.toIFrame(o,n)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=he.sent(),g=Nu(d)||P_(d)?sD(d.ownerDocument):js(s,d),p=g.width,f=g.height,v=g.left,h=g.top,B=PO(s,d,t.backgroundColor),b={canvas:t.canvas,backgroundColor:B,scale:(X=(M=t.scale)!==null&&M!==void 0?M:a.devicePixelRatio)!==null&&X!==void 0?X:1,x:((ae=t.x)!==null&&ae!==void 0?ae:0)+v,y:((L=t.y)!==null&&L!==void 0?L:0)+h,width:(j=t.width)!==null&&j!==void 0?j:Math.ceil(p),height:(te=t.height)!==null&&te!==void 0?te:Math.ceil(f)},l?(s.logger.debug("Document cloned, using foreign object rendering"),I=new yO(s,b),[4,I.render(d)]):[3,3];case 2:return Q=he.sent(),[3,5];case 3:return s.logger.debug("Document cloned, element located at "+v+","+h+" with size "+p+"x"+f+" using computed rendering"),s.logger.debug("Starting DOM parsing"),y=Qv(s,d),B===y.styles.backgroundColor&&(y.styles.backgroundColor=Ri.TRANSPARENT),s.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),I=new CO(s,b),[4,I.render(y)];case 4:Q=he.sent(),he.label=5;case 5:return(!((Fe=t.removeContainer)!==null&&Fe!==void 0)||Fe)&&(jm.destroy(m)||s.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),s.logger.debug("Finished rendering"),[2,Q]}})})},PO=function(e,t,o){var a=t.ownerDocument,i=a.documentElement?NA(e,getComputedStyle(a.documentElement).backgroundColor):Ri.TRANSPARENT,r=a.body?NA(e,getComputedStyle(a.body).backgroundColor):Ri.TRANSPARENT,A=typeof o=="string"?NA(e,o):o===null?Ri.TRANSPARENT:4294967295;return t===a.documentElement?er(i)?er(r)?A:r:i:A};function Tv(){const e=cr(),t=ga(),{classes:o}=Xa(),{copiarImagem:a}=Su();async function i(s){return await a(s)}function r(s,l){return new Promise((c,u)=>{try{s.toBlob(d=>{d?c(d):u(new Error("Imagem inválida"))},"image/jpeg",l)}catch(d){u(d instanceof Error?d:new Error(String(d)))}})}async function A(s,l,c=1){l=Va(l)?l:"imagem",c=Math.min(1,Math.max(0,c));try{const u=await r(s,c);Pp(`${l}.jpeg`,u,{mimeType:"image/jpeg"})}catch(u){t.erro(u),e.aviso("Ação bloqueada pelo navegador","O download de imagens está bloqueado pelo navegador. Autorize o acesso e tente novamente.")}}async function n(s){if(!s)return;const l={scale:1.5,windowWidth:s.clientWidth+300,windowHeight:s.clientHeight+300,ignoreElements:u=>u.tagName&&(u.tagName==="input"||u.tagName==="button")?!0:u.classList&&o.utilidades?.naoImprimir?u.classList.contains(o.utilidades?.naoImprimir):!1};return(await DO(s,l)).toDataURL("image/png")}return{copiar:i,baixar:A,gerarPng:n}}const _O={style:{margin:"0",padding:"0","box-sizing":"border-box","background-color":"rgb(82 86 89 / 100%)","max-height":"100%",overflow:"scroll"}},OO={style:{"background-color":"rgb(82 86 89 / 100%)",padding:"5rem 2rem 2rem",display:"flex","align-items":"flex-start","justify-content":"center"}},RO=we({__name:"FcDemonstrativoImagem",props:{modelValue:{type:Boolean},dataUrl:{default:""},nomeArquivo:{default:""},qualidade:{default:1}},emits:["fechar"],setup(e,{emit:t}){const o=t,a=R(),i=Tv(),r=R(Ir),A=R("");function n(){r.value=ru,A.value="red-8",setTimeout(()=>{r.value=Ir,A.value=""},2e3)}function s(){r.value=Au,A.value="green-8",setTimeout(()=>{r.value=Ir,A.value=""},2e3)}function l(){a.value&&a.value.setCoordinates([({imageSize:f})=>({width:f.width,height:f.height}),{left:0,top:0}])}function c(){if(a.value){const{height:f,top:v}=a.value.coordinates;a.value.setCoordinates([({imageSize:h})=>({width:h.width,height:f}),{left:0,top:v}])}}function u(){if(a.value){const{width:f,left:v}=a.value.coordinates;a.value.setCoordinates([({imageSize:h})=>({width:f,height:h.height}),{left:v,top:0}])}}function d(){a.value&&a.value.setCoordinates([({imageSize:f})=>({width:f.width,height:Math.min(f.height*.1,f.width)}),{left:0,top:0}])}async function m(){if(!a.value)return n();const{canvas:f}=a.value.getResult();return await i.copiar(f)?s():n()}function g(){if(a.value){const{canvas:f}=a.value.getResult();i.baixar(f,e.nomeArquivo,e.qualidade)}}function p(){o("fechar")}return(f,v)=>{const h=Nt,B=wf,b=Qi,Q=Oa,y=St,I=Ra,D=qt,O=sr;return w(),K(O,{"model-value":e.modelValue,persistent:"",maximized:""},{default:U(()=>[q("div",_O,[E(I,{style:{position:"fixed",top:"0","z-index":"1"},class:"bg-white"},{default:U(()=>[E(B,null,{default:U(()=>[E(h,{name:C(Ff),size:"md",color:"blue-8"},null,8,["name"])]),_:1}),E(b,null,{default:U(()=>[...v[0]||(v[0]=[Pt("Gerar Imagem",-1)])]),_:1}),E(Q),E(tn,{mode:"out-in","enter-active-class":f.classes.enterActive,"leave-active-class":f.classes.leaveActive,"enter-from-class":f.classes.enterFrom,"leave-to-class":f.classes.leaveTo},{default:U(()=>[(w(),K(y,{key:C(r),round:"",flat:"",icon:C(r),color:C(A),title:"Copiar área selecionada",onClick:m},null,8,["icon","color"]))]),_:1},8,["enter-active-class","leave-active-class","enter-from-class","leave-to-class"]),E(y,{flat:"",round:"",icon:C(bf),title:"Baixar área selecionada",onClick:g},null,8,["icon"]),E(y,{flat:"",round:"",icon:C(ya),onClick:p},null,8,["icon"])]),_:1}),q("div",OO,[E(C(Rg),{ref_key:"cropper",ref:a,class:"cropper",style:{"max-width":"800px"},src:e.dataUrl,"default-position":{left:0,top:0},"default-size":({imageSize:S})=>({width:S.width,height:Math.min(S.height*.1,S.width)})},null,8,["src","default-size"]),E(D,{class:"q-mx-md column"},{default:U(()=>[E(y,{flat:"",square:"",dense:"",icon:C(Gh),title:"Imagem inteira",onClick:l},null,8,["icon"]),E(y,{flat:"",square:"",dense:"",icon:C(jh),title:"Expandir na horizontal",onClick:c},null,8,["icon"]),E(y,{flat:"",square:"",dense:"",icon:C(Wh),title:"Expandir na vertical",onClick:u},null,8,["icon"]),E(y,{flat:"",square:"",dense:"",icon:C(Jh),title:"Seleção inicial",onClick:d},null,8,["icon"])]),_:1})])])]),_:1},8,["model-value"])}}}),MO="_enterActive_150aw_1",LO="_leaveActive_150aw_2",HO="_enterFrom_150aw_6",TO="_leaveTo_150aw_7",$O={enterActive:MO,leaveActive:LO,enterFrom:HO,leaveTo:TO},VO={classes:$O},NO=Object.assign(fa(RO,[["__cssModules",VO]]),{__name:"FcDemonstrativoImagem"}),qO={class:"text-subtitle2"},kO={class:"row no-wrap items-start"},KO=we({__name:"FcDemonstrativoConfig",props:{esquemas:{},iniciarEm:{},tamanho:{default:"600px"}},setup(e){const t=R(e.iniciarEm||0);return(o,a)=>{const i=Oa,r=St,A=Ra,n=ja,s=vu,l=gu,c=ug,u=pa,d=qt,m=Hr,g=An,p=gA,f=ri;return w(),K(p,{style:Ze([{"border-radius":"10px"},{width:e.tamanho}]),offset:[-50,-50]},{default:U(()=>[E(d,null,{default:U(()=>[E(A,null,{default:U(()=>[q("div",qO,le(e.esquemas.length===1?e.esquemas[0].titulo:"Configurações"),1),E(i),Vt(E(r,{flat:"",round:"",dense:"",icon:C(ya)},null,8,["icon"]),[[f]])]),_:1}),E(n),E(u,{class:"q-pa-none"},{default:U(()=>[E(d,{flat:""},{default:U(()=>[q("div",kO,[e.esquemas.length>1?(w(),K(l,{key:0,modelValue:C(t),"onUpdate:modelValue":a[0]||(a[0]=v=>Tt(t)?t.value=v:null),"no-caps":"",dense:"","active-color":"white","active-bg-color":"blue-8","indicator-color":"transparent",vertical:"",style:{"max-width":"200px"}},{default:U(()=>[(w(!0),H(Se,null,Ne(e.esquemas,(v,h)=>(w(),K(s,{key:`tab-${v.titulo}`,name:h,label:v.titulo},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])):ge("",!0),e.esquemas.length>1?(w(),K(n,{key:1,vertical:""})):ge("",!0),E(g,{modelValue:C(t),"onUpdate:modelValue":a[1]||(a[1]=v=>Tt(t)?t.value=v:null),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:U(()=>[(w(!0),H(Se,null,Ne(e.esquemas,(v,h)=>(w(),K(m,{key:`form-${v.titulo}`,name:h},{default:U(()=>[E(d,{flat:""},{default:U(()=>[E(u,{class:"q-pa-none"},{default:U(()=>[E(c,{esquema:v,"ignorar-estrutura-blocos":!0},null,8,["esquema"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])}}}),zO=Object.assign(KO,{__name:"FcDemonstrativoConfig"});function GO(){function e(){return Array.from(document.styleSheets).map(a=>{try{if(a.cssRules)return Array.from(a.cssRules).map(i=>i.cssText).join(`
`)}catch{console.warn("Não foi possível acessar o conteúdo de uma folha de estilos:",a.href)}return""}).filter(Boolean).join(`
`)}async function t(a){const i=a.querySelectorAll('img[src$=".svg"]');for(const r of i){const A=r.src;try{const n=await fetch(A);if(n.ok){const s=await n.text(),l=document.createElement("div");l.innerHTML=s;const c=l.querySelector("svg");c&&(c.setAttribute("alt",r.alt||""),r.replaceWith(c))}else console.warn(`Não foi possível carregar a imagem SVG: ${A}`)}catch(n){console.error(`Erro ao carregar SVG: ${A}`,n)}}}async function o(a,i,r=!0){if(!a)return;const A=a.cloneNode(!0);await t(A);const n=e(),s=`
    <!DOCTYPE html>
    <html lang="pt-BR">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>${i}</title>
        <style>
          @page {
            size: a4 ${r?"landscape":"portrait"};
          }
        </style>
        <style>${n}</style>
      </head>
      <body>
        ${A.outerHTML}
      </body>
    </html>
    `,l=new Blob([s],{type:"text/html"}),c=URL.createObjectURL(l),u=window.open(c,"_blank");u&&setTimeout(()=>{u.print(),u.close()},50)}return{imprimirHtml:o}}const jO=we({__name:"FcDemonstrativoComandos",props:{esquemasMenuConfig:{default:()=>[]},tamanhoMenuConfig:{},comandosAdicionais:{default:()=>[]},nomeArquivo:{},areaImpressao:{},paisagem:{type:Boolean}},emits:["executar"],setup(e,{emit:t}){const o=t,a=ks(),i=R(!1),r=R(""),A=Zt(),{classes:n}=Xa(),{imprimirHtml:s}=GO(),{gerarPng:l}=Tv();async function c(){e.areaImpressao&&(r.value=await l(e.areaImpressao)??"",i.value=!0)}function u(){i.value=!1,r.value=""}async function d(){if(!e.areaImpressao)return;const m=e.nomeArquivo||`Demonstrativo ${A.nome.replace("@fc/","")}@${A.versao}`;await s(e.areaImpressao,m,e.paisagem)}return(m,g)=>{const p=St,f=jC,v=zC,h=qt,B=NO;return w(),H("div",{class:be(`${C(n).botao?.container} ${C(n).utilidades?.naoImprimir}`),"data-html2canvas-ignore":""},[E(h,{flat:"",class:"cursor-pointer bg-transparent q-pa-sm column q-mr-md"},{default:U(()=>[E(p,{round:"","no-caps":"",icon:C(Xh),color:"white","text-color":"red-10",title:"Imprimir/Salvar em PDF",class:"q-ma-xs",onClick:d},null,8,["icon"]),E(p,{round:"","no-caps":"",icon:C(Ff),color:"white","text-color":"red-10",title:"Gerar imagem",class:"q-ma-xs",onClick:c},null,8,["icon"]),E(p,{round:"","no-caps":"",icon:C(Yh),color:"white","text-color":"red-10",title:"Configurações",class:"q-ma-xs"},{default:U(()=>[E(zO,{esquemas:[C(a).configEsquema,...e.esquemasMenuConfig],tamanho:e.tamanhoMenuConfig},null,8,["esquemas","tamanho"])]),_:1},8,["icon"]),(w(!0),H(Se,null,Ne(e.comandosAdicionais??[],b=>(w(),H(Se,{key:b.titulo},[Array.isArray(b.itens)?(w(),K(v,{key:0,round:"",icon:b.icone,color:"white","text-color":"red-10",title:b.titulo,class:"q-ma-xs",direction:"left",padding:"sm"},{default:U(()=>[(w(!0),H(Se,null,Ne(b.itens,Q=>(w(),K(f,{key:Q.titulo,icon:Q.icone,color:"white","text-color":"red-10",title:Q.titulo,onClick:y=>o("executar",Q)},null,8,["icon","title","onClick"]))),128))]),_:2},1032,["icon","title"])):(w(),K(p,{key:1,round:"","no-caps":"",icon:b.icone,color:"white","text-color":"red-10",title:b.titulo,class:"q-ma-xs",onClick:Q=>o("executar",b)},null,8,["icon","title","onClick"]))],64))),128))]),_:1}),E(B,{"model-value":C(i),"data-url":C(r),"nome-arquivo":"demonstrativo",qualidade:C(a).qualidadeImagem??1,onFechar:u},null,8,["model-value","data-url","qualidade"])],2)}}}),WO=Object.assign(jO,{__name:"FcDemonstrativoComandos"}),JO=we({__name:"FcDemonstrativoPagina",props:{exibirIdentificacao:{type:Boolean,default:!0},titulo:{},nomeArquivo:{},paisagem:{type:Boolean},esquemasMenuConfig:{},tamanhoMenuConfig:{},comandosAdicionais:{},erro:{},carregando:{}},emits:["executar"],setup(e,{emit:t}){const o=t,a=R(),{classes:i}=Xa();return(r,A)=>{const n=gS,s=CS,l=QS,c=yS,u=US;return w(),H("div",{class:be(`${C(i).pagina?.container} ${e.paisagem?C(i).pagina?.paisagem:""}`)},[e.erro?(w(),K(n,{key:0,mensagem:e.erro},null,8,["mensagem"])):e.carregando?(w(),K(s,{key:1,mensagem:e.carregando},null,8,["mensagem"])):(w(),H("div",{key:2,ref_key:"areaImpressao",ref:a,class:be([C(i).pagina?.corpo,"q-ma-md"])},[E(l,{titulo:e.titulo},null,8,["titulo"]),e.exibirIdentificacao?(w(),K(c,{key:0})):ge("",!0),yt(r.$slots,"default"),E(u)],2)),!e.erro&&!e.carregando?(w(),K(WO,{key:3,"area-impressao":C(a),"comandos-adicionais":e.comandosAdicionais,"esquemas-menu-config":e.esquemasMenuConfig,"tamanho-menu-config":e.tamanhoMenuConfig,"nome-arquivo":e.nomeArquivo,paisagem:e.paisagem,onExecutar:A[0]||(A[0]=d=>o("executar",d))},null,8,["area-impressao","comandos-adicionais","esquemas-menu-config","tamanho-menu-config","nome-arquivo","paisagem"])):ge("",!0)],2)}}}),XO=Object.assign(JO,{__name:"FcDemonstrativoPagina"}),YO=we({__name:"RppsDemonstrativoTempo",props:{dataApuracao:{},resultado:{},calculando:{type:Boolean}},emits:["reafirmarDer"],setup(e,{expose:t,emit:o}){const a=o,i=Du(),r=[i.configEsquema,i.gerarTextos.configEsquemaPeriodos,i.gerarTextos.configEsquemaBeneficios],{gerarTitulo:A,gerarNomeDoArquivo:n,gerarBlocosInformacoes:s,gerarDadosTabelaAfastamentos:l}=xu(),c=F(()=>e.resultado.grupos),u=F(()=>A(e.dataApuracao)),d=F(()=>n(u.value)),m=F(()=>s(e.dataApuracao)),g=F(()=>l(e.resultado.periodosAfastamento)),p=R([]),f=F(()=>me(e.dataApuracao)?c.value?"":"Não há dados para exibir":"Data de apuração inválida. Verifique os dados nos parâmetros de cálculo."),v=F(()=>e.calculando?"Calculando... Aguarde.":"");function h(I){const D=p.value.indexOf(I);D>=0?p.value.splice(D,1):(p.value.push(I),p.value.sort((O,S)=>O-S))}function B(){p.value=c.value.map((I,D)=>D)}function b(I,D){p.value=c.value.map((O,S)=>O.tipoAposentadoria===I&&O.aplicarRegrasPcd===D?S:-1).filter(O=>O>=0)}function Q(){p.value=[]}function y(I){a("reafirmarDer",I)}return t({expandirTodos:B,recolherTodos:Q,expandirSomente:b}),(I,D)=>{const O=Uu,S=lr,k=mS,W=vg,re=XO;return w(),H("div",null,[E(re,{titulo:C(u),"nome-arquivo":C(d),paisagem:!0,"exibir-identificacao":!1,erro:C(f),carregando:C(v),"esquemas-menu-config":r},{default:U(()=>[q("div",null,[E(O,{titulo:"Informações e Parâmetros","cor-titulo":C(i).opcoesGerais.cores.azul.fundo,"blocos-com-titulos":C(m),style:Ze({fontSize:C(i).opcoesGerais.tamanhoFonte.titulo})},null,8,["cor-titulo","blocos-com-titulos","style"]),C(c).length>1?(w(),H("div",{key:0,class:be(["row items-center justify-center",C($e).naoImprimir])},[E(S,{clickable:"",square:"",label:C(p).length<C(c).length?"Expandir todos":"Recolher todos",icon:C(p).length<C(c).length?"mdiUnfoldMoreHorizontal"in I?I.mdiUnfoldMoreHorizontal:C(Zh):"mdiUnfoldLessHorizontal"in I?I.mdiUnfoldLessHorizontal:C(eB),onClick:D[0]||(D[0]=$=>C(p).length<C(c).length?B():Q())},null,8,["label","icon"])],2)):ge("",!0),(w(!0),H(Se,null,Ne(C(c),($,z)=>(w(),K(k,{key:`bloco-programadas-${z}`,"data-apuracao":e.dataApuracao,grupo:$,expandido:C(p).includes(z),onReafirmarDer:y,onClick:N=>h(z)},null,8,["data-apuracao","grupo","expandido","onClick"]))),128))]),C(g).linhas.length?(w(),K(W,{key:0,titulo:"Afastamentos Considerados",colunas:C(g).colunas,linhas:C(g).linhas,class:be(C($e).quebrarPagina)},null,8,["colunas","linhas","class"])):ge("",!0)]),_:1},8,["titulo","nome-arquivo","erro","carregando"])])}}}),ZO=Object.assign(YO,{__name:"RppsDemonstrativoTempo"}),qu=()=>yf("erro",()=>""),$v=()=>yf("alerta",()=>"");function eR(e){return new Worker(""+new URL("calculoTempo-BmiDcnXI.js",import.meta.url).href,{name:e?.name})}function tR(){const e=ln(),t=sn(),o=Ns(),a=qs(),i=cn();function r(l){return{dadosPeriodos:o.serializar(),dadosAfastamentos:a.serializar(),dadosPeriodosPcd:i.serializar(),dadosServidor:e.serializar(),dadosCalculo:{dataApuracao:l,...t.serializar()}}}function A(){return{periodosAfastamento:[],grupos:[{totais:{rotulo:"",convertido:0,idade:0,simples:0},dadosPeriodos:[],demonstrativo:[],dadosCtc:[],tipoAposentadoria:t.tipoAposentadoria,aplicarRegrasPcd:!1,resultado:{cumpridos:[],naoCumpridos:[],possivelReafirmacao:[],regrasProgressivas:[],nasAlteracoes:[]}}]}}function n(l){const c=r(l),u=new eR;return UB(u,c)}function s(l){return l?n(l):{promessa:Promise.resolve(A()),interromper:()=>{}}}return{semDados:A,apurarAte:s}}const oR={style:{display:"flex","align-items":"center","justify-content":"center",position:"sticky",top:"0","z-index":"1"}};var Vv=(e=>(e.Der="Primeira Apuração",e.DerReafirmada="Publicação Ato",e.Daqui30Anos="Projeção 30 anos",e))(Vv||{});const aR=we({__name:"RppsCalculoTempo",props:{alturaPainel:{}},setup(e,{expose:t}){const o=F(()=>`calc(${e.alturaPainel} - 80px)`),a=R("Primeira Apuração"),i=Object.values(Vv).map(b=>({rotulo:b,valor:b})),r=R(),A=ga(),n=qu(),s=tR(),l=sn(),c=Mi(ir(),30,so.Anos),u=R(!0),d=ai(),m=ai(s.semDados()),g=F(()=>a.value==="Publicação Ato"?l.derReafirmada:a.value==="Projeção 30 anos"?c:l.der);function p(){Po(d.value)&&d.value(),d.value=void 0,u.value=!1,m.value=s.semDados(),n.value=""}function f(b){p(),A.erro(b),n.value=A.extrairMensagemDeErro(b,"Erro no cálculo do tempo de contribuição")}async function v(){if(r.value&&r.value.$el){r.value.$el.focus();const b=r.value.$el.parentElement.parentElement;b.scrollTop=0}}function h(b){a.value==="Projeção 30 anos"&&(l.derReafirmada=b,a.value="Publicação Ato",B())}async function B(){if(p(),!me(g.value)){m.value=s.semDados();return}u.value=!0;try{const{promessa:b,interromper:Q}=s.apurarAte(g.value);d.value=Q,m.value=await b}catch(b){f(b),m.value=s.semDados()}u.value=!1,await pt(),r.value?.expandirTodos(),v()}return Lr(()=>{a.value="Primeira Apuração"}),t({calcular:B}),(b,Q)=>{const y=dg,I=ZO,D=Ms;return w(),H("div",null,[q("div",oR,[E(y,{modelValue:C(a),"onUpdate:modelValue":[Q[0]||(Q[0]=O=>Tt(a)?a.value=O:null),B],opcoes:C(i),largura:"30rem"},null,8,["modelValue","opcoes"])]),E(D,{style:Ze({height:C(o)})},{default:U(()=>[E(I,{ref_key:"demonstrativo",ref:r,"data-apuracao":C(g),resultado:C(m),calculando:C(u),tabindex:"-1",style:{outline:"none"},onReafirmarDer:h},null,8,["data-apuracao","resultado","calculando"])]),_:1},8,["style"])])}}}),iR=Object.assign(aR,{__name:"RppsCalculoTempo"}),rR={class:"row justify-between items-center content-center q-mb-sm"},AR=we({__name:"FcBotoesColarTexto",props:{desabilitado:{type:Boolean}},emits:["textoLido"],setup(e,{emit:t}){const o=t,a=R(!1),i=cr(),{recuperarTexto:r}=Su();function A(l){l=l.replace(/\r\n/g,`
`),o("textoLido",l)}async function n(){try{const l=await r();A(l)}catch{a.value=!0,await pt(),i.aviso("Ação bloqueada pelo navegador","O acesso direto à área de transferência está bloqueado pelo navegador. Use a caixa de texto para importar os dados.")}}function s(l){const c=l.target,u=c.value;a.value=!1,A(u),c.value=""}return(l,c)=>{const u=Nt,d=St,m=qt,g=Fi;return w(),H("div",null,[E(d,{icon:C(tB),flat:"",round:"",dense:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:e.desabilitado===!0,title:"Abrir caixa de texto"},{default:U(()=>[E(g,{modelValue:C(a),"onUpdate:modelValue":c[1]||(c[1]=p=>Tt(a)?a.value=p:null),class:"q-pa-md"},{default:U(()=>[q("div",rR,[q("div",null,[E(u,{name:C(Xu),size:"22px",class:"q-mr-sm",color:"grey-8"},null,8,["name"]),c[2]||(c[2]=q("span",{class:"text-subtitle1 text-bold text-grey-8",style:{"vertical-align":"middle"}},"Área de Transferência",-1))]),E(d,{round:"",flat:"",dense:"",size:"sm",icon:C(ya),color:"grey-8",onClick:c[0]||(c[0]=p=>a.value=!1)},null,8,["icon"])]),E(m,{flat:""},{default:U(()=>[c[3]||(c[3]=q("div",null,"Cole abaixo o conteúdo copiado (Ctrl-C)",-1)),q("textarea",{class:be(l.classes.caixaColagem),onInput:s},null,34)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["icon","disable"]),E(d,{icon:C(Xu),flat:"",round:"",dense:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:e.desabilitado===!0,title:"Clique para colar da área de transferência",onClick:n},null,8,["icon","disable"])])}}}),nR="_caixaColagem_vt8da_1",sR={caixaColagem:nR},lR={classes:sR},cR=Object.assign(fa(AR,[["__cssModules",lR]]),{__name:"FcBotoesColarTexto"}),uR={class:"q-pa-xs"},dR={class:"text-body2"},mR=we({__name:"FcImportadorArquivo",props:{nome:{},rotulo:{},aceitos:{},dica:{},carregando:{type:Boolean},desabilitado:{type:Boolean}},emits:["arquivoLido","textoLido","erroTipo","erroOutro"],setup(e,{emit:t}){const o=t,a=R(null);function i(){a.value?.resetValidation(),a.value?.pickFiles()}async function r(n){if(n=n.replace(/\r\n/g,`
`),typeof n=="string"&&n.length)try{return o("textoLido",n)}catch{o("erroOutro")}}function A(n){if(n[0]?.failedPropValidation==="accept")return o("erroTipo");o("erroOutro")}return(n,s)=>{const l=Nt,c=cR;return w(),H("div",uR,[E(C(ZC),{ref_key:"picker",ref:a,"model-value":null,name:e.nome,accept:e.aceitos,"label-slot":"",square:"",outlined:"",dense:"","no-error-icon":"","hide-bottom-space":!0,loading:e.carregando,disable:e.carregando||e.desabilitado,color:"grey-9","bg-color":"grey-1","label-color":"grey-9",title:e.dica,onRejected:A,"onUpdate:modelValue":s[0]||(s[0]=u=>o("arquivoLido",u))},{label:U(()=>[q("div",dR,le(e.rotulo),1)]),prepend:U(()=>[E(l,{name:C(Qf),size:"20px",color:"grey-7 cursor-pointer",title:e.dica,onClick:ta(i,["stop","prevent"])},null,8,["name","title"])]),append:U(()=>[E(c,{desabilitado:e.carregando||e.desabilitado,style:{"margin-top":"-5px"},onTextoLido:r},null,8,["desabilitado"])]),_:1},8,["name","accept","loading","disable","title"])])}}}),fR=Object.assign(mR,{__name:"FcImportadorArquivo"});function pR(e){const t=cr(),o=ga(),a=new gs(e?.map(n=>n.documento)),i=a.documentosElegiveis;function r(n){const s="Documento não reconhecido";let l="";i.length>1?l=`
            Os documentos aceitos são apenas os seguintes:<br>
            <ul>
              ${i.map(c=>`<li>${c}</li>`).join("")}
            </ul>
          `:l=`O documento deve ser do tipo ${i[0]}`,t.erro(s,l,!1),o.erro(l),o.console.log({resultado:n,itens:e})}async function A(n){o.console.info("Analisando:",n);let s;if(n instanceof File||Re(n)?s=await a.ler(n):s=n,!s.identificado||s.tipo===void 0||s.nome===void 0)return r(s),Promise.resolve(void 0);const l=gs.obterTipoDocumentoPeloPlugin(s.nome);if(!ie(l))return r(s),Promise.resolve(void 0);const c=e?.find(u=>u.documento===l);if(c&&Po(c.acao)){o.console.info("Documento:",s.nome);const u=`Dados identificados: ${s.nome}`,d=s.quadroResumo?.map(g=>`${g[0]} <b>${g[1]}</b>`).join("<br>");return(c.pedirConfirmacao?await t.confirmacao(u,d,"Importar"):!0)?(c.acao(s),{dados:s,item:c}):void 0}else return r(s),Promise.resolve(void 0)}return{itens:e,documentos:i,analisar:A}}const gR={class:"row items-center"},vR=we({__name:"FcImportador",props:{nome:{default:"importador"},rotulo:{default:"Importar"},tamanho:{default:"250px"},arquivosAceitos:{default:()=>["application/pdf","text/plain","application/json"]},mensagemErroTipoDocumento:{default:'Somente são permitidos arquivos "pdf", "txt e json (PrevJud)".'},config:{default:()=>[]},desabilitado:{type:Boolean,default:!1},mostrarDetalhes:{type:Boolean}},emits:["sucesso","mostrarDetalhes","reiniciar"],setup(e,{emit:t}){const o=t,a=ga(),i=pR(e.config),r=cr(),A=R(!1);async function n(c){A.value=!0;let u;try{u=await i.analisar(c)}catch(d){return A.value=!1,a.erro(d),r.erro("Erro",a.extrairMensagemDeErro(d))}A.value=!1,u&&u.dados&&u.item&&o("sucesso",u)}function s(){r.erro("Erro de arquivo",e.mensagemErroTipoDocumento,!1)}function l(){r.erro("Falha de leitura","Arquivo/documento inválido.",!1)}return(c,u)=>{const d=fR;return w(),H("div",gR,[q("div",{style:Ze({width:e.tamanho})},[E(d,{nome:e.nome,rotulo:e.rotulo,carregando:C(A),desabilitado:e.desabilitado,aceitos:e.arquivosAceitos.join(","),dica:"Clique para importar um arquivo",onArquivoLido:u[0]||(u[0]=m=>n(m)),onTextoLido:u[1]||(u[1]=m=>n(m)),onErroTipo:u[2]||(u[2]=m=>s()),"onErro:outro":u[3]||(u[3]=m=>l())},null,8,["nome","rotulo","carregando","desabilitado","aceitos"])],4)])}}}),hR=Object.assign(vR,{__name:"FcImportador"}),BR={class:"row"},CR=we({__name:"FcComandosLaterais",props:{fullscreen:{type:Boolean},container:{}},emits:["alterarFullscreen"],setup(e,{emit:t}){const o=t,a=Ef();function i(){o("alterarFullscreen",!e.fullscreen),e.container&&a.fullscreen.toggle(e.container)}return(r,A)=>{const n=St;return w(),H("div",BR,[q("div",null,[E(n,{color:"grey-4","text-color":"grey-8",round:"",flat:"",icon:e.fullscreen?C(oB):C(aB),title:e.fullscreen?"Clique para retornar ao tamanho normal":"Clique para expandir",onClick:i},null,8,["icon","title"])])])}}}),bR=Object.assign(CR,{__name:"FcComandosLaterais"}),wR=["src"],FR=we({__name:"FcBarraSuperiorLogo",props:{url:{}},setup(e){return(t,o)=>(w(),H("div",{class:"row items-center cursor-pointer",onClick:o[0]||(o[0]=a=>C(nu)("/"))},[q("img",{src:e.url,alt:"Logo",style:{height:"36px",width:"auto",margin:"12px 6px"}},null,8,wR)]))}}),QR=Object.assign(FR,{__name:"FcBarraSuperiorLogo"}),ER=["src","alt"],yR={class:"row items-center justify-center q-py-xs",style:{width:"100%"}},IR=["src","alt"],UR=we({__name:"FcBarraSuperiorMenuItem",props:{rotulo:{},icone:{},imagem:{},url:{}},setup(e){async function t(o){if(o)return await nu(o,{open:{target:"_blank"}})}return(o,a)=>{const i=Nt,r=wf,A=GA,n=eA,s=Os;return e.rotulo&&e.rotulo.length?(w(),K(s,{key:0,clickable:"",dense:"","inset-level":0,onClick:a[0]||(a[0]=l=>t(e.url))},{default:U(()=>[E(r,{size:"md",class:"q-mr-sm"},{default:U(()=>[e.icone?(w(),K(i,{key:0,color:"grey-8",name:e.icone,size:"sm"},null,8,["name"])):e.imagem?(w(),H("img",{key:1,src:e.imagem,alt:e.rotulo,style:{width:"32px",height:"auto"}},null,8,ER)):ge("",!0)]),_:1}),E(n,null,{default:U(()=>[E(A,{class:"text-no-wrap text-grey-8"},{default:U(()=>[Pt(le(e.rotulo),1)]),_:1})]),_:1})]),_:1})):(w(),K(s,{key:1,clickable:"",dense:"","inset-level":0,onClick:a[1]||(a[1]=l=>t(e.url))},{default:U(()=>[q("div",yR,[e.icone?(w(),K(i,{key:0,color:"grey-8",name:e.icone,size:"lg"},null,8,["name"])):e.imagem?(w(),H("img",{key:1,src:e.imagem,alt:e.rotulo,style:{width:"110px",height:"auto"}},null,8,IR)):ge("",!0)])]),_:1}))}}}),SR=Object.assign(UR,{__name:"FcBarraSuperiorMenuItem"}),DR=we({__name:"FcBarraSuperiorMenu",setup(e){const t=Zt();return(o,a)=>{const i=ja,r=SR,A=GA,n=eA,s=Os,l=wp,c=gA,u=St;return w(),K(u,{flat:"",round:"",dense:"",icon:C(iB)},{default:U(()=>[E(c,{"auto-close":"",square:""},{default:U(()=>[E(l,{dense:"",padding:""},{default:U(()=>[(w(!0),H(Se,null,Ne(C(t).menu,(d,m)=>(w(),H(Se,{key:`menu-item-${m}`},[d.separador?(w(),K(i,{key:0,spaced:""})):(w(),K(r,{key:1,rotulo:d.rotulo,icone:d.icone,imagem:d.imagem,url:d.url},null,8,["rotulo","icone","imagem","url"]))],64))),128)),E(i,{spaced:""}),yt(o.$slots,"extensao-menu"),E(s,{dense:""},{default:U(()=>[E(n,null,{default:U(()=>[E(A,{caption:""},{default:U(()=>[Pt(le(C(t).nome.replace("@fc/","")),1)]),_:1})]),_:1}),E(n,{side:""},{default:U(()=>[E(A,{caption:""},{default:U(()=>[Pt(" v."+le(C(t).versao),1)]),_:1})]),_:1})]),_:1})]),_:3})]),_:3})]),_:3},8,["icon"])}}}),xR=Object.assign(DR,{__name:"FcBarraSuperiorMenu"}),PR=we({__name:"FcBarraSuperiorNavTabs",props:po({opcoes:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ro(e,"modelValue");return(o,a)=>{const i=uC;return w(),K(i,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=r=>t.value=r),options:e.opcoes,"text-color":"grey-7","toggle-color":"blue-1","toggle-text-color":"blue-10",unelevated:"",square:"","no-caps":"",ripple:!1,padding:"10px"},null,8,["modelValue","options"])}}}),_R=Object.assign(PR,{__name:"FcBarraSuperiorNavTabs"}),OR={class:"bg-red-1 text-red-10 q-pa-md",style:{"max-width":"350px"}},RR=we({__name:"FcDialogoErro",props:{titulo:{default:""},mensagem:{default:""}},setup(e){return(t,o)=>{const a=Fi,i=lr;return w(),K(i,{icon:C(Ps),label:e.titulo,"text-color":"white",color:"red",square:"",ripple:!1,class:"q-ml-md cursor-pointer"},{default:U(()=>[E(a,null,{default:U(()=>[q("div",OR,[q("span",null,le(e.mensagem),1)]),yt(t.$slots,"default")]),_:3})]),_:3},8,["icon","label"])}}}),MR=Object.assign(RR,{__name:"FcDialogoErro"}),LR={class:"bg-orange-1 text-orange-10 q-pa-md",style:{"max-width":"350px","white-space":"pre-wrap"}},HR=we({__name:"FcDialogoAlerta",props:{titulo:{default:""},mensagem:{default:""}},setup(e){return(t,o)=>{const a=Fi,i=lr;return w(),K(i,{icon:C(Ps),label:e.titulo,"text-color":"white",color:"yellow-10",square:"",ripple:!1,class:"q-ml-md cursor-pointer"},{default:U(()=>[E(a,null,{default:U(()=>[q("div",LR,[q("span",null,le(e.mensagem),1)]),yt(t.$slots,"default")]),_:3})]),_:3},8,["icon","label"])}}}),TR=Object.assign(HR,{__name:"FcDialogoAlerta"}),$R=we({__name:"FcArquivoComandos",emits:["novoCalculo","salvarCalculo","recuperarCalculo","limparDadosNavegador"],setup(e,{emit:t}){const o=t;return(a,i)=>{const r=St;return w(),H(Se,null,[E(r,{flat:"","no-caps":"",dense:"",color:"grey-8","text-color":"grey-8",icon:C(rB),label:"Salvar",title:"Salvar os dados do cálculo atual em um arquivo",onClick:i[0]||(i[0]=A=>o("salvarCalculo"))},null,8,["icon"]),E(r,{flat:"","no-caps":"",dense:"",color:"grey-8","text-color":"grey-8",icon:C(Qf),label:"Abrir",title:"Recuperar dados de cálculo salvos em um arquivo .calc",onClick:i[1]||(i[1]=A=>o("recuperarCalculo"))},null,8,["icon"]),E(r,{flat:"","no-caps":"",dense:"",color:"grey-8","text-color":"grey-8",icon:C(Cf),label:"Novo",title:"Iniciar um novo cálculo",onClick:i[2]||(i[2]=A=>o("novoCalculo"))},null,8,["icon"]),E(r,{round:"",flat:"","no-caps":"",dense:"",color:"red-8",icon:C(AB),class:"q-ml-md",title:"Limpar todos os dados da Fábrica de Cálculos do navegador. Use se estiver com problemas.",onClick:i[3]||(i[3]=A=>o("limparDadosNavegador"))},null,8,["icon"])],64)}}}),VR=Object.assign($R,{__name:"FcArquivoComandos"}),NR=we({__name:"FcBarraSuperior",props:po({logoUrl:{},opcoes:{},ocultarAbas:{type:Boolean},ocultarMenuArquivos:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:po(["novoCalculo","salvarCalculo","recuperarCalculo","limparDadosNavegador"],["update:modelValue"]),setup(e,{emit:t}){const o=t,a=Ro(e,"modelValue"),i=qu(),r=$v(),A=Zt();return(n,s)=>{const l=QR,c=Oa,u=xR,d=Ra,m=_R,g=MR,p=TR,f=VR;return w(),H(Se,null,[E(d,{class:be(`bg-${C(A).tema.barras.fundo} text-${C(A).tema.barras.texto}`)},{default:U(()=>[E(l,{url:e.logoUrl},null,8,["url"]),q("div",{class:"cursor-pointer text-h5",style:{position:"absolute",left:"50%",transform:"translateX(-50%)"},onClick:s[0]||(s[0]=v=>C(nu)("/"))},le(C(A).titulo),1),E(c),yt(n.$slots,"autenticacao"),E(u,null,{"extensao-menu":U(()=>[yt(n.$slots,"menu-superior")]),_:3})]),_:3},8,["class"]),e.ocultarMenuArquivos?ge("",!0):(w(),K(d,{key:0,class:"bg-grey-2"},{default:U(()=>[e.ocultarAbas?ge("",!0):(w(),K(m,{key:0,modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=v=>a.value=v),opcoes:e.opcoes},null,8,["modelValue","opcoes"])),yt(n.$slots,"outras-funcionalidades"),C(i).length?(w(),K(g,{key:1,titulo:"Há um problema. Clique aqui.",mensagem:C(i)},null,8,["mensagem"])):ge("",!0),C(r).length?(w(),K(p,{key:2,titulo:"Há um alerta. Clique aqui.",mensagem:C(r)},null,8,["mensagem"])):ge("",!0),E(c),E(f,{onSalvarCalculo:s[2]||(s[2]=v=>o("salvarCalculo")),onRecuperarCalculo:s[3]||(s[3]=v=>o("recuperarCalculo")),onNovoCalculo:s[4]||(s[4]=v=>o("novoCalculo")),onLimparDadosNavegador:s[5]||(s[5]=v=>o("limparDadosNavegador"))})]),_:3}))],64)}}}),qR=Object.assign(NR,{__name:"FcBarraSuperior"}),kR={},KR={class:"q-pa-sm"};function zR(e,t){return w(),H("div",KR,[yt(e.$slots,"calculo",{},()=>[t[0]||(t[0]=q("div",{style:{padding:"8px 16px"}}," - nenhum cálculo configurado - ",-1))])])}const GR=Object.assign(fa(kR,[["render",zR]]),{__name:"FcTelaDefault"}),jR={style:{"font-size":"0.8rem","font-family":"Arial, Helvetica, sans-serif"}},WR=we({__name:"FcBarraInferior",setup(e){const t=Zt();function o(){const i=new Date().getFullYear();return i===2023?i:`2023-${i}`}return(a,i)=>(w(),H("div",{class:be(["q-py-xs q-px-md row justify-center items-center",`bg-${C(t).tema.barras.fundo} text-${C(t).tema.barras.texto}`]),style:{height:"30px"}},[q("div",jR," © "+le(o())+" "+le(C(t).copyright),1)],2))}}),JR=Object.assign(WR,{__name:"FcBarraInferior"}),XR=""+new URL("fc-branco-horizontal.Dx2-Y8Je.png",import.meta.url).href;function YR(){const e=Zt();return Ia(`${e.nome}-nav-store`,()=>{const o=Zt(),a={label:"Cálculo",icon:nB,value:"calculo"},i=R(a.value),r=o.opcoesNav??[a],A=s=>{i.value=s};function n(){return r}return{opcaoPadrao:a,atual:i,navegarPara:A,obterOpcoes:n}})()}const ZR=we({__name:"FcPrincipal",props:{logoUrl:{default:()=>XR},cbTemDadosCarregados:{type:Function,default:()=>!1},cbNovoCalculo:{type:Function,default:()=>{}},cbSalvarCalculo:{type:Function,default:()=>{}},cbRecuperarCalculo:{type:Function,default:async e=>!1}},emits:["arquivoRecuperado"],setup(e,{emit:t}){const o=t,a=YR(),i=Zt(),{aviso:r,confirmacao:A}=cr(),n=F(()=>i.ocultarAbas!==!1?110:64);function s(){return e.cbTemDadosCarregados()}function l(){e.cbNovoCalculo()}function c(){e.cbSalvarCalculo()}async function u(h){await e.cbRecuperarCalculo(h)&&o("arquivoRecuperado")}const d={titulo:"Confirmação",mensagem:"Um novo cálculo apagará TODOS os dados atuais. Confirma?",botaoOk:"Confirmar",botaoCancela:"Cancelar"};async function m(h){const{titulo:B,mensagem:b,botaoOk:Q,botaoCancela:y}=h||d;(!s()||await A(B,b,Q,y))&&l()}function g(){if(s())return c();r("Informação","Não há dados para salvar.")}function p(){const h=document.createElement("input");h.type="file",h.accept=".calc",h.onchange=()=>{if(!h.files||!h.files.length)return;const B=Array.from(h.files);u(B[0])},h.click()}function f(h){a.navegarPara(h)}async function v(){await A("Atenção","Deseja realmente limpar os dados da Fábrica de Cálculos do navegador? A operação não poderá ser desfeita.","Confirmar","Cancelar")&&(localStorage.clear(),location.reload())}return No(async()=>{a.navegarPara("calculo"),await pt(),m({titulo:"Atenção",mensagem:'Existem dados já carregados no aplicativo. Deseja realizar um novo cálculo ou prosseguir com o atual?<br><br><strong class="text-red-10">Um novo cálculo apagará TODOS os dados atuais.</strong>',botaoOk:"Novo Cálculo",botaoCancela:"Continuar Atual"})}),(h,B)=>{const b=qR,Q=tb,y=GR,I=Hr,D=An,O=sb,S=lb,k=JR,W=eb,re=ib;return w(),K(re,{view:"hHh lpR fFf"},{default:U(()=>[E(Q,{elevated:"","height-hint":C(n)},{default:U(()=>[E(b,{modelValue:C(a).atual,"onUpdate:modelValue":[B[0]||(B[0]=$=>C(a).atual=$),f],opcoes:C(a).obterOpcoes(),"logo-url":e.logoUrl,"ocultar-abas":C(i).ocultarAbas===!0,"ocultar-menu-arquivos":C(i).ocultarMenuArquivos===!0,onSalvarCalculo:g,onRecuperarCalculo:p,onNovoCalculo:m,onLimparDadosNavegador:v},{autenticacao:U(()=>[yt(h.$slots,"autenticacao")]),"menu-superior":U(()=>[yt(h.$slots,"menu-superior")]),"outras-funcionalidades":U(()=>[yt(h.$slots,"outras-funcionalidades")]),_:3},8,["modelValue","opcoes","logo-url","ocultar-abas","ocultar-menu-arquivos"])]),_:3},8,["height-hint"]),E(S,null,{default:U(()=>[E(O,{class:"bg-grey-3"},{default:U(()=>[C(i).opcoesNav?(w(),K(D,{key:0,modelValue:C(a).atual,"onUpdate:modelValue":B[1]||(B[1]=$=>C(a).atual=$),"keep-alive":""},{default:U(()=>[yt(h.$slots,"opcoes",{},()=>[E(I,{name:"calculo"},{default:U(()=>[E(y)]),_:1})])]),_:3},8,["modelValue"])):yt(h.$slots,"default",{key:1},()=>[E(y)])]),_:3})]),_:3}),C(i).ocultarRodape?ge("",!0):(w(),K(W,{key:0},{default:U(()=>[E(k)]),_:1}))]),_:3})}}}),e3=Object.assign(ZR,{__name:"FcPrincipal"}),t3={class:"q-py-sm row items-center justify-center",style:{position:"relative"}},o3={class:"q-px-sm",style:{"margin-top":"-8px"}},a3=we({__name:"FcTelaPrincipal",props:po({cbTemDadosCarregados:{type:Function},cbNovoCalculo:{type:Function},cbSalvarCalculo:{type:Function},cbRecuperarCalculo:{type:Function},tabs:{},configImportacao:{},desabilitarImportador:{type:Boolean}},{modelValue:{default:"",required:!0},modelModifiers:{}}),emits:po(["documentoImportado","arquivoRecuperado"],["update:modelValue"]),setup(e,{emit:t}){const o=t,a=Ro(e,"modelValue"),i=R(),r=R(!1),A=F(()=>r.value?"calc(100vh - 70px)":"calc(100vh - 220px)");function n(s){o("documentoImportado",s)}return(s,l)=>{const c=hR,u=vu,d=gu,m=bR,g=Hr,p=e3;return w(),K(p,{"cb-tem-dados-carregados":e.cbTemDadosCarregados,"cb-novo-calculo":e.cbNovoCalculo,"cb-salvar-calculo":e.cbSalvarCalculo,"cb-recuperar-calculo":e.cbRecuperarCalculo,onArquivoRecuperado:l[2]||(l[2]=f=>o("arquivoRecuperado"))},{autenticacao:U(()=>[yt(s.$slots,"autenticacao")]),"outras-funcionalidades":U(()=>[Array.isArray(e.configImportacao)?(w(),K(c,{key:0,nome:"importador",rotulo:"Importar",config:e.configImportacao,desabilitado:e.desabilitarImportador,onSucesso:n},null,8,["config","desabilitado"])):ge("",!0),yt(s.$slots,"outras-funcionalidades")]),opcoes:U(()=>[E(g,{name:"calculo",class:"bg-grey-3 q-pa-none"},{default:U(()=>[E(C(qt),{ref_key:"container",ref:i,flat:"",square:"",class:"scroll overflow-auto q-pa-xs bg-grey-3"},{default:U(()=>[q("div",t3,[E(d,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=f=>a.value=f),dense:"","no-caps":"",align:"center","indicator-color":"transparent","active-color":"blue-10","active-bg-color":"white","content-class":"no-shadow rounded-borders q-px-xs q-pt-xs","active-class":`shadow-2 ${s.css.ativo}`,"left-icon":C(gf),"right-icon":C(pf),style:{"z-index":"2"},animated:"",swipeable:"","transition-prev":"fade","transition-next":"fade"},{default:U(()=>[(w(!0),H(Se,null,Ne(e.tabs,(f,v)=>(w(),K(u,{key:`${a.value}-${v}`,name:f,label:f,ripple:!1},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-class","left-icon","right-icon"]),E(m,{fullscreen:C(r),container:C(i)?.$el,style:{position:"absolute",right:"3px",top:"3px"},onAlterarFullscreen:l[1]||(l[1]=f=>r.value=f)},null,8,["fullscreen","container"])]),q("div",o3,[yt(s.$slots,"paineis",{alturaPainel:C(A)})])]),_:3},512)]),_:3})]),_:3},8,["cb-tem-dados-carregados","cb-novo-calculo","cb-salvar-calculo","cb-recuperar-calculo"])}}}),i3="_ativo_18q6w_1",r3={ativo:i3},A3={css:r3},n3=Object.assign(fa(a3,[["__cssModules",A3]]),{__name:"FcTelaPrincipal"}),Nv=[{nome:"competencia",rotulo:"Competência",tipo:se.Competencia,editavel:!1,deletavel:!1,estilos:{width:"100px"}},{nome:"valorCalculoInss",rotulo:"Salário Carta",tipo:se.Moeda,casas:2,editavel:!1,deletavel:!1,default:void 0,placeholder:"-",estilos:{width:"130px"}},{nome:"dataRecolhimentoCnis",rotulo:"Data Recolh. CNIS",tipo:se.Data,editavel:!1,deletavel:!1,estilos:{width:"140px"}},{nome:"valorCnis",rotulo:"Salário CNIS",tipo:se.Moeda,casas:2,editavel:!1,deletavel:!1,default:void 0,placeholder:"-",estilos:{width:"130px"}},{nome:"dataRecolhimentoPrevjud",rotulo:"Data Recolh. PrevJud",tipo:se.Data,editavel:!1,deletavel:!1,estilos:{width:"140px"}},{nome:"valorPrevjud",rotulo:"Salário PrevJud",tipo:se.Moeda,casas:2,editavel:!1,deletavel:!1,default:void 0,placeholder:"-",estilos:{width:"130px"}},{nome:"piso",rotulo:"Piso",tipo:se.Moeda,casas:2,editavel:!1,deletavel:!1,default:void 0,estilos:{width:"120px"}},{nome:"teto",rotulo:"Teto",tipo:se.Moeda,casas:2,editavel:!1,deletavel:!1,default:void 0,estilos:{width:"120px"}},{nome:"dataRecolhimentoUsuario",rotulo:"Modificar Data Recolh.",tipo:se.Data,editavel:!0,deletavel:!0,estilos:{width:"150px"}},{nome:"valorUsuario",rotulo:"Modificar Salário",tipo:se.Moeda,casas:2,editavel:!0,deletavel:!0,default:void 0,placeholder:"-",substituirZeroPorPlaceholder:!1,estilos:{width:"120px"}},{nome:"valorAcrescimo",rotulo:"Acréscimo",tipo:se.Moeda,casas:2,editavel:!0,deletavel:!0,default:void 0,placeholder:"-",substituirZeroPorPlaceholder:!1,estilos:{width:"120px"}},{nome:"observacao",rotulo:"Observação",tipo:se.Texto,editavel:!0,deletavel:!0,default:void 0,estilos:{width:"150px"}},{nome:"situacao",rotulo:"Sit.",tipo:se.Calculada,editavel:!1,deletavel:!1,estilos:{width:"30px"}}];Nv.filter(e=>e.editavel).map(e=>e.nome);function s3(e){{const t=new Set(["dataRecolhimentoCnis","dataRecolhimentoPrevjud","dataRecolhimentoUsuario"]);return Nv.filter(o=>!t.has(o.nome))}}function l3(e,t){const{valorUsuario:o,valorAcrescimo:a,valorCalculoInss:i,valorPrevjud:r,valorCnis:A}=e;if(ie(o))return o+(a??0);if(t){if(ie(i)&&i>0)return i+(a??0);if(ie(A))return A+(a??0);if(ie(r))return r+(a??0)}return ie(A)&&A>0?A+(a??0):ie(i)?i+(a??0):ie(r)?r+(a??0):0}function c3(e,t){const{valorUsuario:o,dataRecolhimentoUsuario:a,valorAcrescimo:i,valorCalculoInss:r,valorPrevjud:A,dataRecolhimentoPrevjud:n,valorCnis:s,dataRecolhimentoCnis:l,temSalario:c,piso:u,teto:d,observacao:m}=e,g=(o??0)+(i??0)>0||me(a),p=(r??0)>0,f=(s??0)>0||me(l),v=(A??0)>0||me(n),h=c&&p,B=c&&f,b=c&&v,y=(h||B||b)&&!g,I=Va(m);return{modificado:g,naCarta:p,noCnis:f,noPrevjud:v,temSalario:c,temSalarioNaCarta:h,temSalarioNoCnis:B,temSalarioNoPrevjud:b,salarioOficial:y,abaixoDoMinimo:t<u,acimaDoTeto:t>d,temObservacao:I}}function u3(e){const{temSalario:t,abaixoDoMinimo:o,acimaDoTeto:a}=e;return t?o?"▼":a?"▲":"":""}function d3(e){return e.salarioOficial?dt.ValorVerificado:e.modificado?dt.ValorModificado:dt.Normal}function Nl(e,t,o){return e.modificado&&o?dt.ValorModificado:t?dt.ValorVerificado:dt.Normal}function m3(e){return e.modificado?dt.ValorModificado:dt.Normal}function f3(e){return e.temObservacao?dt.ValorModificado:dt.Normal}function p3(e){return e.temSalario?e.abaixoDoMinimo?dt.Erro:e.acimaDoTeto?dt.Atencao:dt.Normal:dt.Normal}function g3(e,t){switch(e){case"competencia":return d3(t);case"valorCalculoInss":return Nl(t,t.temSalarioNaCarta,t.naCarta);case"valorCnis":case"dataRecolhimentoCnis":return Nl(t,t.temSalarioNoCnis,t.noCnis);case"valorPrevjud":case"dataRecolhimentoPrevjud":return Nl(t,t.temSalarioNoPrevjud,t.noPrevjud);case"dataRecolhimentoUsuario":case"valorUsuario":case"valorAcrescimo":return m3(t);case"observacao":return f3(t);case"situacao":return p3(t);default:return dt.Normal}}function v3({salarios:e,manterSalariosCarta:t=!0,origemPeriodo:o}){const a=s3(),i=e.map(r=>{const{competencia:A,excluido:n,temSalario:s}=r,l=n,c=s,u=s,d=l3(r,t),m=c3(r,d),g=a.reduce((p,f)=>{const v=f.nome,h="default"in f?f.default:void 0,B=f.nome==="situacao"?u3(m):r[v]??h,b=g3(v,m),Q=!1;return p[v]={valor:B,status:b,icone:Q},p},{});return{id:A.toLocaleDateString("pt-BR"),desabilitada:l,podeDesabilitar:c,podeExcluir:u,celulas:g}});return{colunas:a,linhas:i}}const h3=we({__name:"FcExclusaoSalarios",emits:[...Ar.emits],setup(e){const{dialogRef:t,onDialogHide:o,onDialogOK:a,onDialogCancel:i}=Ar(),r=[{label:"Carta",value:"Carta"},{label:"CNIS",value:"CNIS"},{label:"Prevjud",value:"Prevjud"},{label:"Modificadores",value:"Modificadores"}],A=R(r.map(c=>c.value)),n=R(!0);Je(A,c=>{n.value=c.length===r.length}),No(()=>{A.value=r.map(c=>c.value),n.value=!0});function s(c){n.value=c,A.value=c?r.map(u=>u.value):[]}function l(){const c=A.value,u=c.length===r.length,d=c.includes("CNIS"),m=c.includes("Carta"),g=c.includes("Modificadores"),p=c.includes("Prevjud");return{todos:u,carta:m,cnis:d,prevjud:p,usuario:g}}return(c,u)=>{const d=pa,m=Xi,g=tu,p=St,f=au,v=qt,h=sr;return w(),K(h,{ref_key:"dialogRef",ref:t,onHide:C(o)},{default:U(()=>[E(v,{style:{"min-width":"360px"}},{default:U(()=>[E(d,{class:"text-h6"},{default:U(()=>[...u[3]||(u[3]=[Pt(" Selecione as opções de exclusão ",-1)])]),_:1}),E(d,null,{default:U(()=>[E(m,{modelValue:n.value,"onUpdate:modelValue":[u[0]||(u[0]=B=>n.value=B),s],label:"Todos"},null,8,["modelValue"]),E(g,{modelValue:A.value,"onUpdate:modelValue":u[1]||(u[1]=B=>A.value=B),type:"checkbox",options:r},null,8,["modelValue"])]),_:1}),E(f,{align:"right"},{default:U(()=>[E(p,{flat:"","no-caps":"",color:"red",label:"Cancelar",onClick:C(i)},null,8,["onClick"]),E(p,{flat:"","no-caps":"",color:"primary",label:"Apagar",onClick:u[2]||(u[2]=B=>C(a)(l()))})]),_:1})]),_:1})]),_:1},8,["onHide"])}}}),B3=Object.assign(h3,{__name:"FcExclusaoSalarios"});function C3(){return new Promise(e=>{try{Qr.create({component:B3}).onOk(t=>e(t)).onCancel(()=>e(!1)).onDismiss(()=>e(!1))}catch{e(!1)}})}function b3(){const e=Zt();return Ia(`${e.nome}-parametros-tempo-store`,()=>{const o=R(Ki.ImplementoIdade),a=R(!0),i=R(!0),r=R(Na.InicioContribuicaoComDeficiencia),A={tipo:mt.Campo,campo:{tipo:bt.Selecao,ref:o,atualizar:v=>o.value=v,parametros:{nome:"marco-carencia",rotulo:"Marco carência",opcoes:Ki.obterOpcoes(),classes:"col-xs-12 col-sm-8 col-md-6 col-lg-4"}}},n={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:a,atualizar:v=>a.value=v,parametros:{nome:"carencia-apos-ec-103",rotulo:"Carência necessária após EC 103",classes:"q-px-md"}}},s={tipo:mt.Campo,campo:{tipo:bt.Opcao,ref:i,atualizar:v=>i.value=v,parametros:{nome:"analisar-periodo-abaixo-do-minimo",rotulo:"Excluir competências abaixo do mínimo após a EC 103",classes:"q-px-md",dica:{mensagem:"Habilite para que sejam excluídas automaticamente as competências com salários inferiores ao piso a partir da EC 103 (nov/2019)."}}}},l={tipo:mt.Campo,campo:{tipo:bt.Selecao,ref:r,atualizar:v=>r.value=v,parametros:{nome:"requisito-b41-deficiente",rotulo:"Requisito B41",opcoes:Na.obterOpcoes(),classes:"col-xs-12 col-sm-8 col-md-6 col-lg-4"}}},c=Iy('Informe os períodos de deficiência em "Períodos > Deficiência".'),u={titulo:"Opções Tempo",secoes:[{titulo:"Opções Gerais",cor:`bg-${e.tema.corPrimaria}-9 text-white`,temaEscuro:!0,linhas:[[A],[n],[s]]},{titulo:"Opções PCD",cor:`bg-${e.tema.corPrimaria}-9 text-white`,temaEscuro:!0,linhas:[[l],[c]]}]};function d(){return{marcoCarencia:xo(o.value),carenciaAposEc103:xo(a.value),excluirCompetenciasAbaixoDoMinimoAposEc103:xo(i.value),requisitoB41Pcd:xo(r.value)}}function m(v){o.value=ie(v.marcoCarencia)&&Ki[v.marcoCarencia]?v.marcoCarencia:Ki.ImplementoIdade,a.value=v.carenciaAposEc103??!0,i.value=v.excluirCompetenciasAbaixoDoMinimoAposEc103??!0,r.value=ie(v.requisitoB41Pcd)&&Na[v.requisitoB41Pcd]?v.requisitoB41Pcd:Na.InicioContribuicaoComDeficiencia}function g(){m({})}function p(){return!1}function f(){return d()}return{marcoCarencia:o,requisitoB41Pcd:r,carenciaAposEc103:a,excluirCompetenciasAbaixoDoMinimoAposEc103:i,esquemaFormulario:u,obterDadosParaArmazenamento:d,atualizarDados:m,reiniciar:g,temDadosCarregados:p,serializar:f}},{persist:{omit:["esquemaFormulario","ZodSchema"],serializer:{deserialize:o=>JSON.parse(o,ko),serialize:JSON.stringify}}})()}function qv(e,t){const o=Zt();return Ia(`${o.nome}-salarios-store`,()=>{const i=b3(),r=new Date(`${new Date().toISOString().slice(0,10)}T00:00`),A=R(new oe("01/01/1983").competencia()),n=R(new oe(r).competencia()),s=new b1,l=ai({}),c=ai([]),u=F(()=>v3({salarios:c.value,manterSalariosCarta:void 0,origemPeriodo:void 0})),d=F(()=>!A?.value||!n?.value?[]:lu(A.value,n.value));Je([()=>i.excluirCompetenciasAbaixoDoMinimoAposEc103,()=>d.value],()=>{f()});function m(z){s.importarDaCarta(z),v()}function g(z,N=[]){s.importarDePeriodos(z,N),v()}function p(z){s.incorporarSalarios(z),v()}function f(){c.value=s.obterListaDadosCompletos(d.value,i.excluirCompetenciasAbaixoDoMinimoAposEc103)}function v(){l.value=s.serializar(),f()}function h(z,N){s.atualizarOuCriar(z,N),v()}function B(z){s.atualizarOuCriarMultiplos(z),v()}function b(z){s.remover(z),v()}function Q(z){s.removerMultiplos(z),v()}async function y(){const z=await C3();if(z){if(z.todos){s.removerTudo(),v();return}z.carta&&s.removerSalariosCarta(),z.cnis&&s.removerSalariosCnis(),z.prevjud&&s.removerSalariosPrevjud(),z.usuario&&s.removerSalariosUsuario(),v()}}function I(z,N){s.removerValor(z,N),v()}function D(z,N){s.removerValoresMultiplos(z,N),v()}function O(z,N,x){const M={[N]:x},X=Object.fromEntries(z.map(ae=>[ae,M]));s.atualizarOuCriarMultiplos(X),v()}function S(z){return s.obterPorId(z)}function k(z,N){s.alterarStatusExcluido(z,N),v()}function W(){return Object.keys(l.value).length>0}function re(){s.removerTudo(),v()}function $(){return JSON.parse(JSON.stringify(s.serializar()))}return v(),{lista:c,registros:l,competenciaInicial:A,competenciaFinal:n,dadosPlanilha:u,importarDaCarta:m,importarDePeriodos:g,incorporarSalarios:p,atualizar:h,atualizarMultiplos:B,remover:b,removerMultiplos:Q,removerTudo:y,removerValor:I,removerValores:D,repetir:O,obterPorId:S,alterarStatusExcluido:k,temDadosCarregados:W,reiniciar:re,serializar:$}},{persist:{pick:["registros"],afterHydrate(i){i.store.atualizarMultiplos(i.store.registros)},serializer:{deserialize:i=>JSON.parse(i,ko),serialize:JSON.stringify}}})()}const w3=we({__name:"FcCnisOpcoesImportacao",props:{titulo:{default:"Dados Importação CNIS"},periodos:{},segurado:{},opcoesFiltro:{},dicaPeriodos:{}},emits:[...Ar.emits],setup(e){const{dialogRef:t,onDialogHide:o,onDialogOK:a,onDialogCancel:i}=Ar(),r=Zt(),A=R([]),n=R({}),s={periodo:!0,salarios:!0};function l(){a({dadosSegurado:A.value,vinculos:n.value})}function c(){i()}return fA(()=>{e.opcoesFiltro&&(A.value=e.opcoesFiltro.dadosSegurado||[],n.value=e.opcoesFiltro.vinculos||{})}),(u,d)=>{const m=Qi,g=Oa,p=St,f=Ra,v=Ag,h=ng,B=Ms,b=pa,Q=au,y=qt,I=sr;return w(),K(I,{ref_key:"dialogRef",ref:t,onHide:C(o)},{default:U(()=>[E(y,{square:"",style:{width:"1150px","max-width":"90vw",overflow:"hidden"}},{default:U(()=>[E(f,{class:be(`bg-${C(r).tema.corPrimaria}-9 text-white`)},{default:U(()=>[E(m,null,{default:U(()=>[Pt(le(e.titulo),1)]),_:1}),E(g),E(p,{round:"",dense:"",flat:"",icon:"mdiClose"in u?u.mdiClose:C(ya),onClick:c},null,8,["icon"])]),_:1},8,["class"]),E(b,{class:"q-px-lg"},{default:U(()=>[E(B,{style:{height:"calc(100vh - 250px)"}},{default:U(()=>[e.segurado?(w(),K(v,{key:0,modelValue:C(A),"onUpdate:modelValue":d[0]||(d[0]=D=>Tt(A)?A.value=D:null),"dados-segurado":e.segurado},null,8,["modelValue","dados-segurado"])):ge("",!0),e.periodos.length?(w(),K(h,{key:1,modelValue:C(n),"onUpdate:modelValue":d[1]||(d[1]=D=>Tt(n)?n.value=D:null),periodos:e.periodos,"habilitar-dados-vinculo":s,dica:e.dicaPeriodos},null,8,["modelValue","periodos","dica"])):ge("",!0)]),_:1})]),_:1}),E(Q,{align:"right"},{default:U(()=>[E(p,{flat:"","no-caps":"",label:"Cancelar",color:"red-10",class:"q-mr-sm q-mb-sm",onClick:c}),E(p,{flat:"","no-caps":"",label:"Importar",color:"blue-8",class:"q-mr-md q-mb-sm",onClick:l})]),_:1})]),_:1})]),_:1},8,["onHide"])}}}),F3=Object.assign(w3,{__name:"FcCnisOpcoesImportacao"});function Q3(e,t,o,a){return new Promise(i=>{try{Qr.create({component:F3,componentProps:{periodos:t,segurado:e,opcoesFiltro:o,dicaPeriodos:a}}).onOk(r=>i(r)).onCancel(()=>i(!1)).onDismiss(()=>i(!1))}catch{i(!1)}})}function E3(e){if(e)return{nome:e.nome,nascimento:e.nascimento}}function y3(e){if(!e)return;const t=["nome","nascimento"],o=e?.vinculos.reduce((a,i)=>(a[`${i.seq}`]={periodo:!0,salarios:!0},a),{});return{dadosSegurado:t,vinculos:o}}function I3(){const e=Zt();return Ia(`${e.nome}-cnis-store`,()=>{const o=new Or,a=new Or,i=sg(Sa.Cnis),r=i.plugins,A=r.map(k=>k.nome),n=ai(""),s=ai(i.dadosDocumento),l=ai(),c=F(()=>s.value?.nome),u=F(()=>s.value?.identificado),d=F(()=>s.value?.dadosEstruturados),m=F(()=>d.value?.segurado),g=F(()=>E3(d.value?.segurado)),p=F(()=>(d.value?.vinculos??[]).map($1)),f=F(()=>p.value.length?xt(p.value[0].dataInicial):void 0),v=F(()=>p.value.length?xt(p.value.at(-1).dataFinal):void 0);async function h(k){if(l.value=void 0,!u.value||!p.value.length)return;const W=await Q3(g.value,p.value,l.value,k);W?(l.value=W,s.value={...s.value,dadosEstruturados:{...d.value,opcoesFiltro:W}}):y()}async function B(k){!k.identificado||!k.dadosEstruturados||!A.includes(k.nome??"")||(s.value=k,n.value=s.value.texto??"",l.value=y3(d.value))}async function b(k){y(),k instanceof File||Re(k)?(await i.ler(k),await B(i.dadosDocumento)):await B(k)}async function Q(k){await b(k),await h()}function y(){i.reiniciar(),s.value=i.dadosDocumento,n.value="",l.value=void 0,o.apagar(),a.apagar()}function I({filtrar:k=!1}){if(!u.value)return[];const W=o.recuperar();if(W)return W.dados;const re=$s({filtrar:k,periodos:p.value,opcoesFiltroPeriodos:l.value?.vinculos});return o.atualizar(re),re}function D(){return Zp({periodos:p.value,opcoesFiltroPeriodos:l.value?.vinculos})}function O(){return ac({periodos:p.value,opcoesFiltroPeriodos:l.value?.vinculos})}function S(){return ac({periodos:p.value,opcoesFiltroPeriodos:l.value?.vinculos,excluirImportadosNoPeriodo:!1})}return{nome:c,identificado:u,texto:n,dadosDocumento:s,dadosEstruturados:d,dadosSegurado:m,seguradoNomeNascimento:g,periodos:p,competenciaInicial:f,competenciaFinal:v,plugins:r,permitidos:A,opcoesFiltro:l,analisar:b,atualizarOpcoesFiltro:h,analisarComOpcoesFiltro:Q,reiniciar:y,obterPeriodos:I,obterPeriodosFiltrados:D,obterSalariosIndependentes:O,obterTodosSalariosSelecao:S}},{persist:{pick:["texto","opcoesFiltro"],afterHydrate:o=>{const a=o.store.opcoesFiltro;o.store.analisar(o.store.texto),o.store.opcoesFiltro=a},serializer:{deserialize:o=>JSON.parse(o,ko),serialize:JSON.stringify}}})()}var Mc=(e=>(e[e.Parametros=0]="Parametros",e[e.Periodos=1]="Periodos",e[e.Salarios=2]="Salarios",e))(Mc||{});function U3(){const e=ln(),t=qv(),o=Ns(),a=Fu(),i=qs(),r=I3(),A=ga(),n=Ef();function s(v){if(v.length){const h=`Foram encontrados problemas ao importar os dados:<br>${v.join(";<br>")}.`;n.dialog({title:"Problemas na importação",message:h,ok:"Entendi",html:!0,persistent:!0})}}function l(v,h){h?.includes("nome")&&v?.nome&&(e.nome=v.nome),h?.includes("nascimento")&&me(v?.nascimento)&&(e.nascimento=v.nascimento),h?.includes("sexo")&&ie(v?.sexo)&&(e.sexo=v?.sexo)}async function c(v){if(!v.dadosEstruturados)throw new Error("Não foi possível identificar os dados do Sistema de RH.");const h=v.dadosEstruturados;e.nome=h.dadosServidor.nome,e.rf=h.dadosServidor.rf,e.sexo=h.dadosServidor.sexo,h.dadosServidor.dataNascimento&&(e.nascimento=h.dadosServidor.dataNascimento);for(const B of h.afastamentos)i.adicionar(B);for(const B of h.averbacoes)o.adicionar(B)}async function u(v){a.analisar(v)}async function d(v){if(!v.dadosEstruturados)throw new Error("Não foi possível identificar os dados do CNIS.");await r.analisarComOpcoesFiltro(v);const h=r.opcoesFiltro;if(!h)return;l(r.dadosSegurado,h.dadosSegurado);const B=[];for(const b of r.obterPeriodosFiltrados())try{o.adicionar({...b,metodoCalculoDias:io.Dias365,rgps:!0,carreira:!1,cargoAtual:!1,servicoPublico:!1})}catch(Q){B.push(`seq. ${b.seq}: ${xt(b.dataInicial)?.toLocaleDateString("pt-BR")} a ${xt(b.dataFinal)?.toLocaleDateString("pt-BR")||"-"}`),A.erro(Q)}t.incorporarSalarios(r.obterSalariosIndependentes()),s(B)}async function m(v){if(!v?.dadosEstruturados)throw new Error("Não foi possível identificar os dados do tempo de contribuição.");const h=v.dadosEstruturados;for(const B of h){const{dataInicial:b,dataFinal:Q,descricao:y}=B;o.adicionar({dataInicial:b,dataFinal:Q??b,descricao:y,formaContagem:Qe.Comum,grauDeficiencia:ke.SemDeficiencia,contarCarencia:!0,motivoContagem:xa.NaoDefinido,observacao:"",excluido:!1,prioritario:!1,metodoCalculoDias:io.DataData,rgps:!1,carreira:!1,cargoAtual:!1,servicoPublico:!0})}}const g=[{documento:Sa.JsonSistemaRh,pedirConfirmacao:!0,acao:c},{documento:Sa.JsonPrevjud,pedirConfirmacao:!1,acao:u},{documento:Sa.Cnis,pedirConfirmacao:!1,acao:d},{documento:Sa.TcSimples,pedirConfirmacao:!0,acao:m}];async function p(v){if(!v?.dadosEstruturados||v.tipo!==Sa.JsonPrevjud)throw new Error("Não foi possível identificar os dados do PREVJUD.");const h=await a.atualizarOpcoesFiltro({habilitarDadosBeneficio:{devido:!1,pago:!1,comoSalario:!0,dadosPagamentos:!1,salariosCarta:!0},habilitarDadosVinculo:{periodo:!0,salarios:!0}});if(!h)return;let B=0;l(a.dadosSegurado,h.dadosSegurado);const b=Object.entries(h?.beneficios??{});b.length&&(B=2);for(const[D,O]of b){const S=a.obterBeneficio(D);if(!S)return;const k={...S},{salariosCarta:W}=O;W&&k.cartaConcessao.salariosConsolidados&&t.atualizarMultiplos(k.cartaConcessao.salariosConsolidados)}const Q=Object.entries(h?.vinculos??{}),y=Q.some(([D,O])=>O.periodo),I=Q.some(([D,O])=>O.salarios&&!O.periodo);if(y?B=1:I&&(B=2),y)for(const D of a.obterPeriodosFiltrados())o.adicionar({...D,metodoCalculoDias:io.Dias365,rgps:!0,carreira:!1,cargoAtual:!1,servicoPublico:!1});return t.incorporarSalarios(a.obterSalariosIndependentes()),B}async function f(v){const{dados:h,item:B}=v;if(B.documento===Sa.Cnis){const b=h.dadosEstruturados.opcoesFiltro;if(!b?.vinculos&&!b?.dadosSegurado)return;let Q=0;const y=Object.entries(b.vinculos??{}),I=y.some(([O,S])=>S.periodo);return y.some(([O,S])=>S.salarios&&!S.periodo)?Q=2:I&&(Q=1),Q}if(B.documento===Sa.JsonPrevjud)return await p(h);if(B.documento===Sa.TcSimples||B.documento===Sa.JsonSistemaRh)return 1}return{configImportacao:g,obterPreponderante:f}}function S3(){const e=Zt(),t=yu([]),o=ln(),a=Ns(),i=qs(),r=cn(),A=qv(),n=sn(),s=qu(),l=$v();function c(){return o.temDadosCarregados()||a.temDadosCarregados()||i.temDadosCarregados()||r.temDadosCarregados()||A.temDadosCarregados()||n.temDadosCarregados()}function u(){o.reiniciar(),a.reiniciar(),i.reiniciar(),r.reiniciar(),A.reiniciar(),n.reiniciar(),s.value="",l.value=""}function d(){const g={calculo:e.nome,versao:e.versao,timestamp:new Date().toISOString(),dados:{servidor:o.obterDadosParaArmazenamento(),periodos:a.registros,afastamentos:i.registros,periodosPcd:r.registros,salarios:A.registros,parametrosGerais:n.obterDadosParaArmazenamento()}};t.salvar(g)}async function m(g){const p=c(),f=await t.abrir(g,p);if(!f)return!1;u();const{dados:v}=f;return v.servidor&&o.atualizarDados(v.servidor),v.periodos&&a.adicionarMultiplos(v.periodos),v.afastamentos&&i.adicionarMultiplos(v.afastamentos),v.periodosPcd&&r.adicionarMultiplos(v.periodosPcd),v.salarios&&A.atualizarMultiplos(v.salarios),v.parametrosGerais&&n.atualizarDados(v.parametrosGerais),!0}return{temDadosCarregados:c,limparDados:u,salvar:d,abrir:m}}var kv=(e=>(e.Parametros="Parâmetros",e.Periodos="Períodos",e.CalculoTempo="Cálculo Tempo",e))(kv||{});const D3=we({__name:"RppsPrincipal",setup(e){const t=Object.values(kv),o=R("Parâmetros"),a=R(),i=S3(),r=()=>i.temDadosCarregados(),A=()=>i.limparDados(),n=()=>i.salvar(),s=m=>i.abrir(m),l=U3(),c=Fu();async function u(m){if(m!==void 0){if(typeof m=="string"&&(o.value=m,o.value==="Cálculo Tempo")){await pt(),a.value?.calcular();return}m===Mc.Periodos?o.value="Períodos":m===Mc.Parametros&&(o.value="Parâmetros")}}async function d(m){if(!m)return;const g=await l.obterPreponderante(m);u(g)}return(m,g)=>{const p=xQ,f=nE,v=lB,h=Hr,B=lI,b=iR,Q=An,y=n3;return w(),K(y,{modelValue:C(o),"onUpdate:modelValue":[g[1]||(g[1]=I=>Tt(o)?o.value=I:null),u],tabs:C(t),"config-importacao":C(l).configImportacao,"cb-tem-dados-carregados":r,"cb-novo-calculo":A,"cb-salvar-calculo":n,"cb-recuperar-calculo":s,"ocultar-abas":!0,onDocumentoImportado:d,onArquivoRecuperado:g[2]||(g[2]=I=>u("Parâmetros"))},{"outras-funcionalidades":U(()=>[C(c).identificado?(w(),K(p,{key:0,tamanho:"210px",onMostrarDetalhes:d})):ge("",!0)]),autenticacao:U(()=>[yt(m.$slots,"autenticacao")]),paineis:U(({alturaPainel:I})=>[E(Q,{modelValue:C(o),"onUpdate:modelValue":g[0]||(g[0]=D=>Tt(o)?o.value=D:null),"keep-alive":"",class:"shadow-2"},{default:U(()=>[E(h,{name:"Parâmetros",style:Ze({height:I})},{default:U(()=>[E(v,null,{default:U(()=>[E(f)]),_:1})]),_:1},8,["name","style"]),E(h,{name:"Períodos",style:Ze({height:I})},{default:U(()=>[E(v,null,{default:U(()=>[E(B,{"altura-painel":I},null,8,["altura-painel"])]),_:2},1024)]),_:2},1032,["name","style"]),E(h,{name:"Cálculo Tempo",style:Ze({height:I})},{default:U(()=>[E(v,null,{default:U(()=>[E(b,{ref_key:"calculoTempo",ref:a,"altura-painel":I},null,8,["altura-painel"])]),_:2},1024)]),_:2},1032,["name","style"])]),_:2},1032,["modelValue"])]),_:3},8,["modelValue","tabs","config-importacao"])}}}),x3=Object.assign(D3,{__name:"RppsPrincipal"}),P3={};function _3(e,t){const o=x3;return w(),K(o)}const L3=fa(P3,[["render",_3]]);export{L3 as default};
